    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::NYTProf version 4.06
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <title>Profile of DBI.pm</title>
<link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="js/jquery-min.js"></script> 

    <script type="text/javascript" src="js/jquery-tablesorter-min.js"></script> 
    <link rel="stylesheet" type="text/css" href="js/style-tablesorter.css" />
    <script type="text/javascript">
    // when a column is first clicked on to sort it, use descending order
    // XXX doesn't seem to work (and not just because the tablesorter formatSortingOrder() is broken)
    $.tablesorter.defaults.sortInitialOrder = "desc";
    // add parser through the tablesorter addParser method 
    $.tablesorter.addParser({
        id: 'fmt_time',   // name of this parser
        is: function(s) { 
            return false; // return false so this parser is not auto detected 
        }, 
        format: function(orig) { // format data for normalization 
            // console.log(orig);
            val = orig.replace(/ns/,'');
            if (val != orig) { return val / (1000*1000*1000); } 
            val = orig.replace(/Âµs/,''); /* XXX use &micro; ? */
            if (val != orig) { return val / (1000*1000); } 
            var val = orig.replace(/ms/,'');
            if (val != orig) { return val / (1000); }
            var val = orig.replace(/s/,'');
            if (val != orig) { return val; }
            if (orig == '0') { return orig; } 
            console.log('no match for fmt_time of '.concat(orig));
            return orig;
        },
        type: 'numeric' // set type, either numeric or text 
    }); 
    </script> 
</head>

<body > 
<div class="header" style="position: relative; overflow-x: hidden; overflow-y: hidden; z-index: 0; ">
<div class="header_back">
            <a href="index.html">&larr; Index</a>
        </div>
<div class="headerForeground" style="float: left">
    <span class="siteTitle">NYTProf Performance Profile</span>
    <span class="siteSubtitle">&emsp;&emsp;<span>&laquo;&emsp;<span class="mode_btn"><a href="DBI-pm-1359-block.html">block view</a></span>&emsp;&bull;&emsp;<span class="mode_btn mode_btn_selected">line view</span>&emsp;&bull;&emsp;<span class="mode_btn"><a href="DBI-pm-1359-sub.html">sub view</a></span>&emsp;&raquo;</span><br />
            For script/nytprof.pl
        </span>
</div>
<div class="headerForeground" style="float: right; text-align: right">
    <span class="siteTitle">&nbsp;</span>
    <span class="siteSubtitle">Run on Thu May 31 16:29:39 2012<br />Reported on Thu May 31 16:40:13 2012</span>
</div>
<div style="position: absolute; left: 0px; top: 0%; width: 100%; height: 101%; z-index: -1; background-color: rgb(17, 136, 255); "></div>
<div style="position: absolute; left: 0px; top: 2%; width: 100%; height: 99%; z-index: -1; background-color: rgb(16, 134, 253); "></div>
<div style="position: absolute; left: 0px; top: 4%; width: 100%; height: 97%; z-index: -1; background-color: rgb(16, 133, 252); "></div>
<div style="position: absolute; left: 0px; top: 6%; width: 100%; height: 95%; z-index: -1; background-color: rgb(15, 131, 250); "></div>
<div style="position: absolute; left: 0px; top: 8%; width: 100%; height: 93%; z-index: -1; background-color: rgb(15, 130, 249); "></div>
<div style="position: absolute; left: 0px; top: 10%; width: 100%; height: 91%; z-index: -1; background-color: rgb(15, 129, 248); "></div>
<div style="position: absolute; left: 0px; top: 12%; width: 100%; height: 89%; z-index: -1; background-color: rgb(14, 127, 246); "></div>
<div style="position: absolute; left: 0px; top: 14%; width: 100%; height: 87%; z-index: -1; background-color: rgb(14, 126, 245); "></div>
<div style="position: absolute; left: 0px; top: 16%; width: 100%; height: 85%; z-index: -1; background-color: rgb(14, 125, 244); "></div>
<div style="position: absolute; left: 0px; top: 18%; width: 100%; height: 83%; z-index: -1; background-color: rgb(13, 123, 242); "></div>
<div style="position: absolute; left: 0px; top: 20%; width: 100%; height: 81%; z-index: -1; background-color: rgb(13, 122, 241); "></div>
<div style="position: absolute; left: 0px; top: 22%; width: 100%; height: 79%; z-index: -1; background-color: rgb(13, 121, 240); "></div>
<div style="position: absolute; left: 0px; top: 24%; width: 100%; height: 77%; z-index: -1; background-color: rgb(12, 119, 238); "></div>
<div style="position: absolute; left: 0px; top: 26%; width: 100%; height: 75%; z-index: -1; background-color: rgb(12, 118, 237); "></div>
<div style="position: absolute; left: 0px; top: 28%; width: 100%; height: 73%; z-index: -1; background-color: rgb(12, 116, 235); "></div>
<div style="position: absolute; left: 0px; top: 30%; width: 100%; height: 71%; z-index: -1; background-color: rgb(11, 115, 234); "></div>
<div style="position: absolute; left: 0px; top: 32%; width: 100%; height: 69%; z-index: -1; background-color: rgb(11, 114, 233); "></div>
<div style="position: absolute; left: 0px; top: 34%; width: 100%; height: 67%; z-index: -1; background-color: rgb(11, 112, 231); "></div>
<div style="position: absolute; left: 0px; top: 36%; width: 100%; height: 65%; z-index: -1; background-color: rgb(10, 111, 230); "></div>
<div style="position: absolute; left: 0px; top: 38%; width: 100%; height: 63%; z-index: -1; background-color: rgb(10, 110, 229); "></div>
<div style="position: absolute; left: 0px; top: 40%; width: 100%; height: 61%; z-index: -1; background-color: rgb(10, 108, 227); "></div>
<div style="position: absolute; left: 0px; top: 42%; width: 100%; height: 59%; z-index: -1; background-color: rgb(9, 107, 226); "></div>
<div style="position: absolute; left: 0px; top: 44%; width: 100%; height: 57%; z-index: -1; background-color: rgb(9, 106, 225); "></div>
<div style="position: absolute; left: 0px; top: 46%; width: 100%; height: 55%; z-index: -1; background-color: rgb(9, 104, 223); "></div>
<div style="position: absolute; left: 0px; top: 48%; width: 100%; height: 53%; z-index: -1; background-color: rgb(8, 103, 222); "></div>
<div style="position: absolute; left: 0px; top: 50%; width: 100%; height: 51%; z-index: -1; background-color: rgb(8, 102, 221); "></div>
<div style="position: absolute; left: 0px; top: 52%; width: 100%; height: 49%; z-index: -1; background-color: rgb(8, 100, 219); "></div>
<div style="position: absolute; left: 0px; top: 54%; width: 100%; height: 47%; z-index: -1; background-color: rgb(7, 99, 218); "></div>
<div style="position: absolute; left: 0px; top: 56%; width: 100%; height: 45%; z-index: -1; background-color: rgb(7, 97, 216); "></div>
<div style="position: absolute; left: 0px; top: 58%; width: 100%; height: 43%; z-index: -1; background-color: rgb(7, 96, 215); "></div>
<div style="position: absolute; left: 0px; top: 60%; width: 100%; height: 41%; z-index: -1; background-color: rgb(6, 95, 214); "></div>
<div style="position: absolute; left: 0px; top: 62%; width: 100%; height: 39%; z-index: -1; background-color: rgb(6, 93, 212); "></div>
<div style="position: absolute; left: 0px; top: 64%; width: 100%; height: 37%; z-index: -1; background-color: rgb(6, 92, 211); "></div>
<div style="position: absolute; left: 0px; top: 66%; width: 100%; height: 35%; z-index: -1; background-color: rgb(5, 91, 210); "></div>
<div style="position: absolute; left: 0px; top: 68%; width: 100%; height: 33%; z-index: -1; background-color: rgb(5, 89, 208); "></div>
<div style="position: absolute; left: 0px; top: 70%; width: 100%; height: 31%; z-index: -1; background-color: rgb(5, 88, 207); "></div>
<div style="position: absolute; left: 0px; top: 72%; width: 100%; height: 29%; z-index: -1; background-color: rgb(4, 87, 206); "></div>
<div style="position: absolute; left: 0px; top: 74%; width: 100%; height: 27%; z-index: -1; background-color: rgb(4, 85, 204); "></div>
<div style="position: absolute; left: 0px; top: 76%; width: 100%; height: 25%; z-index: -1; background-color: rgb(4, 84, 203); "></div>
<div style="position: absolute; left: 0px; top: 78%; width: 100%; height: 23%; z-index: -1; background-color: rgb(3, 82, 201); "></div>
<div style="position: absolute; left: 0px; top: 80%; width: 100%; height: 21%; z-index: -1; background-color: rgb(3, 81, 200); "></div>
<div style="position: absolute; left: 0px; top: 82%; width: 100%; height: 19%; z-index: -1; background-color: rgb(3, 80, 199); "></div>
<div style="position: absolute; left: 0px; top: 84%; width: 100%; height: 17%; z-index: -1; background-color: rgb(2, 78, 197); "></div>
<div style="position: absolute; left: 0px; top: 86%; width: 100%; height: 15%; z-index: -1; background-color: rgb(2, 77, 196); "></div>
<div style="position: absolute; left: 0px; top: 88%; width: 100%; height: 13%; z-index: -1; background-color: rgb(2, 76, 195); "></div>
<div style="position: absolute; left: 0px; top: 90%; width: 100%; height: 11%; z-index: -1; background-color: rgb(1, 74, 193); "></div>
<div style="position: absolute; left: 0px; top: 92%; width: 100%; height: 9%; z-index: -1; background-color: rgb(1, 73, 192); "></div>
<div style="position: absolute; left: 0px; top: 94%; width: 100%; height: 7%; z-index: -1; background-color: rgb(1, 72, 191); "></div>
<div style="position: absolute; left: 0px; top: 96%; width: 100%; height: 5%; z-index: -1; background-color: rgb(0, 70, 189); "></div>
<div style="position: absolute; left: 0px; top: 98%; width: 100%; height: 3%; z-index: -1; background-color: rgb(0, 69, 188); "></div>
<div style="position: absolute; left: 0px; top: 100%; width: 100%; height: 1%; z-index: -1; background-color: rgb(0, 68, 187); "></div>
</div>

<div class="body_content"><br />
<table class="file_summary"><tr><td class="h">Filename</td><td align="left"><a href="file:///Users/edenc/perl5/lib/perl5/darwin-multi-2level/DBI.pm">/Users/edenc/perl5/lib/perl5/darwin-multi-2level/DBI.pm</a></td></tr>
<tr><td class="h">Statements</td><td align="left">Executed 45489 statements in 582ms</td></tr></table>
        
        <table id="subs_table" border="1" cellpadding="0" class="tablesorter">
        <caption>Subroutines</caption>
        <thead>
        <tr>
        <th>Calls</th>
        <th><span title="Number of Places sub is called from">P</span></th>
        <th><span title="Number of Files sub is called from">F</span></th>
        <th>Exclusive<br />Time</th>
        <th>Inclusive<br />Time</th>
        <th>Subroutine</th>
        </tr>
        </thead>
    <tbody>
<tr><td class="c0">2330</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.1%">31.7ms</span></td><td class="c0"><span title="0.1%">31.7ms</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::__ANON__[:1971]</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1963">__ANON__[:1971]</a></span></td></tr>
<tr><td class="c0">4</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">21.0ms</span></td><td class="c0"><span title="1.1%">573ms</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::execute_for_fetch</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1977">execute_for_fetch</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">3.41ms</span></td><td class="c0"><span title="0.0%">4.94ms</span></td><td class="sub_name"><span style="display: none;">DBI::::install_driver</span>            DBI::<a href="DBI-pm-1359-line.html#748">install_driver</a></span></td></tr>
<tr><td class="c0">24</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">1.81ms</span></td><td class="c0"><span title="0.0%">1.84ms</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::bind_param_array</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1838">bind_param_array</a></span></td></tr>
<tr><td class="c0">104</td><td class="c1">2</td><td class="c3">1</td><td class="c0"><span title="0.0%">379&micro;s</span></td><td class="c0"><span title="0.0%">379&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_install_method</span>            DBI::<a href="DBI-pm-1359-line.html#DBI___install_method">_install_method</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">379&micro;s</span></td><td class="c0"><span title="0.0%">379&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::bootstrap</span>            DBI::<a href="DBI-pm-1359-line.html#DBI__bootstrap">bootstrap</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">343&micro;s</span></td><td class="c0"><span title="0.0%">1.16ms</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@161</span>            DBI::<a href="DBI-pm-1359-line.html#161">BEGIN@161</a></span></td></tr>
<tr><td class="c0">4</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">219&micro;s</span></td><td class="c0"><span title="1.1%">573ms</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::execute_array</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1898">execute_array</a></span></td></tr>
<tr><td class="c0">15</td><td class="c0">15</td><td class="c3">1</td><td class="c0"><span title="0.0%">215&micro;s</span></td><td class="c0"><span title="0.0%">342&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::install_method</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1368">install_method</a></span></td></tr>
<tr><td class="c0">3</td><td class="c0">3</td><td class="c1">2</td><td class="c0"><span title="0.0%">158&micro;s</span></td><td class="c0"><span title="0.0%">184&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::setup_driver</span>            DBI::<a href="DBI-pm-1359-line.html#826">setup_driver</a></span></td></tr>
<tr><td class="c0">4</td><td class="c0">3</td><td class="c3">1</td><td class="c0"><span title="0.0%">114&micro;s</span></td><td class="c0"><span title="0.0%">114&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_new_handle</span>            DBI::<a href="DBI-pm-1359-line.html#DBI___new_handle">_new_handle</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c0">4</td><td class="c1">2</td><td class="c3">1</td><td class="c0"><span title="0.0%">100&micro;s</span></td><td class="c0"><span title="0.0%">559&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::prepare_cached</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1686">prepare_cached</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">71&micro;s</span></td><td class="c0"><span title="0.0%">477&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::__ANON__[:725]</span>            DBI::<a href="DBI-pm-1359-line.html#651">__ANON__[:725]</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">65&micro;s</span></td><td class="c0"><span title="0.0%">5.52ms</span></td><td class="sub_name"><span style="display: none;">DBI::::connect</span>            DBI::<a href="DBI-pm-1359-line.html#571">connect</a></span></td></tr>
<tr><td class="c0">30</td><td class="c1">2</td><td class="c3">1</td><td class="c1"><span title="0.0%">48&micro;s</span></td><td class="c2"><span title="0.0%">48&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::CORE:match</span> DBD::_::common::<a href="DBI-pm-1359-line.html#DBD_____common__CORE_match">CORE:match</a>&nbsp;(opcode)</span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c1"><span title="0.0%">47&micro;s</span></td><td class="c0"><span title="0.0%">89&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::END</span>            DBI::<a href="DBI-pm-1359-line.html#513">END</a></span></td></tr>
<tr><td class="c0">126</td><td class="c3">1</td><td class="c3">1</td><td class="c2"><span title="0.0%">33&micro;s</span></td><td class="c3"><span title="0.0%">33&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::CORE:match</span>            DBI::<a href="DBI-pm-1359-line.html#DBI__CORE_match">CORE:match</a>&nbsp;(opcode)</span></td></tr>
<tr><td class="c1">2</td><td class="c3">1</td><td class="c3">1</td><td class="c2"><span title="0.0%">31&micro;s</span></td><td class="c2"><span title="0.0%">50&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::begin_work</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1720">begin_work</a></span></td></tr>
<tr><td class="c0">24</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">29&micro;s</span></td><td class="c3"><span title="0.0%">29&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::looks_like_number</span>            DBI::<a href="DBI-pm-1359-line.html#DBI__looks_like_number">looks_like_number</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">26&micro;s</span></td><td class="c3"><span title="0.0%">40&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::disconnect_all</span>            DBI::<a href="DBI-pm-1359-line.html#735">disconnect_all</a></span></td></tr>
<tr><td class="c1">2</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">25&micro;s</span></td><td class="c1"><span title="0.0%">76&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_new_sth</span>            DBI::<a href="DBI-pm-1359-line.html#1273">_new_sth</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">23&micro;s</span></td><td class="c3"><span title="0.0%">23&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@13</span>            DBI::<a href="DBI-pm-1359-line.html#13">BEGIN@13</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">22&micro;s</span></td><td class="c3"><span title="0.0%">43&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@527</span>            DBI::<a href="DBI-pm-1359-line.html#527">BEGIN@527</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">20&micro;s</span></td><td class="c1"><span title="0.0%">60&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_new_drh</span>            DBI::<a href="DBI-pm-1359-line.html#1225">_new_drh</a></span></td></tr>
<tr><td class="c0">5</td><td class="c0">5</td><td class="c3">1</td><td class="c3"><span title="0.0%">16&micro;s</span></td><td class="c3"><span title="0.0%">16&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::var::::TIESCALAR</span>       DBI::var::<a href="DBI-pm-1359-line.html#306">TIESCALAR</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">15&micro;s</span></td><td class="c3"><span title="0.0%">18&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::BEGIN@1343</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1343">BEGIN@1343</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">14&micro;s</span></td><td class="c3"><span title="0.0%">37&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_new_dbh</span>            DBI::<a href="DBI-pm-1359-line.html#1260">_new_dbh</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">12&micro;s</span></td><td class="c3"><span title="0.0%">18&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@270</span>            DBI::<a href="DBI-pm-1359-line.html#270">BEGIN@270</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">12&micro;s</span></td><td class="c3"><span title="0.0%">25&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@1030</span>            DBI::<a href="DBI-pm-1359-line.html#1030">BEGIN@1030</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">11&micro;s</span></td><td class="c3"><span title="0.0%">14&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::BEGIN@1821</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1821">BEGIN@1821</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">10&micro;s</span></td><td class="c3"><span title="0.0%">13&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::dr::::BEGIN@1449</span>     DBD::_::dr::<a href="DBI-pm-1359-line.html#1449">BEGIN@1449</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">10&micro;s</span></td><td class="c3"><span title="0.0%">14&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@274</span>            DBI::<a href="DBI-pm-1359-line.html#274">BEGIN@274</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">9&micro;s</span></td><td class="c3"><span title="0.0%">12&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::BEGIN@1510</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1510">BEGIN@1510</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">9&micro;s</span></td><td class="c3"><span title="0.0%">21&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@684</span>            DBI::<a href="DBI-pm-1359-line.html#684">BEGIN@684</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">9&micro;s</span></td><td class="c3"><span title="0.0%">20&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@797</span>            DBI::<a href="DBI-pm-1359-line.html#797">BEGIN@797</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="c3"><span title="0.0%">18&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@831</span>            DBI::<a href="DBI-pm-1359-line.html#831">BEGIN@831</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="c3"><span title="0.0%">18&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@862</span>            DBI::<a href="DBI-pm-1359-line.html#862">BEGIN@862</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="c3"><span title="0.0%">19&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@959</span>            DBI::<a href="DBI-pm-1359-line.html#959">BEGIN@959</a></span></td></tr>
<tr><td class="c0">4</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::_concat_hash_sorted</span>            DBI::<a href="DBI-pm-1359-line.html#DBI___concat_hash_sorted">_concat_hash_sorted</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c1">2</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::CORE:subst</span>            DBI::<a href="DBI-pm-1359-line.html#DBI__CORE_subst">CORE:subst</a>&nbsp;(opcode)</span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@157</span>            DBI::<a href="DBI-pm-1359-line.html#157">BEGIN@157</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@158</span>            DBI::<a href="DBI-pm-1359-line.html#158">BEGIN@158</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="sub_name"><span style="display: none;">DBI::::BEGIN@159</span>            DBI::<a href="DBI-pm-1359-line.html#159">BEGIN@159</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">4&micro;s</span></td><td class="c3"><span title="0.0%">4&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::dr::::default_user</span>     DBD::_::dr::<a href="DBI-pm-1359-line.html#1451">default_user</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">2&micro;s</span></td><td class="c3"><span title="0.0%">2&micro;s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::trace_msg</span> DBD::_::common::<a href="DBI-pm-1359-line.html#DBD_____common__trace_msg">trace_msg</a>&nbsp;(xsub)</span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::Switch::dr::::CLONE</span>DBD::Switch::dr::<a href="DBI-pm-1359-line.html#1311">CLONE</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::Switch::dr::::FETCH</span>DBD::Switch::dr::<a href="DBI-pm-1359-line.html#1315">FETCH</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::Switch::dr::::STORE</span>DBD::Switch::dr::<a href="DBI-pm-1359-line.html#1322">STORE</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::Switch::dr::::driver</span>DBD::Switch::dr::<a href="DBI-pm-1359-line.html#1299">driver</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::CLEAR</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1357">CLEAR</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::EXISTS</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1356">EXISTS</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::FETCH_many</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1359">FETCH_many</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::FIRSTKEY</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1354">FIRSTKEY</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::NEXTKEY</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1355">NEXTKEY</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::_not_impl</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1347">_not_impl</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::parse_trace_flag</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1417">parse_trace_flag</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::parse_trace_flags</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1391">parse_trace_flags</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::private_attribute_info</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1428">private_attribute_info</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::common::::visit_child_handles</span> DBD::_::common::<a href="DBI-pm-1359-line.html#1432">visit_child_handles</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::_do_selectrow</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1617">_do_selectrow</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::clone</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1512">clone</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::data_sources</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1809">data_sources</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::do</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1609">do</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::ping</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1712">ping</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::primary_key</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1729">primary_key</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::quote</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1577">quote</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::quote_identifier</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1546">quote_identifier</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::rows</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1607">rows</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectall_arrayref</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1640">selectall_arrayref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectall_hashref</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1657">selectall_hashref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectcol_arrayref</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1665">selectcol_arrayref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectrow_array</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1632">selectrow_array</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectrow_arrayref</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1631">selectrow_arrayref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::selectrow_hashref</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1628">selectrow_hashref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::tables</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1739">tables</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::db::::type_info</span>     DBD::_::db::<a href="DBI-pm-1359-line.html#1762">type_info</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::dr::::connect</span>     DBD::_::dr::<a href="DBI-pm-1359-line.html#1458">connect</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::dr::::connect_cached</span>     DBD::_::dr::<a href="DBI-pm-1359-line.html#1471">connect_cached</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::__ANON__[:1937]</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1937">__ANON__[:1937]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::bind_columns</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1876">bind_columns</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::bind_param</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1823">bind_param</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::bind_param_inout_array</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#1867">bind_param_inout_array</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::blob_copy_to_file</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#2100">blob_copy_to_file</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::fetchall_arrayref</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#2005">fetchall_arrayref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::fetchall_hashref</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#2071">fetchall_hashref</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBD::_::st::::more_results</span>     DBD::_::st::<a href="DBI-pm-1359-line.html#2118">more_results</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::CLONE</span>            DBI::<a href="DBI-pm-1359-line.html#523">CLONE</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::__ANON__[:1026]</span>            DBI::<a href="DBI-pm-1359-line.html#1026">__ANON__[:1026]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::__ANON__[:1117]</span>            DBI::<a href="DBI-pm-1359-line.html#1117">__ANON__[:1117]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::__ANON__[:1151]</span>            DBI::<a href="DBI-pm-1359-line.html#1151">__ANON__[:1151]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::__ANON__[:1152]</span>            DBI::<a href="DBI-pm-1359-line.html#1152">__ANON__[:1152]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::_dbtype_names</span>            DBI::<a href="DBI-pm-1359-line.html#893">_dbtype_names</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::_load_class</span>            DBI::<a href="DBI-pm-1359-line.html#956">_load_class</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::_rebless</span>            DBI::<a href="DBI-pm-1359-line.html#844">_rebless</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::_rebless_dbtype_subclass</span>            DBI::<a href="DBI-pm-1359-line.html#878">_rebless_dbtype_subclass</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::_set_isa</span>            DBI::<a href="DBI-pm-1359-line.html#853">_set_isa</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::available_drivers</span>            DBI::<a href="DBI-pm-1359-line.html#983">available_drivers</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::connect_cached</span>            DBI::<a href="DBI-pm-1359-line.html#558">connect_cached</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::connect_test_perf</span>            DBI::<a href="DBI-pm-1359-line.html#1170">connect_test_perf</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::data_diff</span>            DBI::<a href="DBI-pm-1359-line.html#1084">data_diff</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::data_sources</span>            DBI::<a href="DBI-pm-1359-line.html#1050">data_sources</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::data_string_desc</span>            DBI::<a href="DBI-pm-1359-line.html#1145">data_string_desc</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::data_string_diff</span>            DBI::<a href="DBI-pm-1359-line.html#1101">data_string_diff</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::disconnect</span>            DBI::<a href="DBI-pm-1359-line.html#743">disconnect</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::driver_prefix</span>            DBI::<a href="DBI-pm-1359-line.html#977">driver_prefix</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::dump_dbd_registry</span>            DBI::<a href="DBI-pm-1359-line.html#371">dump_dbd_registry</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::dump_results</span>            DBI::<a href="DBI-pm-1359-line.html#1066">dump_results</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::err</span>            DBI::<a href="DBI-pm-1359-line.html#1209">err</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::errstr</span>            DBI::<a href="DBI-pm-1359-line.html#1210">errstr</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::init_rootclass</span>            DBI::<a href="DBI-pm-1359-line.html#970">init_rootclass</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::installed_drivers</span>            DBI::<a href="DBI-pm-1359-line.html#295">installed_drivers</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::installed_methods</span>            DBI::<a href="DBI-pm-1359-line.html#297">installed_methods</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::installed_versions</span>            DBI::<a href="DBI-pm-1359-line.html#1017">installed_versions</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::neat_list</span>            DBI::<a href="DBI-pm-1359-line.html#1058">neat_list</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::parse_dsn</span>            DBI::<a href="DBI-pm-1359-line.html#534">parse_dsn</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::var::::STORE</span>       DBI::var::<a href="DBI-pm-1359-line.html#307">STORE</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">DBI::::visit_handles</span>            DBI::<a href="DBI-pm-1359-line.html#543">visit_handles</a></span></td></tr>
</tbody></table>
                Call graph for these subroutines as a
                <a href="http://en.wikipedia.org/wiki/Graphviz">Graphviz</a>
                <a href="Users-edenc-perl5-lib-perl5-darwin-multi-2level-DBI-pm.dot">dot language file</a>.
            
      <table border="1" cellpadding="0">
      <thead>
      <tr><th>Line</th>
      <th><span title="Number of statements executed">State<br />ments</span></th>
      <th><span title="Time spend executing statements on the line,
        excluding time spent executing statements in any called subroutines">Time<br />on line</span></th>
      <th><span title="Number of subroutines calls">Calls</span></th>
      <th><span title="Time spent in subroutines called (inclusive)">Time<br />in subs</span></th>
      <th class="left_indent_header">Code</th>
      </tr>

      </thead>
      <tbody>
    <tr><td class="h"><a name="1"></a>1</td><td></td><td></td><td></td><td></td><td class="s"># $Id: DBI.pm 15300 2012-04-25 12:29:58Z timbo $</td></tr>
<tr><td class="h"><a name="2"></a>2</td><td></td><td></td><td></td><td></td><td class="s"># vim: ts=8:sw=4:et</td></tr>
<tr><td class="h"><a name="3"></a>3</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="4"></a>4</td><td></td><td></td><td></td><td></td><td class="s"># Copyright (c) 1994-2012  Tim Bunce  Ireland</td></tr>
<tr><td class="h"><a name="5"></a>5</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="6"></a>6</td><td></td><td></td><td></td><td></td><td class="s"># See COPYRIGHT section in pod text below for usage and distribution rights.</td></tr>
<tr><td class="h"><a name="7"></a>7</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="8"></a>8</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="9"></a>9</td><td></td><td></td><td></td><td></td><td class="s">package DBI;</td></tr>
<tr><td class="h"><a name="10"></a>10</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="11"></a>11</td><td class="c3">1</td><td class="c0"><span title="Avg 19&micro;s">19&micro;s</span></td><td></td><td></td><td class="s">require 5.008_001;</td></tr>
<tr><td class="h"><a name="12"></a>12</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="13"></a>13</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 23&micro;s within DBI::BEGIN@13 which was called:
#    once (23&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#15">line 15</a></div></div>BEGIN {</td></tr>
<tr><td class="h"><a name="14"></a>14</td><td class="c3">1</td><td class="c2"><span title="Avg 6&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">$VERSION = &quot;1.620&quot;; # ==&gt; ALSO update the version in the pod text below!</td></tr>
<tr><td class="h"><a name="15"></a>15</td><td class="c3">1</td><td class="c0"><span title="Avg 87&micro;s">87&micro;s</span></td><td class="c3">1</td><td class="c3">23&micro;s</td><td class="s">}<div class="calls"><div class="calls_out"># spent    23&micro;s making 1 call to <a href="DBI-pm-1359-line.html#13">DBI::BEGIN@13</a></div></div></td></tr>
<tr><td class="h"><a name="16"></a>16</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="17"></a>17</td><td></td><td></td><td></td><td></td><td class="s">=head1 NAME</td></tr>
<tr><td class="h"><a name="18"></a>18</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="19"></a>19</td><td></td><td></td><td></td><td></td><td class="s">DBI - Database independent interface for Perl</td></tr>
<tr><td class="h"><a name="20"></a>20</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="21"></a>21</td><td></td><td></td><td></td><td></td><td class="s">=head1 SYNOPSIS</td></tr>
<tr><td class="h"><a name="22"></a>22</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="23"></a>23</td><td></td><td></td><td></td><td></td><td class="s">  use DBI;</td></tr>
<tr><td class="h"><a name="24"></a>24</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="25"></a>25</td><td></td><td></td><td></td><td></td><td class="s">  @driver_names = DBI-&gt;available_drivers;</td></tr>
<tr><td class="h"><a name="26"></a>26</td><td></td><td></td><td></td><td></td><td class="s">  %drivers      = DBI-&gt;installed_drivers;</td></tr>
<tr><td class="h"><a name="27"></a>27</td><td></td><td></td><td></td><td></td><td class="s">  @data_sources = DBI-&gt;data_sources($driver_name, \%attr);</td></tr>
<tr><td class="h"><a name="28"></a>28</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="29"></a>29</td><td></td><td></td><td></td><td></td><td class="s">  $dbh = DBI-&gt;connect($data_source, $username, $auth, \%attr);</td></tr>
<tr><td class="h"><a name="30"></a>30</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="31"></a>31</td><td></td><td></td><td></td><td></td><td class="s">  $rv  = $dbh-&gt;do($statement);</td></tr>
<tr><td class="h"><a name="32"></a>32</td><td></td><td></td><td></td><td></td><td class="s">  $rv  = $dbh-&gt;do($statement, \%attr);</td></tr>
<tr><td class="h"><a name="33"></a>33</td><td></td><td></td><td></td><td></td><td class="s">  $rv  = $dbh-&gt;do($statement, \%attr, @bind_values);</td></tr>
<tr><td class="h"><a name="34"></a>34</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="35"></a>35</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $dbh-&gt;selectall_arrayref($statement);</td></tr>
<tr><td class="h"><a name="36"></a>36</td><td></td><td></td><td></td><td></td><td class="s">  $hash_ref = $dbh-&gt;selectall_hashref($statement, $key_field);</td></tr>
<tr><td class="h"><a name="37"></a>37</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="38"></a>38</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $dbh-&gt;selectcol_arrayref($statement);</td></tr>
<tr><td class="h"><a name="39"></a>39</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $dbh-&gt;selectcol_arrayref($statement, \%attr);</td></tr>
<tr><td class="h"><a name="40"></a>40</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="41"></a>41</td><td></td><td></td><td></td><td></td><td class="s">  @row_ary  = $dbh-&gt;selectrow_array($statement);</td></tr>
<tr><td class="h"><a name="42"></a>42</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $dbh-&gt;selectrow_arrayref($statement);</td></tr>
<tr><td class="h"><a name="43"></a>43</td><td></td><td></td><td></td><td></td><td class="s">  $hash_ref = $dbh-&gt;selectrow_hashref($statement);</td></tr>
<tr><td class="h"><a name="44"></a>44</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="45"></a>45</td><td></td><td></td><td></td><td></td><td class="s">  $sth = $dbh-&gt;prepare($statement);</td></tr>
<tr><td class="h"><a name="46"></a>46</td><td></td><td></td><td></td><td></td><td class="s">  $sth = $dbh-&gt;prepare_cached($statement);</td></tr>
<tr><td class="h"><a name="47"></a>47</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="48"></a>48</td><td></td><td></td><td></td><td></td><td class="s">  $rc = $sth-&gt;bind_param($p_num, $bind_value);</td></tr>
<tr><td class="h"><a name="49"></a>49</td><td></td><td></td><td></td><td></td><td class="s">  $rc = $sth-&gt;bind_param($p_num, $bind_value, $bind_type);</td></tr>
<tr><td class="h"><a name="50"></a>50</td><td></td><td></td><td></td><td></td><td class="s">  $rc = $sth-&gt;bind_param($p_num, $bind_value, \%attr);</td></tr>
<tr><td class="h"><a name="51"></a>51</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="52"></a>52</td><td></td><td></td><td></td><td></td><td class="s">  $rv = $sth-&gt;execute;</td></tr>
<tr><td class="h"><a name="53"></a>53</td><td></td><td></td><td></td><td></td><td class="s">  $rv = $sth-&gt;execute(@bind_values);</td></tr>
<tr><td class="h"><a name="54"></a>54</td><td></td><td></td><td></td><td></td><td class="s">  $rv = $sth-&gt;execute_array(\%attr, ...);</td></tr>
<tr><td class="h"><a name="55"></a>55</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="56"></a>56</td><td></td><td></td><td></td><td></td><td class="s">  $rc = $sth-&gt;bind_col($col_num, \$col_variable);</td></tr>
<tr><td class="h"><a name="57"></a>57</td><td></td><td></td><td></td><td></td><td class="s">  $rc = $sth-&gt;bind_columns(@list_of_refs_to_vars_to_bind);</td></tr>
<tr><td class="h"><a name="58"></a>58</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="59"></a>59</td><td></td><td></td><td></td><td></td><td class="s">  @row_ary  = $sth-&gt;fetchrow_array;</td></tr>
<tr><td class="h"><a name="60"></a>60</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $sth-&gt;fetchrow_arrayref;</td></tr>
<tr><td class="h"><a name="61"></a>61</td><td></td><td></td><td></td><td></td><td class="s">  $hash_ref = $sth-&gt;fetchrow_hashref;</td></tr>
<tr><td class="h"><a name="62"></a>62</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="63"></a>63</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $sth-&gt;fetchall_arrayref;</td></tr>
<tr><td class="h"><a name="64"></a>64</td><td></td><td></td><td></td><td></td><td class="s">  $ary_ref  = $sth-&gt;fetchall_arrayref( $slice, $max_rows );</td></tr>
<tr><td class="h"><a name="65"></a>65</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="66"></a>66</td><td></td><td></td><td></td><td></td><td class="s">  $hash_ref = $sth-&gt;fetchall_hashref( $key_field );</td></tr>
<tr><td class="h"><a name="67"></a>67</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="68"></a>68</td><td></td><td></td><td></td><td></td><td class="s">  $rv  = $sth-&gt;rows;</td></tr>
<tr><td class="h"><a name="69"></a>69</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="70"></a>70</td><td></td><td></td><td></td><td></td><td class="s">  $rc  = $dbh-&gt;begin_work;</td></tr>
<tr><td class="h"><a name="71"></a>71</td><td></td><td></td><td></td><td></td><td class="s">  $rc  = $dbh-&gt;commit;</td></tr>
<tr><td class="h"><a name="72"></a>72</td><td></td><td></td><td></td><td></td><td class="s">  $rc  = $dbh-&gt;rollback;</td></tr>
<tr><td class="h"><a name="73"></a>73</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="74"></a>74</td><td></td><td></td><td></td><td></td><td class="s">  $quoted_string = $dbh-&gt;quote($string);</td></tr>
<tr><td class="h"><a name="75"></a>75</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="76"></a>76</td><td></td><td></td><td></td><td></td><td class="s">  $rc  = $h-&gt;err;</td></tr>
<tr><td class="h"><a name="77"></a>77</td><td></td><td></td><td></td><td></td><td class="s">  $str = $h-&gt;errstr;</td></tr>
<tr><td class="h"><a name="78"></a>78</td><td></td><td></td><td></td><td></td><td class="s">  $rv  = $h-&gt;state;</td></tr>
<tr><td class="h"><a name="79"></a>79</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="80"></a>80</td><td></td><td></td><td></td><td></td><td class="s">  $rc  = $dbh-&gt;disconnect;</td></tr>
<tr><td class="h"><a name="81"></a>81</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="82"></a>82</td><td></td><td></td><td></td><td></td><td class="s">I&lt;The synopsis above only lists the major methods and parameters.&gt;</td></tr>
<tr><td class="h"><a name="83"></a>83</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="84"></a>84</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="85"></a>85</td><td></td><td></td><td></td><td></td><td class="s">=head2 GETTING HELP</td></tr>
<tr><td class="h"><a name="86"></a>86</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="87"></a>87</td><td></td><td></td><td></td><td></td><td class="s">If you have questions about DBI, or DBD driver modules, you can get</td></tr>
<tr><td class="h"><a name="88"></a>88</td><td></td><td></td><td></td><td></td><td class="s">help from the I&lt;dbi-users@perl.org&gt; mailing list.  You don't have to subscribe</td></tr>
<tr><td class="h"><a name="89"></a>89</td><td></td><td></td><td></td><td></td><td class="s">to the list in order to post, though I'd recommend it. You can get help on</td></tr>
<tr><td class="h"><a name="90"></a>90</td><td></td><td></td><td></td><td></td><td class="s">subscribing and using the list by emailing I&lt;dbi-users-help@perl.org&gt;.</td></tr>
<tr><td class="h"><a name="91"></a>91</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="92"></a>92</td><td></td><td></td><td></td><td></td><td class="s">I don't recommend the DBI cpanforum (at http://www.cpanforum.com/dist/DBI)</td></tr>
<tr><td class="h"><a name="93"></a>93</td><td></td><td></td><td></td><td></td><td class="s">because relatively few people read it compared with dbi-users@perl.org.</td></tr>
<tr><td class="h"><a name="94"></a>94</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="95"></a>95</td><td></td><td></td><td></td><td></td><td class="s">To help you make the best use of the dbi-users mailing list,</td></tr>
<tr><td class="h"><a name="96"></a>96</td><td></td><td></td><td></td><td></td><td class="s">and any other lists or forums you may use, I recommend that you read</td></tr>
<tr><td class="h"><a name="97"></a>97</td><td></td><td></td><td></td><td></td><td class="s">&quot;Getting Answers&quot; by Mike Ash: L&lt;http://mikeash.com/getting_answers.html&gt;.</td></tr>
<tr><td class="h"><a name="98"></a>98</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="99"></a>99</td><td></td><td></td><td></td><td></td><td class="s">If you think you've found a bug then please also read</td></tr>
<tr><td class="h"><a name="100"></a>100</td><td></td><td></td><td></td><td></td><td class="s">&quot;How to Report Bugs Effectively&quot; by Simon Tatham:</td></tr>
<tr><td class="h"><a name="101"></a>101</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://www.chiark.greenend.org.uk/~sgtatham/bugs.html&gt;.</td></tr>
<tr><td class="h"><a name="102"></a>102</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="103"></a>103</td><td></td><td></td><td></td><td></td><td class="s">The DBI home page at L&lt;http://dbi.perl.org/&gt; and the DBI FAQ</td></tr>
<tr><td class="h"><a name="104"></a>104</td><td></td><td></td><td></td><td></td><td class="s">at L&lt;http://faq.dbi-support.com/&gt; may be worth a visit.</td></tr>
<tr><td class="h"><a name="105"></a>105</td><td></td><td></td><td></td><td></td><td class="s">They include links to other resources, but are rather out-dated.</td></tr>
<tr><td class="h"><a name="106"></a>106</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="107"></a>107</td><td></td><td></td><td></td><td></td><td class="s">Before asking any questions, reread this document, consult the</td></tr>
<tr><td class="h"><a name="108"></a>108</td><td></td><td></td><td></td><td></td><td class="s">archives and read the DBI FAQ. The archives are listed</td></tr>
<tr><td class="h"><a name="109"></a>109</td><td></td><td></td><td></td><td></td><td class="s">at the end of this document and on the DBI home page.</td></tr>
<tr><td class="h"><a name="110"></a>110</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="111"></a>111</td><td></td><td></td><td></td><td></td><td class="s">You might also like to read the Advanced DBI Tutorial at</td></tr>
<tr><td class="h"><a name="112"></a>112</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://www.slideshare.net/Tim.Bunce/dbi-advanced-tutorial-2007&gt;</td></tr>
<tr><td class="h"><a name="113"></a>113</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="114"></a>114</td><td></td><td></td><td></td><td></td><td class="s">This document often uses terms like I&lt;references&gt;, I&lt;objects&gt;,</td></tr>
<tr><td class="h"><a name="115"></a>115</td><td></td><td></td><td></td><td></td><td class="s">I&lt;methods&gt;.  If you're not familiar with those terms then it would</td></tr>
<tr><td class="h"><a name="116"></a>116</td><td></td><td></td><td></td><td></td><td class="s">be a good idea to read at least the following perl manuals first:</td></tr>
<tr><td class="h"><a name="117"></a>117</td><td></td><td></td><td></td><td></td><td class="s">L&lt;perlreftut&gt;, L&lt;perldsc&gt;, L&lt;perllol&gt;, and L&lt;perlboot&gt;.</td></tr>
<tr><td class="h"><a name="118"></a>118</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="119"></a>119</td><td></td><td></td><td></td><td></td><td class="s">Please note that Tim Bunce does not maintain the mailing lists or the</td></tr>
<tr><td class="h"><a name="120"></a>120</td><td></td><td></td><td></td><td></td><td class="s">web page (generous volunteers do that).  So please don't send mail</td></tr>
<tr><td class="h"><a name="121"></a>121</td><td></td><td></td><td></td><td></td><td class="s">directly to him; he just doesn't have the time to answer questions</td></tr>
<tr><td class="h"><a name="122"></a>122</td><td></td><td></td><td></td><td></td><td class="s">personally. The I&lt;dbi-users&gt; mailing list has lots of experienced</td></tr>
<tr><td class="h"><a name="123"></a>123</td><td></td><td></td><td></td><td></td><td class="s">people who should be able to help you if you need it. If you do email</td></tr>
<tr><td class="h"><a name="124"></a>124</td><td></td><td></td><td></td><td></td><td class="s">Tim he is very likely to just forward it to the mailing list.</td></tr>
<tr><td class="h"><a name="125"></a>125</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="126"></a>126</td><td></td><td></td><td></td><td></td><td class="s">=head2 NOTES</td></tr>
<tr><td class="h"><a name="127"></a>127</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="128"></a>128</td><td></td><td></td><td></td><td></td><td class="s">This is the DBI specification that corresponds to DBI version 1.620</td></tr>
<tr><td class="h"><a name="129"></a>129</td><td></td><td></td><td></td><td></td><td class="s">(see L&lt;DBI::Changes&gt; for details).</td></tr>
<tr><td class="h"><a name="130"></a>130</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="131"></a>131</td><td></td><td></td><td></td><td></td><td class="s">The DBI is evolving at a steady pace, so it's good to check that</td></tr>
<tr><td class="h"><a name="132"></a>132</td><td></td><td></td><td></td><td></td><td class="s">you have the latest copy.</td></tr>
<tr><td class="h"><a name="133"></a>133</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="134"></a>134</td><td></td><td></td><td></td><td></td><td class="s">The significant user-visible changes in each release are documented</td></tr>
<tr><td class="h"><a name="135"></a>135</td><td></td><td></td><td></td><td></td><td class="s">in the L&lt;DBI::Changes&gt; module so you can read them by executing</td></tr>
<tr><td class="h"><a name="136"></a>136</td><td></td><td></td><td></td><td></td><td class="s">C&lt;perldoc DBI::Changes&gt;.</td></tr>
<tr><td class="h"><a name="137"></a>137</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="138"></a>138</td><td></td><td></td><td></td><td></td><td class="s">Some DBI changes require changes in the drivers, but the drivers</td></tr>
<tr><td class="h"><a name="139"></a>139</td><td></td><td></td><td></td><td></td><td class="s">can take some time to catch up. Newer versions of the DBI have</td></tr>
<tr><td class="h"><a name="140"></a>140</td><td></td><td></td><td></td><td></td><td class="s">added features that may not yet be supported by the drivers you</td></tr>
<tr><td class="h"><a name="141"></a>141</td><td></td><td></td><td></td><td></td><td class="s">use.  Talk to the authors of your drivers if you need a new feature</td></tr>
<tr><td class="h"><a name="142"></a>142</td><td></td><td></td><td></td><td></td><td class="s">that is not yet supported.</td></tr>
<tr><td class="h"><a name="143"></a>143</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="144"></a>144</td><td></td><td></td><td></td><td></td><td class="s">Features added after DBI 1.21 (February 2002) are marked in the</td></tr>
<tr><td class="h"><a name="145"></a>145</td><td></td><td></td><td></td><td></td><td class="s">text with the version number of the DBI release they first appeared in.</td></tr>
<tr><td class="h"><a name="146"></a>146</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="147"></a>147</td><td></td><td></td><td></td><td></td><td class="s">Extensions to the DBI API often use the C&lt;DBIx::*&gt; namespace.</td></tr>
<tr><td class="h"><a name="148"></a>148</td><td></td><td></td><td></td><td></td><td class="s">See L&lt;/Naming Conventions and Name Space&gt;. DBI extension modules</td></tr>
<tr><td class="h"><a name="149"></a>149</td><td></td><td></td><td></td><td></td><td class="s">can be found at L&lt;http://search.cpan.org/search?mode=module&amp;query=DBIx&gt;.</td></tr>
<tr><td class="h"><a name="150"></a>150</td><td></td><td></td><td></td><td></td><td class="s">And all modules related to the DBI can be found at</td></tr>
<tr><td class="h"><a name="151"></a>151</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://search.cpan.org/search?query=DBI&amp;mode=all&gt;.</td></tr>
<tr><td class="h"><a name="152"></a>152</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="153"></a>153</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="154"></a>154</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="155"></a>155</td><td></td><td></td><td></td><td></td><td class="s"># The POD text continues at the end of the file.</td></tr>
<tr><td class="h"><a name="156"></a>156</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="157"></a>157</td><td class="c1">2</td><td class="c0"><span title="Avg 12&micro;s">25&micro;s</span></td><td class="c3">1</td><td class="c3">6&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 6&micro;s within DBI::BEGIN@157 which was called:
#    once (6&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#157">line 157</a></div></div>use Carp();<div class="calls"><div class="calls_out"># spent     6&micro;s making 1 call to <a href="DBI-pm-1359-line.html#157">DBI::BEGIN@157</a></div></div></td></tr>
<tr><td class="h"><a name="158"></a>158</td><td class="c1">2</td><td class="c0"><span title="Avg 14&micro;s">28&micro;s</span></td><td class="c3">1</td><td class="c3">5&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 5&micro;s within DBI::BEGIN@158 which was called:
#    once (5&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#158">line 158</a></div></div>use DynaLoader ();<div class="calls"><div class="calls_out"># spent     5&micro;s making 1 call to <a href="DBI-pm-1359-line.html#158">DBI::BEGIN@158</a></div></div></td></tr>
<tr><td class="h"><a name="159"></a>159</td><td class="c1">2</td><td class="c0"><span title="Avg 170&micro;s">341&micro;s</span></td><td class="c3">1</td><td class="c3">5&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 5&micro;s within DBI::BEGIN@159 which was called:
#    once (5&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#159">line 159</a></div></div>use Exporter ();<div class="calls"><div class="calls_out"># spent     5&micro;s making 1 call to <a href="DBI-pm-1359-line.html#159">DBI::BEGIN@159</a></div></div></td></tr>
<tr><td class="h"><a name="160"></a>160</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="161"></a>161</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 1.16ms (343&micro;s+819&micro;s) within DBI::BEGIN@161 which was called:
#    once (343&micro;s+819&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#266">line 266</a></div></div>BEGIN {</td></tr>
<tr><td class="h"><a name="162"></a>162</td><td class="c3">1</td><td class="c0"><span title="Avg 10&micro;s">10&micro;s</span></td><td></td><td></td><td class="s">@ISA = qw(Exporter DynaLoader);</td></tr>
<tr><td class="h"><a name="163"></a>163</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="164"></a>164</td><td></td><td></td><td></td><td></td><td class="s"># Make some utility functions available if asked for</td></tr>
<tr><td class="h"><a name="165"></a>165</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">@EXPORT    = ();                    # we export nothing by default</td></tr>
<tr><td class="h"><a name="166"></a>166</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">@EXPORT_OK = qw(%DBI %DBI_methods hash); # also populated by export_ok_tags:</td></tr>
<tr><td class="h"><a name="167"></a>167</td><td class="c3">1</td><td class="c0"><span title="Avg 22&micro;s">22&micro;s</span></td><td></td><td></td><td class="s">%EXPORT_TAGS = (</td></tr>
<tr><td class="h"><a name="168"></a>168</td><td></td><td></td><td></td><td></td><td class="s">   sql_types =&gt; [ qw(</td></tr>
<tr><td class="h"><a name="169"></a>169</td><td></td><td></td><td></td><td></td><td class="s">        SQL_GUID</td></tr>
<tr><td class="h"><a name="170"></a>170</td><td></td><td></td><td></td><td></td><td class="s">        SQL_WLONGVARCHAR</td></tr>
<tr><td class="h"><a name="171"></a>171</td><td></td><td></td><td></td><td></td><td class="s">        SQL_WVARCHAR</td></tr>
<tr><td class="h"><a name="172"></a>172</td><td></td><td></td><td></td><td></td><td class="s">        SQL_WCHAR</td></tr>
<tr><td class="h"><a name="173"></a>173</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BIGINT</td></tr>
<tr><td class="h"><a name="174"></a>174</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BIT</td></tr>
<tr><td class="h"><a name="175"></a>175</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TINYINT</td></tr>
<tr><td class="h"><a name="176"></a>176</td><td></td><td></td><td></td><td></td><td class="s">        SQL_LONGVARBINARY</td></tr>
<tr><td class="h"><a name="177"></a>177</td><td></td><td></td><td></td><td></td><td class="s">        SQL_VARBINARY</td></tr>
<tr><td class="h"><a name="178"></a>178</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BINARY</td></tr>
<tr><td class="h"><a name="179"></a>179</td><td></td><td></td><td></td><td></td><td class="s">        SQL_LONGVARCHAR</td></tr>
<tr><td class="h"><a name="180"></a>180</td><td></td><td></td><td></td><td></td><td class="s">        SQL_UNKNOWN_TYPE</td></tr>
<tr><td class="h"><a name="181"></a>181</td><td></td><td></td><td></td><td></td><td class="s">        SQL_ALL_TYPES</td></tr>
<tr><td class="h"><a name="182"></a>182</td><td></td><td></td><td></td><td></td><td class="s">        SQL_CHAR</td></tr>
<tr><td class="h"><a name="183"></a>183</td><td></td><td></td><td></td><td></td><td class="s">        SQL_NUMERIC</td></tr>
<tr><td class="h"><a name="184"></a>184</td><td></td><td></td><td></td><td></td><td class="s">        SQL_DECIMAL</td></tr>
<tr><td class="h"><a name="185"></a>185</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTEGER</td></tr>
<tr><td class="h"><a name="186"></a>186</td><td></td><td></td><td></td><td></td><td class="s">        SQL_SMALLINT</td></tr>
<tr><td class="h"><a name="187"></a>187</td><td></td><td></td><td></td><td></td><td class="s">        SQL_FLOAT</td></tr>
<tr><td class="h"><a name="188"></a>188</td><td></td><td></td><td></td><td></td><td class="s">        SQL_REAL</td></tr>
<tr><td class="h"><a name="189"></a>189</td><td></td><td></td><td></td><td></td><td class="s">        SQL_DOUBLE</td></tr>
<tr><td class="h"><a name="190"></a>190</td><td></td><td></td><td></td><td></td><td class="s">        SQL_DATETIME</td></tr>
<tr><td class="h"><a name="191"></a>191</td><td></td><td></td><td></td><td></td><td class="s">        SQL_DATE</td></tr>
<tr><td class="h"><a name="192"></a>192</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL</td></tr>
<tr><td class="h"><a name="193"></a>193</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TIME</td></tr>
<tr><td class="h"><a name="194"></a>194</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TIMESTAMP</td></tr>
<tr><td class="h"><a name="195"></a>195</td><td></td><td></td><td></td><td></td><td class="s">        SQL_VARCHAR</td></tr>
<tr><td class="h"><a name="196"></a>196</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BOOLEAN</td></tr>
<tr><td class="h"><a name="197"></a>197</td><td></td><td></td><td></td><td></td><td class="s">        SQL_UDT</td></tr>
<tr><td class="h"><a name="198"></a>198</td><td></td><td></td><td></td><td></td><td class="s">        SQL_UDT_LOCATOR</td></tr>
<tr><td class="h"><a name="199"></a>199</td><td></td><td></td><td></td><td></td><td class="s">        SQL_ROW</td></tr>
<tr><td class="h"><a name="200"></a>200</td><td></td><td></td><td></td><td></td><td class="s">        SQL_REF</td></tr>
<tr><td class="h"><a name="201"></a>201</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BLOB</td></tr>
<tr><td class="h"><a name="202"></a>202</td><td></td><td></td><td></td><td></td><td class="s">        SQL_BLOB_LOCATOR</td></tr>
<tr><td class="h"><a name="203"></a>203</td><td></td><td></td><td></td><td></td><td class="s">        SQL_CLOB</td></tr>
<tr><td class="h"><a name="204"></a>204</td><td></td><td></td><td></td><td></td><td class="s">        SQL_CLOB_LOCATOR</td></tr>
<tr><td class="h"><a name="205"></a>205</td><td></td><td></td><td></td><td></td><td class="s">        SQL_ARRAY</td></tr>
<tr><td class="h"><a name="206"></a>206</td><td></td><td></td><td></td><td></td><td class="s">        SQL_ARRAY_LOCATOR</td></tr>
<tr><td class="h"><a name="207"></a>207</td><td></td><td></td><td></td><td></td><td class="s">        SQL_MULTISET</td></tr>
<tr><td class="h"><a name="208"></a>208</td><td></td><td></td><td></td><td></td><td class="s">        SQL_MULTISET_LOCATOR</td></tr>
<tr><td class="h"><a name="209"></a>209</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TYPE_DATE</td></tr>
<tr><td class="h"><a name="210"></a>210</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TYPE_TIME</td></tr>
<tr><td class="h"><a name="211"></a>211</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TYPE_TIMESTAMP</td></tr>
<tr><td class="h"><a name="212"></a>212</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TYPE_TIME_WITH_TIMEZONE</td></tr>
<tr><td class="h"><a name="213"></a>213</td><td></td><td></td><td></td><td></td><td class="s">        SQL_TYPE_TIMESTAMP_WITH_TIMEZONE</td></tr>
<tr><td class="h"><a name="214"></a>214</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_YEAR</td></tr>
<tr><td class="h"><a name="215"></a>215</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_MONTH</td></tr>
<tr><td class="h"><a name="216"></a>216</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_DAY</td></tr>
<tr><td class="h"><a name="217"></a>217</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_HOUR</td></tr>
<tr><td class="h"><a name="218"></a>218</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_MINUTE</td></tr>
<tr><td class="h"><a name="219"></a>219</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_SECOND</td></tr>
<tr><td class="h"><a name="220"></a>220</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_YEAR_TO_MONTH</td></tr>
<tr><td class="h"><a name="221"></a>221</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_DAY_TO_HOUR</td></tr>
<tr><td class="h"><a name="222"></a>222</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_DAY_TO_MINUTE</td></tr>
<tr><td class="h"><a name="223"></a>223</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_DAY_TO_SECOND</td></tr>
<tr><td class="h"><a name="224"></a>224</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_HOUR_TO_MINUTE</td></tr>
<tr><td class="h"><a name="225"></a>225</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_HOUR_TO_SECOND</td></tr>
<tr><td class="h"><a name="226"></a>226</td><td></td><td></td><td></td><td></td><td class="s">        SQL_INTERVAL_MINUTE_TO_SECOND</td></tr>
<tr><td class="h"><a name="227"></a>227</td><td></td><td></td><td></td><td></td><td class="s">        DBIstcf_DISCARD_STRING</td></tr>
<tr><td class="h"><a name="228"></a>228</td><td></td><td></td><td></td><td></td><td class="s">        DBIstcf_STRICT</td></tr>
<tr><td class="h"><a name="229"></a>229</td><td></td><td></td><td></td><td></td><td class="s">   ) ],</td></tr>
<tr><td class="h"><a name="230"></a>230</td><td></td><td></td><td></td><td></td><td class="s">   sql_cursor_types =&gt; [ qw(</td></tr>
<tr><td class="h"><a name="231"></a>231</td><td></td><td></td><td></td><td></td><td class="s">         SQL_CURSOR_FORWARD_ONLY</td></tr>
<tr><td class="h"><a name="232"></a>232</td><td></td><td></td><td></td><td></td><td class="s">         SQL_CURSOR_KEYSET_DRIVEN</td></tr>
<tr><td class="h"><a name="233"></a>233</td><td></td><td></td><td></td><td></td><td class="s">         SQL_CURSOR_DYNAMIC</td></tr>
<tr><td class="h"><a name="234"></a>234</td><td></td><td></td><td></td><td></td><td class="s">         SQL_CURSOR_STATIC</td></tr>
<tr><td class="h"><a name="235"></a>235</td><td></td><td></td><td></td><td></td><td class="s">         SQL_CURSOR_TYPE_DEFAULT</td></tr>
<tr><td class="h"><a name="236"></a>236</td><td></td><td></td><td></td><td></td><td class="s">   ) ], # for ODBC cursor types</td></tr>
<tr><td class="h"><a name="237"></a>237</td><td></td><td></td><td></td><td></td><td class="s">   utils     =&gt; [ qw(</td></tr>
<tr><td class="h"><a name="238"></a>238</td><td></td><td></td><td></td><td></td><td class="s">        neat neat_list $neat_maxlen dump_results looks_like_number</td></tr>
<tr><td class="h"><a name="239"></a>239</td><td></td><td></td><td></td><td></td><td class="s">        data_string_diff data_string_desc data_diff sql_type_cast</td></tr>
<tr><td class="h"><a name="240"></a>240</td><td></td><td></td><td></td><td></td><td class="s">   ) ],</td></tr>
<tr><td class="h"><a name="241"></a>241</td><td></td><td></td><td></td><td></td><td class="s">   profile   =&gt; [ qw(</td></tr>
<tr><td class="h"><a name="242"></a>242</td><td></td><td></td><td></td><td></td><td class="s">        dbi_profile dbi_profile_merge dbi_profile_merge_nodes dbi_time</td></tr>
<tr><td class="h"><a name="243"></a>243</td><td></td><td></td><td></td><td></td><td class="s">   ) ], # notionally &quot;in&quot; DBI::Profile and normally imported from there</td></tr>
<tr><td class="h"><a name="244"></a>244</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="245"></a>245</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="246"></a>246</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">$DBI::dbi_debug = 0;          # mixture of bit fields and int sub-fields</td></tr>
<tr><td class="h"><a name="247"></a>247</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">$DBI::neat_maxlen = 1000;</td></tr>
<tr><td class="h"><a name="248"></a>248</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">$DBI::stderr = 2_000_000_000; # a very round number below 2**31</td></tr>
<tr><td class="h"><a name="249"></a>249</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="250"></a>250</td><td></td><td></td><td></td><td></td><td class="s"># If you get an error here like &quot;Can't find loadable object ...&quot;</td></tr>
<tr><td class="h"><a name="251"></a>251</td><td></td><td></td><td></td><td></td><td class="s"># then you haven't installed the DBI correctly. Read the README</td></tr>
<tr><td class="h"><a name="252"></a>252</td><td></td><td></td><td></td><td></td><td class="s"># then install it again.</td></tr>
<tr><td class="h"><a name="253"></a>253</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td></td><td></td><td class="s">if ( $ENV{DBI_PUREPERL} ) {</td></tr>
<tr><td class="h"><a name="254"></a>254</td><td></td><td></td><td></td><td></td><td class="s">    eval { bootstrap DBI } if       $ENV{DBI_PUREPERL} == 1;</td></tr>
<tr><td class="h"><a name="255"></a>255</td><td></td><td></td><td></td><td></td><td class="s">    require DBI::PurePerl  if $@ or $ENV{DBI_PUREPERL} &gt;= 2;</td></tr>
<tr><td class="h"><a name="256"></a>256</td><td></td><td></td><td></td><td></td><td class="s">    $DBI::PurePerl ||= 0; # just to silence &quot;only used once&quot; warnings</td></tr>
<tr><td class="h"><a name="257"></a>257</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="258"></a>258</td><td></td><td></td><td></td><td></td><td class="s">else {</td></tr>
<tr><td class="h"><a name="259"></a>259</td><td class="c3">1</td><td class="c2"><span title="Avg 6&micro;s">6&micro;s</span></td><td class="c3">1</td><td class="c0">708&micro;s</td><td class="s">    bootstrap DBI;<div class="calls"><div class="calls_out">    # spent   708&micro;s making 1 call to <a href="DynaLoader-pm-71-line.html#108">DynaLoader::bootstrap</a></div></div></td></tr>
<tr><td class="h"><a name="260"></a>260</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="261"></a>261</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="262"></a>262</td><td class="c0">127</td><td class="c0"><span title="Avg 2&micro;s">291&micro;s</span></td><td class="c0">126</td><td class="c2">33&micro;s</td><td class="s">$EXPORT_TAGS{preparse_flags} = [ grep { /^DBIpp_\w\w_/ } keys %{__PACKAGE__.&quot;::&quot;} ];<div class="calls"><div class="calls_out"># spent    33&micro;s making 126 calls to <a href="DBI-pm-1359-line.html#DBI__CORE_match">DBI::CORE:match</a>, avg 258ns/call</div></div></td></tr>
<tr><td class="h"><a name="263"></a>263</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="264"></a>264</td><td class="c3">1</td><td class="c1"><span title="Avg 7&micro;s">7&micro;s</span></td><td class="c3">1</td><td class="c3">25&micro;s</td><td class="s">Exporter::export_ok_tags(keys %EXPORT_TAGS);<div class="calls"><div class="calls_out"># spent    25&micro;s making 1 call to <a href="Exporter-pm-8-line.html#88">Exporter::export_ok_tags</a></div></div></td></tr>
<tr><td class="h"><a name="265"></a>265</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="266"></a>266</td><td class="c3">1</td><td class="c0"><span title="Avg 88&micro;s">88&micro;s</span></td><td class="c3">1</td><td class="c0">1.16ms</td><td class="s">}<div class="calls"><div class="calls_out"># spent  1.16ms making 1 call to <a href="DBI-pm-1359-line.html#161">DBI::BEGIN@161</a></div></div></td></tr>
<tr><td class="h"><a name="267"></a>267</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="268"></a>268</td><td></td><td></td><td></td><td></td><td class="s"># Alias some handle methods to also be DBI class methods</td></tr>
<tr><td class="h"><a name="269"></a>269</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">for (qw(trace_msg set_err parse_trace_flag parse_trace_flags)) {</td></tr>
<tr><td class="h"><a name="270"></a>270</td><td class="c1">2</td><td class="c0"><span title="Avg 30&micro;s">61&micro;s</span></td><td class="c3">2</td><td class="c3">23&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 18&micro;s (12+5) within DBI::BEGIN@270 which was called:
#    once (12&micro;s+5&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#270">line 270</a></div></div>  no strict;<div class="calls"><div class="calls_out">  # spent    18&micro;s making 1 call to <a href="DBI-pm-1359-line.html#270">DBI::BEGIN@270</a>
  # spent     5&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="271"></a>271</td><td class="c0">4</td><td class="c0"><span title="Avg 3&micro;s">12&micro;s</span></td><td></td><td></td><td class="s">  *$_ = \&amp;{&quot;DBD::_::common::$_&quot;};</td></tr>
<tr><td class="h"><a name="272"></a>272</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="273"></a>273</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="274"></a>274</td><td class="c1">2</td><td class="c0"><span title="Avg 652&micro;s">1.30ms</span></td><td class="c3">2</td><td class="c3">17&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 14&micro;s (10+4) within DBI::BEGIN@274 which was called:
#    once (10&micro;s+4&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#274">line 274</a></div></div>use strict;<div class="calls"><div class="calls_out"># spent    14&micro;s making 1 call to <a href="DBI-pm-1359-line.html#274">DBI::BEGIN@274</a>
# spent     4&micro;s making 1 call to <a href="strict-pm-3-line.html#34">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="275"></a>275</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="276"></a>276</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">DBI-&gt;trace(split /=/, $ENV{DBI_TRACE}, 2) if $ENV{DBI_TRACE};</td></tr>
<tr><td class="h"><a name="277"></a>277</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="278"></a>278</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">$DBI::connect_via ||= &quot;connect&quot;;</td></tr>
<tr><td class="h"><a name="279"></a>279</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="280"></a>280</td><td></td><td></td><td></td><td></td><td class="s"># check if user wants a persistent database connection ( Apache + mod_perl )</td></tr>
<tr><td class="h"><a name="281"></a>281</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">if ($INC{'Apache/DBI.pm'} &amp;&amp; $ENV{MOD_PERL}) {</td></tr>
<tr><td class="h"><a name="282"></a>282</td><td></td><td></td><td></td><td></td><td class="s">    $DBI::connect_via = &quot;Apache::DBI::connect&quot;;</td></tr>
<tr><td class="h"><a name="283"></a>283</td><td></td><td></td><td></td><td></td><td class="s">    DBI-&gt;trace_msg(&quot;DBI connect via $DBI::connect_via in $INC{'Apache/DBI.pm'}\n&quot;);</td></tr>
<tr><td class="h"><a name="284"></a>284</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="285"></a>285</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="286"></a>286</td><td></td><td></td><td></td><td></td><td class="s"># check for weaken support, used by ChildHandles</td></tr>
<tr><td class="h"><a name="287"></a>287</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">my $HAS_WEAKEN = eval {</td></tr>
<tr><td class="h"><a name="288"></a>288</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    require Scalar::Util;</td></tr>
<tr><td class="h"><a name="289"></a>289</td><td></td><td></td><td></td><td></td><td class="s">    # this will croak() if this Scalar::Util doesn't have a working weaken().</td></tr>
<tr><td class="h"><a name="290"></a>290</td><td class="c3">1</td><td class="c1"><span title="Avg 8&micro;s">8&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">    Scalar::Util::weaken( \my $test ); # same test as in t/72childhandles.t<div class="calls"><div class="calls_out">    # spent     2&micro;s making 1 call to <a href="Scalar-Util-pm-63-line.html#Scalar__Util__weaken">Scalar::Util::weaken</a></div></div></td></tr>
<tr><td class="h"><a name="291"></a>291</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    1;</td></tr>
<tr><td class="h"><a name="292"></a>292</td><td></td><td></td><td></td><td></td><td class="s">};</td></tr>
<tr><td class="h"><a name="293"></a>293</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="294"></a>294</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">%DBI::installed_drh = ();  # maps driver names to installed driver handles</td></tr>
<tr><td class="h"><a name="295"></a>295</td><td></td><td></td><td></td><td></td><td class="s">sub installed_drivers { %DBI::installed_drh }</td></tr>
<tr><td class="h"><a name="296"></a>296</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">%DBI::installed_methods = (); # XXX undocumented, may change</td></tr>
<tr><td class="h"><a name="297"></a>297</td><td></td><td></td><td></td><td></td><td class="s">sub installed_methods { %DBI::installed_methods }</td></tr>
<tr><td class="h"><a name="298"></a>298</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="299"></a>299</td><td></td><td></td><td></td><td></td><td class="s"># Setup special DBI dynamic variables. See DBI::var::FETCH for details.</td></tr>
<tr><td class="h"><a name="300"></a>300</td><td></td><td></td><td></td><td></td><td class="s"># These are dynamically associated with the last handle used.</td></tr>
<tr><td class="h"><a name="301"></a>301</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td class="c3">1</td><td class="c3">10&micro;s</td><td class="s">tie $DBI::err,    'DBI::var', '*err';    # special case: referenced via IHA list<div class="calls"><div class="calls_out"># spent    10&micro;s making 1 call to <a href="DBI-pm-1359-line.html#306">DBI::var::TIESCALAR</a></div></div></td></tr>
<tr><td class="h"><a name="302"></a>302</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">tie $DBI::state,  'DBI::var', '&quot;state';  # special case: referenced via IHA list<div class="calls"><div class="calls_out"># spent     2&micro;s making 1 call to <a href="DBI-pm-1359-line.html#306">DBI::var::TIESCALAR</a></div></div></td></tr>
<tr><td class="h"><a name="303"></a>303</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">tie $DBI::lasth,  'DBI::var', '!lasth';  # special case: return boolean<div class="calls"><div class="calls_out"># spent     2&micro;s making 1 call to <a href="DBI-pm-1359-line.html#306">DBI::var::TIESCALAR</a></div></div></td></tr>
<tr><td class="h"><a name="304"></a>304</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">tie $DBI::errstr, 'DBI::var', '&amp;errstr'; # call &amp;errstr in last used pkg<div class="calls"><div class="calls_out"># spent     2&micro;s making 1 call to <a href="DBI-pm-1359-line.html#306">DBI::var::TIESCALAR</a></div></div></td></tr>
<tr><td class="h"><a name="305"></a>305</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">1&micro;s</td><td class="s">tie $DBI::rows,   'DBI::var', '&amp;rows';   # call &amp;rows   in last used pkg<div class="calls"><div class="calls_out"># spent     1&micro;s making 1 call to <a href="DBI-pm-1359-line.html#306">DBI::var::TIESCALAR</a></div></div></td></tr>
<tr><td class="h"><a name="306"></a>306</td><td class="c0">10</td><td class="c0"><span title="Avg 2&micro;s">25&micro;s</span></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 16&micro;s within DBI::var::TIESCALAR which was called 5 times, avg 3&micro;s/call:
#    once (10&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#301">line 301</a>
#    once (2&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#302">line 302</a>
#    once (2&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#304">line 304</a>
#    once (2&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#303">line 303</a>
#    once (1&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#305">line 305</a></div></div>sub DBI::var::TIESCALAR{ my $var = $_[1]; bless \$var, 'DBI::var'; }</td></tr>
<tr><td class="h"><a name="307"></a>307</td><td></td><td></td><td></td><td></td><td class="s">sub DBI::var::STORE    { Carp::croak(&quot;Can't modify \$DBI::${$_[0]} special variable&quot;) }</td></tr>
<tr><td class="h"><a name="308"></a>308</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="309"></a>309</td><td></td><td></td><td></td><td></td><td class="s"># --- Driver Specific Prefix Registry ---</td></tr>
<tr><td class="h"><a name="310"></a>310</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="311"></a>311</td><td class="c3">1</td><td class="c0"><span title="Avg 50&micro;s">50&micro;s</span></td><td></td><td></td><td class="s">my $dbd_prefix_registry = {</td></tr>
<tr><td class="h"><a name="312"></a>312</td><td></td><td></td><td></td><td></td><td class="s">  ad_          =&gt; { class =&gt; 'DBD::AnyData',        },</td></tr>
<tr><td class="h"><a name="313"></a>313</td><td></td><td></td><td></td><td></td><td class="s">  ado_         =&gt; { class =&gt; 'DBD::ADO',            },</td></tr>
<tr><td class="h"><a name="314"></a>314</td><td></td><td></td><td></td><td></td><td class="s">  amzn_        =&gt; { class =&gt; 'DBD::Amazon',         },</td></tr>
<tr><td class="h"><a name="315"></a>315</td><td></td><td></td><td></td><td></td><td class="s">  best_        =&gt; { class =&gt; 'DBD::BestWins',       },</td></tr>
<tr><td class="h"><a name="316"></a>316</td><td></td><td></td><td></td><td></td><td class="s">  csv_         =&gt; { class =&gt; 'DBD::CSV',            },</td></tr>
<tr><td class="h"><a name="317"></a>317</td><td></td><td></td><td></td><td></td><td class="s">  db2_         =&gt; { class =&gt; 'DBD::DB2',            },</td></tr>
<tr><td class="h"><a name="318"></a>318</td><td></td><td></td><td></td><td></td><td class="s">  dbi_         =&gt; { class =&gt; 'DBI',                 },</td></tr>
<tr><td class="h"><a name="319"></a>319</td><td></td><td></td><td></td><td></td><td class="s">  dbm_         =&gt; { class =&gt; 'DBD::DBM',            },</td></tr>
<tr><td class="h"><a name="320"></a>320</td><td></td><td></td><td></td><td></td><td class="s">  df_          =&gt; { class =&gt; 'DBD::DF',             },</td></tr>
<tr><td class="h"><a name="321"></a>321</td><td></td><td></td><td></td><td></td><td class="s">  f_           =&gt; { class =&gt; 'DBD::File',           },</td></tr>
<tr><td class="h"><a name="322"></a>322</td><td></td><td></td><td></td><td></td><td class="s">  file_        =&gt; { class =&gt; 'DBD::TextFile',       },</td></tr>
<tr><td class="h"><a name="323"></a>323</td><td></td><td></td><td></td><td></td><td class="s">  go_          =&gt; { class =&gt; 'DBD::Gofer',          },</td></tr>
<tr><td class="h"><a name="324"></a>324</td><td></td><td></td><td></td><td></td><td class="s">  ib_          =&gt; { class =&gt; 'DBD::InterBase',      },</td></tr>
<tr><td class="h"><a name="325"></a>325</td><td></td><td></td><td></td><td></td><td class="s">  ing_         =&gt; { class =&gt; 'DBD::Ingres',         },</td></tr>
<tr><td class="h"><a name="326"></a>326</td><td></td><td></td><td></td><td></td><td class="s">  ix_          =&gt; { class =&gt; 'DBD::Informix',       },</td></tr>
<tr><td class="h"><a name="327"></a>327</td><td></td><td></td><td></td><td></td><td class="s">  jdbc_        =&gt; { class =&gt; 'DBD::JDBC',           },</td></tr>
<tr><td class="h"><a name="328"></a>328</td><td></td><td></td><td></td><td></td><td class="s">  mo_          =&gt; { class =&gt; 'DBD::MO',             },</td></tr>
<tr><td class="h"><a name="329"></a>329</td><td></td><td></td><td></td><td></td><td class="s">  monetdb_     =&gt; { class =&gt; 'DBD::monetdb',        },</td></tr>
<tr><td class="h"><a name="330"></a>330</td><td></td><td></td><td></td><td></td><td class="s">  msql_        =&gt; { class =&gt; 'DBD::mSQL',           },</td></tr>
<tr><td class="h"><a name="331"></a>331</td><td></td><td></td><td></td><td></td><td class="s">  mvsftp_      =&gt; { class =&gt; 'DBD::MVS_FTPSQL',     },</td></tr>
<tr><td class="h"><a name="332"></a>332</td><td></td><td></td><td></td><td></td><td class="s">  mysql_       =&gt; { class =&gt; 'DBD::mysql',          },</td></tr>
<tr><td class="h"><a name="333"></a>333</td><td></td><td></td><td></td><td></td><td class="s">  mx_          =&gt; { class =&gt; 'DBD::Multiplex',      },</td></tr>
<tr><td class="h"><a name="334"></a>334</td><td></td><td></td><td></td><td></td><td class="s">  nullp_       =&gt; { class =&gt; 'DBD::NullP',          },</td></tr>
<tr><td class="h"><a name="335"></a>335</td><td></td><td></td><td></td><td></td><td class="s">  odbc_        =&gt; { class =&gt; 'DBD::ODBC',           },</td></tr>
<tr><td class="h"><a name="336"></a>336</td><td></td><td></td><td></td><td></td><td class="s">  ora_         =&gt; { class =&gt; 'DBD::Oracle',         },</td></tr>
<tr><td class="h"><a name="337"></a>337</td><td></td><td></td><td></td><td></td><td class="s">  pg_          =&gt; { class =&gt; 'DBD::Pg',             },</td></tr>
<tr><td class="h"><a name="338"></a>338</td><td></td><td></td><td></td><td></td><td class="s">  pgpp_        =&gt; { class =&gt; 'DBD::PgPP',           },</td></tr>
<tr><td class="h"><a name="339"></a>339</td><td></td><td></td><td></td><td></td><td class="s">  plb_         =&gt; { class =&gt; 'DBD::Plibdata',       },</td></tr>
<tr><td class="h"><a name="340"></a>340</td><td></td><td></td><td></td><td></td><td class="s">  po_          =&gt; { class =&gt; 'DBD::PO',             },</td></tr>
<tr><td class="h"><a name="341"></a>341</td><td></td><td></td><td></td><td></td><td class="s">  proxy_       =&gt; { class =&gt; 'DBD::Proxy',          },</td></tr>
<tr><td class="h"><a name="342"></a>342</td><td></td><td></td><td></td><td></td><td class="s">  ram_         =&gt; { class =&gt; 'DBD::RAM',            },</td></tr>
<tr><td class="h"><a name="343"></a>343</td><td></td><td></td><td></td><td></td><td class="s">  rdb_         =&gt; { class =&gt; 'DBD::RDB',            },</td></tr>
<tr><td class="h"><a name="344"></a>344</td><td></td><td></td><td></td><td></td><td class="s">  sapdb_       =&gt; { class =&gt; 'DBD::SAP_DB',         },</td></tr>
<tr><td class="h"><a name="345"></a>345</td><td></td><td></td><td></td><td></td><td class="s">  snmp_        =&gt; { class =&gt; 'DBD::SNMP',           },</td></tr>
<tr><td class="h"><a name="346"></a>346</td><td></td><td></td><td></td><td></td><td class="s">  solid_       =&gt; { class =&gt; 'DBD::Solid',          },</td></tr>
<tr><td class="h"><a name="347"></a>347</td><td></td><td></td><td></td><td></td><td class="s">  spatialite_  =&gt; { class =&gt; 'DBD::Spatialite',     },</td></tr>
<tr><td class="h"><a name="348"></a>348</td><td></td><td></td><td></td><td></td><td class="s">  sponge_      =&gt; { class =&gt; 'DBD::Sponge',         },</td></tr>
<tr><td class="h"><a name="349"></a>349</td><td></td><td></td><td></td><td></td><td class="s">  sql_         =&gt; { class =&gt; 'DBI::DBD::SqlEngine', },</td></tr>
<tr><td class="h"><a name="350"></a>350</td><td></td><td></td><td></td><td></td><td class="s">  sqlite_      =&gt; { class =&gt; 'DBD::SQLite',         },</td></tr>
<tr><td class="h"><a name="351"></a>351</td><td></td><td></td><td></td><td></td><td class="s">  syb_         =&gt; { class =&gt; 'DBD::Sybase',         },</td></tr>
<tr><td class="h"><a name="352"></a>352</td><td></td><td></td><td></td><td></td><td class="s">  sys_         =&gt; { class =&gt; 'DBD::Sys',            },</td></tr>
<tr><td class="h"><a name="353"></a>353</td><td></td><td></td><td></td><td></td><td class="s">  tdat_        =&gt; { class =&gt; 'DBD::Teradata',       },</td></tr>
<tr><td class="h"><a name="354"></a>354</td><td></td><td></td><td></td><td></td><td class="s">  tmpl_        =&gt; { class =&gt; 'DBD::Template',       },</td></tr>
<tr><td class="h"><a name="355"></a>355</td><td></td><td></td><td></td><td></td><td class="s">  tmplss_      =&gt; { class =&gt; 'DBD::TemplateSS',     },</td></tr>
<tr><td class="h"><a name="356"></a>356</td><td></td><td></td><td></td><td></td><td class="s">  tree_        =&gt; { class =&gt; 'DBD::TreeData',       },</td></tr>
<tr><td class="h"><a name="357"></a>357</td><td></td><td></td><td></td><td></td><td class="s">  tuber_       =&gt; { class =&gt; 'DBD::Tuber',          },</td></tr>
<tr><td class="h"><a name="358"></a>358</td><td></td><td></td><td></td><td></td><td class="s">  uni_         =&gt; { class =&gt; 'DBD::Unify',          },</td></tr>
<tr><td class="h"><a name="359"></a>359</td><td></td><td></td><td></td><td></td><td class="s">  vt_          =&gt; { class =&gt; 'DBD::Vt',             },</td></tr>
<tr><td class="h"><a name="360"></a>360</td><td></td><td></td><td></td><td></td><td class="s">  wmi_         =&gt; { class =&gt; 'DBD::WMI',            },</td></tr>
<tr><td class="h"><a name="361"></a>361</td><td></td><td></td><td></td><td></td><td class="s">  x_           =&gt; { }, # for private use</td></tr>
<tr><td class="h"><a name="362"></a>362</td><td></td><td></td><td></td><td></td><td class="s">  xbase_       =&gt; { class =&gt; 'DBD::XBase',          },</td></tr>
<tr><td class="h"><a name="363"></a>363</td><td></td><td></td><td></td><td></td><td class="s">  xl_          =&gt; { class =&gt; 'DBD::Excel',          },</td></tr>
<tr><td class="h"><a name="364"></a>364</td><td></td><td></td><td></td><td></td><td class="s">  yaswi_       =&gt; { class =&gt; 'DBD::Yaswi',          },</td></tr>
<tr><td class="h"><a name="365"></a>365</td><td></td><td></td><td></td><td></td><td class="s">};</td></tr>
<tr><td class="h"><a name="366"></a>366</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="367"></a>367</td><td></td><td></td><td></td><td></td><td class="s">my %dbd_class_registry = map { $dbd_prefix_registry-&gt;{$_}-&gt;{class} =&gt; { prefix =&gt; $_ } }</td></tr>
<tr><td class="h"><a name="368"></a>368</td><td></td><td></td><td></td><td></td><td class="s">                             grep { exists $dbd_prefix_registry-&gt;{$_}-&gt;{class} }</td></tr>
<tr><td class="h"><a name="369"></a>369</td><td class="c3">1</td><td class="c0"><span title="Avg 84&micro;s">84&micro;s</span></td><td></td><td></td><td class="s">                             keys %{$dbd_prefix_registry};</td></tr>
<tr><td class="h"><a name="370"></a>370</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="371"></a>371</td><td></td><td></td><td></td><td></td><td class="s">sub dump_dbd_registry {</td></tr>
<tr><td class="h"><a name="372"></a>372</td><td></td><td></td><td></td><td></td><td class="s">    require Data::Dumper;</td></tr>
<tr><td class="h"><a name="373"></a>373</td><td></td><td></td><td></td><td></td><td class="s">    local $Data::Dumper::Sortkeys=1;</td></tr>
<tr><td class="h"><a name="374"></a>374</td><td></td><td></td><td></td><td></td><td class="s">    local $Data::Dumper::Indent=1;</td></tr>
<tr><td class="h"><a name="375"></a>375</td><td></td><td></td><td></td><td></td><td class="s">    print Data::Dumper-&gt;Dump([$dbd_prefix_registry], [qw($dbd_prefix_registry)]);</td></tr>
<tr><td class="h"><a name="376"></a>376</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="377"></a>377</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="378"></a>378</td><td></td><td></td><td></td><td></td><td class="s"># --- Dynamically create the DBI Standard Interface</td></tr>
<tr><td class="h"><a name="379"></a>379</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="380"></a>380</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">my $keeperr = { O=&gt;0x0004 };</td></tr>
<tr><td class="h"><a name="381"></a>381</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="382"></a>382</td><td class="c3">1</td><td class="c0"><span title="Avg 91&micro;s">91&micro;s</span></td><td></td><td></td><td class="s">%DBI::DBI_methods = ( # Define the DBI interface methods per class:</td></tr>
<tr><td class="h"><a name="383"></a>383</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="384"></a>384</td><td></td><td></td><td></td><td></td><td class="s">    common =&gt; {                # Interface methods common to all DBI handle classes</td></tr>
<tr><td class="h"><a name="385"></a>385</td><td></td><td></td><td></td><td></td><td class="s">        'DESTROY'        =&gt; { O=&gt;0x004|0x10000 },</td></tr>
<tr><td class="h"><a name="386"></a>386</td><td></td><td></td><td></td><td></td><td class="s">        'CLEAR'          =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="387"></a>387</td><td></td><td></td><td></td><td></td><td class="s">        'EXISTS'         =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="388"></a>388</td><td></td><td></td><td></td><td></td><td class="s">        'FETCH'                =&gt; { O=&gt;0x0404 },</td></tr>
<tr><td class="h"><a name="389"></a>389</td><td></td><td></td><td></td><td></td><td class="s">        'FETCH_many'        =&gt; { O=&gt;0x0404 },</td></tr>
<tr><td class="h"><a name="390"></a>390</td><td></td><td></td><td></td><td></td><td class="s">        'FIRSTKEY'        =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="391"></a>391</td><td></td><td></td><td></td><td></td><td class="s">        'NEXTKEY'        =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="392"></a>392</td><td></td><td></td><td></td><td></td><td class="s">        'STORE'                =&gt; { O=&gt;0x0418 | 0x4 },</td></tr>
<tr><td class="h"><a name="393"></a>393</td><td></td><td></td><td></td><td></td><td class="s">        _not_impl        =&gt; undef,</td></tr>
<tr><td class="h"><a name="394"></a>394</td><td></td><td></td><td></td><td></td><td class="s">        can                =&gt; { O=&gt;0x0100 }, # special case, see dispatch</td></tr>
<tr><td class="h"><a name="395"></a>395</td><td></td><td></td><td></td><td></td><td class="s">        debug                  =&gt; { U =&gt;[1,2,'[$debug_level]'],        O=&gt;0x0004 }, # old name for trace</td></tr>
<tr><td class="h"><a name="396"></a>396</td><td></td><td></td><td></td><td></td><td class="s">        dump_handle         =&gt; { U =&gt;[1,3,'[$message [, $level]]'],        O=&gt;0x0004 },</td></tr>
<tr><td class="h"><a name="397"></a>397</td><td></td><td></td><td></td><td></td><td class="s">        err                =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="398"></a>398</td><td></td><td></td><td></td><td></td><td class="s">        errstr                =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="399"></a>399</td><td></td><td></td><td></td><td></td><td class="s">        state                =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="400"></a>400</td><td></td><td></td><td></td><td></td><td class="s">        func                   =&gt; { O=&gt;0x0006        },</td></tr>
<tr><td class="h"><a name="401"></a>401</td><td></td><td></td><td></td><td></td><td class="s">        parse_trace_flag   =&gt; { U =&gt;[2,2,'$name'],        O=&gt;0x0404, T=&gt;8 },</td></tr>
<tr><td class="h"><a name="402"></a>402</td><td></td><td></td><td></td><td></td><td class="s">        parse_trace_flags  =&gt; { U =&gt;[2,2,'$flags'],        O=&gt;0x0404, T=&gt;8 },</td></tr>
<tr><td class="h"><a name="403"></a>403</td><td></td><td></td><td></td><td></td><td class="s">        private_data        =&gt; { U =&gt;[1,1],                        O=&gt;0x0004 },</td></tr>
<tr><td class="h"><a name="404"></a>404</td><td></td><td></td><td></td><td></td><td class="s">        set_err                =&gt; { U =&gt;[3,6,'$err, $errmsg [, $state, $method, $rv]'], O=&gt;0x0010 },</td></tr>
<tr><td class="h"><a name="405"></a>405</td><td></td><td></td><td></td><td></td><td class="s">        trace                =&gt; { U =&gt;[1,3,'[$trace_level, [$filename]]'],        O=&gt;0x0004 },</td></tr>
<tr><td class="h"><a name="406"></a>406</td><td></td><td></td><td></td><td></td><td class="s">        trace_msg        =&gt; { U =&gt;[2,3,'$message_text [, $min_level ]' ],        O=&gt;0x0004, T=&gt;8 },</td></tr>
<tr><td class="h"><a name="407"></a>407</td><td></td><td></td><td></td><td></td><td class="s">        swap_inner_handle =&gt; { U =&gt;[2,3,'$h [, $allow_reparent ]'] },</td></tr>
<tr><td class="h"><a name="408"></a>408</td><td></td><td></td><td></td><td></td><td class="s">        private_attribute_info =&gt; { },</td></tr>
<tr><td class="h"><a name="409"></a>409</td><td></td><td></td><td></td><td></td><td class="s">        visit_child_handles =&gt; { U =&gt; [2,3,'$coderef [, $info ]'], O=&gt;0x0404, T=&gt;4 },</td></tr>
<tr><td class="h"><a name="410"></a>410</td><td></td><td></td><td></td><td></td><td class="s">    },</td></tr>
<tr><td class="h"><a name="411"></a>411</td><td></td><td></td><td></td><td></td><td class="s">    dr =&gt; {                # Database Driver Interface</td></tr>
<tr><td class="h"><a name="412"></a>412</td><td></td><td></td><td></td><td></td><td class="s">        'connect'  =&gt;        { U =&gt;[1,5,'[$db [,$user [,$passwd [,\%attr]]]]'], H=&gt;3, O=&gt;0x8000, T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="413"></a>413</td><td></td><td></td><td></td><td></td><td class="s">        'connect_cached'=&gt;{U=&gt;[1,5,'[$db [,$user [,$passwd [,\%attr]]]]'], H=&gt;3, O=&gt;0x8000, T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="414"></a>414</td><td></td><td></td><td></td><td></td><td class="s">        'disconnect_all'=&gt;{ U =&gt;[1,1], O=&gt;0x0800, T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="415"></a>415</td><td></td><td></td><td></td><td></td><td class="s">        data_sources =&gt; { U =&gt;[1,2,'[\%attr]' ], O=&gt;0x0800, T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="416"></a>416</td><td></td><td></td><td></td><td></td><td class="s">        default_user =&gt; { U =&gt;[3,4,'$user, $pass [, \%attr]' ], T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="417"></a>417</td><td></td><td></td><td></td><td></td><td class="s">        dbixs_revision  =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="418"></a>418</td><td></td><td></td><td></td><td></td><td class="s">    },</td></tr>
<tr><td class="h"><a name="419"></a>419</td><td></td><td></td><td></td><td></td><td class="s">    db =&gt; {                # Database Session Class Interface</td></tr>
<tr><td class="h"><a name="420"></a>420</td><td></td><td></td><td></td><td></td><td class="s">        data_sources        =&gt; { U =&gt;[1,2,'[\%attr]' ], O=&gt;0x0200 },</td></tr>
<tr><td class="h"><a name="421"></a>421</td><td></td><td></td><td></td><td></td><td class="s">        take_imp_data        =&gt; { U =&gt;[1,1], O=&gt;0x10000 },</td></tr>
<tr><td class="h"><a name="422"></a>422</td><td></td><td></td><td></td><td></td><td class="s">        clone           =&gt; { U =&gt;[1,2,'[\%attr]'], T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="423"></a>423</td><td></td><td></td><td></td><td></td><td class="s">        connected           =&gt; { U =&gt;[1,0], O =&gt; 0x0004, T=&gt;0x200, H=&gt;3 },</td></tr>
<tr><td class="h"><a name="424"></a>424</td><td></td><td></td><td></td><td></td><td class="s">        begin_work           =&gt; { U =&gt;[1,2,'[ \%attr ]'], O=&gt;0x0400, T=&gt;0x1000 },</td></tr>
<tr><td class="h"><a name="425"></a>425</td><td></td><td></td><td></td><td></td><td class="s">        commit             =&gt; { U =&gt;[1,1], O=&gt;0x0480|0x0800, T=&gt;0x1000 },</td></tr>
<tr><td class="h"><a name="426"></a>426</td><td></td><td></td><td></td><td></td><td class="s">        rollback           =&gt; { U =&gt;[1,1], O=&gt;0x0480|0x0800, T=&gt;0x1000 },</td></tr>
<tr><td class="h"><a name="427"></a>427</td><td></td><td></td><td></td><td></td><td class="s">        'do'               =&gt; { U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x3200 },</td></tr>
<tr><td class="h"><a name="428"></a>428</td><td></td><td></td><td></td><td></td><td class="s">        last_insert_id        =&gt; { U =&gt;[5,6,'$catalog, $schema, $table_name, $field_name [, \%attr ]'], O=&gt;0x2800 },</td></tr>
<tr><td class="h"><a name="429"></a>429</td><td></td><td></td><td></td><td></td><td class="s">        preparse            =&gt; {  }, # XXX</td></tr>
<tr><td class="h"><a name="430"></a>430</td><td></td><td></td><td></td><td></td><td class="s">        prepare            =&gt; { U =&gt;[2,3,'$statement [, \%attr]'],                    O=&gt;0xA200 },</td></tr>
<tr><td class="h"><a name="431"></a>431</td><td></td><td></td><td></td><td></td><td class="s">        prepare_cached        =&gt; { U =&gt;[2,4,'$statement [, \%attr [, $if_active ] ]'],   O=&gt;0xA200 },</td></tr>
<tr><td class="h"><a name="432"></a>432</td><td></td><td></td><td></td><td></td><td class="s">        selectrow_array        =&gt; { U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="433"></a>433</td><td></td><td></td><td></td><td></td><td class="s">        selectrow_arrayref=&gt;{U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="434"></a>434</td><td></td><td></td><td></td><td></td><td class="s">        selectrow_hashref=&gt;{ U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="435"></a>435</td><td></td><td></td><td></td><td></td><td class="s">        selectall_arrayref=&gt;{U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="436"></a>436</td><td></td><td></td><td></td><td></td><td class="s">        selectall_hashref=&gt;{ U =&gt;[3,0,'$statement, $keyfield [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="437"></a>437</td><td></td><td></td><td></td><td></td><td class="s">        selectcol_arrayref=&gt;{U =&gt;[2,0,'$statement [, \%attr [, @bind_params ] ]'], O=&gt;0x2000 },</td></tr>
<tr><td class="h"><a name="438"></a>438</td><td></td><td></td><td></td><td></td><td class="s">        ping               =&gt; { U =&gt;[1,1], O=&gt;0x0404 },</td></tr>
<tr><td class="h"><a name="439"></a>439</td><td></td><td></td><td></td><td></td><td class="s">        disconnect         =&gt; { U =&gt;[1,1], O=&gt;0x0400|0x0800|0x10000, T=&gt;0x200 },</td></tr>
<tr><td class="h"><a name="440"></a>440</td><td></td><td></td><td></td><td></td><td class="s">        quote              =&gt; { U =&gt;[2,3, '$string [, $data_type ]' ], O=&gt;0x0430 },</td></tr>
<tr><td class="h"><a name="441"></a>441</td><td></td><td></td><td></td><td></td><td class="s">        quote_identifier=&gt; { U =&gt;[2,6, '$name [, ...] [, \%attr ]' ],    O=&gt;0x0430 },</td></tr>
<tr><td class="h"><a name="442"></a>442</td><td></td><td></td><td></td><td></td><td class="s">        rows               =&gt; $keeperr,</td></tr>
<tr><td class="h"><a name="443"></a>443</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="444"></a>444</td><td></td><td></td><td></td><td></td><td class="s">        tables          =&gt; { U =&gt;[1,6,'$catalog, $schema, $table, $type [, \%attr ]' ], O=&gt;0x2200 },</td></tr>
<tr><td class="h"><a name="445"></a>445</td><td></td><td></td><td></td><td></td><td class="s">        table_info      =&gt; { U =&gt;[1,6,'$catalog, $schema, $table, $type [, \%attr ]' ],        O=&gt;0x2200|0x8800 },</td></tr>
<tr><td class="h"><a name="446"></a>446</td><td></td><td></td><td></td><td></td><td class="s">        column_info     =&gt; { U =&gt;[5,6,'$catalog, $schema, $table, $column [, \%attr ]'],O=&gt;0x2200|0x8800 },</td></tr>
<tr><td class="h"><a name="447"></a>447</td><td></td><td></td><td></td><td></td><td class="s">        primary_key_info=&gt; { U =&gt;[4,5,'$catalog, $schema, $table [, \%attr ]' ],        O=&gt;0x2200|0x8800 },</td></tr>
<tr><td class="h"><a name="448"></a>448</td><td></td><td></td><td></td><td></td><td class="s">        primary_key     =&gt; { U =&gt;[4,5,'$catalog, $schema, $table [, \%attr ]' ],        O=&gt;0x2200 },</td></tr>
<tr><td class="h"><a name="449"></a>449</td><td></td><td></td><td></td><td></td><td class="s">        foreign_key_info=&gt; { U =&gt;[7,8,'$pk_catalog, $pk_schema, $pk_table, $fk_catalog, $fk_schema, $fk_table [, \%attr ]' ], O=&gt;0x2200|0x8800 },</td></tr>
<tr><td class="h"><a name="450"></a>450</td><td></td><td></td><td></td><td></td><td class="s">        statistics_info =&gt; { U =&gt;[6,7,'$catalog, $schema, $table, $unique_only, $quick, [, \%attr ]' ], O=&gt;0x2200|0x8800 },</td></tr>
<tr><td class="h"><a name="451"></a>451</td><td></td><td></td><td></td><td></td><td class="s">        type_info_all        =&gt; { U =&gt;[1,1], O=&gt;0x2200|0x0800 },</td></tr>
<tr><td class="h"><a name="452"></a>452</td><td></td><td></td><td></td><td></td><td class="s">        type_info        =&gt; { U =&gt;[1,2,'$data_type'], O=&gt;0x2200 },</td></tr>
<tr><td class="h"><a name="453"></a>453</td><td></td><td></td><td></td><td></td><td class="s">        get_info        =&gt; { U =&gt;[2,2,'$info_type'], O=&gt;0x2200|0x0800 },</td></tr>
<tr><td class="h"><a name="454"></a>454</td><td></td><td></td><td></td><td></td><td class="s">    },</td></tr>
<tr><td class="h"><a name="455"></a>455</td><td></td><td></td><td></td><td></td><td class="s">    st =&gt; {                # Statement Class Interface</td></tr>
<tr><td class="h"><a name="456"></a>456</td><td></td><td></td><td></td><td></td><td class="s">        bind_col        =&gt; { U =&gt;[3,4,'$column, \\$var [, \%attr]'] },</td></tr>
<tr><td class="h"><a name="457"></a>457</td><td></td><td></td><td></td><td></td><td class="s">        bind_columns        =&gt; { U =&gt;[2,0,'\\$var1 [, \\$var2, ...]'] },</td></tr>
<tr><td class="h"><a name="458"></a>458</td><td></td><td></td><td></td><td></td><td class="s">        bind_param        =&gt; { U =&gt;[3,4,'$parameter, $var [, \%attr]'] },</td></tr>
<tr><td class="h"><a name="459"></a>459</td><td></td><td></td><td></td><td></td><td class="s">        bind_param_inout=&gt; { U =&gt;[4,5,'$parameter, \\$var, $maxlen, [, \%attr]'] },</td></tr>
<tr><td class="h"><a name="460"></a>460</td><td></td><td></td><td></td><td></td><td class="s">        execute                =&gt; { U =&gt;[1,0,'[@args]'], O=&gt;0x1040 },</td></tr>
<tr><td class="h"><a name="461"></a>461</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="462"></a>462</td><td></td><td></td><td></td><td></td><td class="s">        bind_param_array  =&gt; { U =&gt;[3,4,'$parameter, $var [, \%attr]'] },</td></tr>
<tr><td class="h"><a name="463"></a>463</td><td></td><td></td><td></td><td></td><td class="s">        bind_param_inout_array =&gt; { U =&gt;[4,5,'$parameter, \\@var, $maxlen, [, \%attr]'] },</td></tr>
<tr><td class="h"><a name="464"></a>464</td><td></td><td></td><td></td><td></td><td class="s">        execute_array     =&gt; { U =&gt;[2,0,'\\%attribs [, @args]'],         O=&gt;0x1040|0x4000 },</td></tr>
<tr><td class="h"><a name="465"></a>465</td><td></td><td></td><td></td><td></td><td class="s">        execute_for_fetch =&gt; { U =&gt;[2,3,'$fetch_sub [, $tuple_status]'], O=&gt;0x1040|0x4000 },</td></tr>
<tr><td class="h"><a name="466"></a>466</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="467"></a>467</td><td></td><td></td><td></td><td></td><td class="s">        fetch              =&gt; undef, # alias for fetchrow_arrayref</td></tr>
<tr><td class="h"><a name="468"></a>468</td><td></td><td></td><td></td><td></td><td class="s">        fetchrow_arrayref =&gt; undef,</td></tr>
<tr><td class="h"><a name="469"></a>469</td><td></td><td></td><td></td><td></td><td class="s">        fetchrow_hashref  =&gt; undef,</td></tr>
<tr><td class="h"><a name="470"></a>470</td><td></td><td></td><td></td><td></td><td class="s">        fetchrow_array    =&gt; undef,</td></tr>
<tr><td class="h"><a name="471"></a>471</td><td></td><td></td><td></td><td></td><td class="s">        fetchrow             =&gt; undef, # old alias for fetchrow_array</td></tr>
<tr><td class="h"><a name="472"></a>472</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="473"></a>473</td><td></td><td></td><td></td><td></td><td class="s">        fetchall_arrayref =&gt; { U =&gt;[1,3, '[ $slice [, $max_rows]]'] },</td></tr>
<tr><td class="h"><a name="474"></a>474</td><td></td><td></td><td></td><td></td><td class="s">        fetchall_hashref  =&gt; { U =&gt;[2,2,'$key_field'] },</td></tr>
<tr><td class="h"><a name="475"></a>475</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="476"></a>476</td><td></td><td></td><td></td><td></td><td class="s">        blob_read  =&gt;        { U =&gt;[4,5,'$field, $offset, $len [, \\$buf [, $bufoffset]]'] },</td></tr>
<tr><td class="h"><a name="477"></a>477</td><td></td><td></td><td></td><td></td><td class="s">        blob_copy_to_file =&gt; { U =&gt;[3,3,'$field, $filename_or_handleref'] },</td></tr>
<tr><td class="h"><a name="478"></a>478</td><td></td><td></td><td></td><td></td><td class="s">        dump_results =&gt; { U =&gt;[1,5,'$maxfieldlen, $linesep, $fieldsep, $filehandle'] },</td></tr>
<tr><td class="h"><a name="479"></a>479</td><td></td><td></td><td></td><td></td><td class="s">        more_results =&gt; { U =&gt;[1,1] },</td></tr>
<tr><td class="h"><a name="480"></a>480</td><td></td><td></td><td></td><td></td><td class="s">        finish     =&gt;         { U =&gt;[1,1] },</td></tr>
<tr><td class="h"><a name="481"></a>481</td><td></td><td></td><td></td><td></td><td class="s">        cancel     =&gt;         { U =&gt;[1,1], O=&gt;0x0800 },</td></tr>
<tr><td class="h"><a name="482"></a>482</td><td></td><td></td><td></td><td></td><td class="s">        rows       =&gt;        $keeperr,</td></tr>
<tr><td class="h"><a name="483"></a>483</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="484"></a>484</td><td></td><td></td><td></td><td></td><td class="s">        _get_fbav        =&gt; undef,</td></tr>
<tr><td class="h"><a name="485"></a>485</td><td></td><td></td><td></td><td></td><td class="s">        _set_fbav        =&gt; { T=&gt;6 },</td></tr>
<tr><td class="h"><a name="486"></a>486</td><td></td><td></td><td></td><td></td><td class="s">    },</td></tr>
<tr><td class="h"><a name="487"></a>487</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="488"></a>488</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="489"></a>489</td><td class="c3">1</td><td class="c2"><span title="Avg 6&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">while ( my ($class, $meths) = each %DBI::DBI_methods ) {</td></tr>
<tr><td class="h"><a name="490"></a>490</td><td class="c0">4</td><td class="c3"><span title="Avg 675ns">3&micro;s</span></td><td></td><td></td><td class="s">    my $ima_trace = 0+($ENV{DBI_IMA_TRACE}||0);</td></tr>
<tr><td class="h"><a name="491"></a>491</td><td class="c0">4</td><td class="c0"><span title="Avg 28&micro;s">114&micro;s</span></td><td></td><td></td><td class="s">    while ( my ($method, $info) = each %$meths ) {</td></tr>
<tr><td class="h"><a name="492"></a>492</td><td class="c0">89</td><td class="c0"><span title="Avg 355ns">32&micro;s</span></td><td></td><td></td><td class="s">        my $fullmeth = &quot;DBI::${class}::$method&quot;;</td></tr>
<tr><td class="h"><a name="493"></a>493</td><td class="c0">89</td><td class="c1"><span title="Avg 109ns">10&micro;s</span></td><td></td><td></td><td class="s">        if (($DBI::dbi_debug &amp; 0xF) == 15) { # quick hack to list DBI methods</td></tr>
<tr><td class="h"><a name="494"></a>494</td><td></td><td></td><td></td><td></td><td class="s">            # and optionally filter by IMA flags</td></tr>
<tr><td class="h"><a name="495"></a>495</td><td></td><td></td><td></td><td></td><td class="s">            my $O = $info-&gt;{O}||0;</td></tr>
<tr><td class="h"><a name="496"></a>496</td><td></td><td></td><td></td><td></td><td class="s">            printf &quot;0x%04x %-20s\n&quot;, $O, $fullmeth</td></tr>
<tr><td class="h"><a name="497"></a>497</td><td></td><td></td><td></td><td></td><td class="s">                unless $ima_trace &amp;&amp; !($O &amp; $ima_trace);</td></tr>
<tr><td class="h"><a name="498"></a>498</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="499"></a>499</td><td class="c0">89</td><td class="c0"><span title="Avg 5&micro;s">473&micro;s</span></td><td class="c0">89</td><td class="c0">300&micro;s</td><td class="s">        DBI-&gt;_install_method($fullmeth, 'DBI.pm', $info);<div class="calls"><div class="calls_out">        # spent   300&micro;s making 89 calls to <a href="DBI-pm-1359-line.html#DBI___install_method">DBI::_install_method</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="500"></a>500</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="501"></a>501</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="502"></a>502</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="503"></a>503</td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h"><a name="504"></a>504</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">    package DBI::common;</td></tr>
<tr><td class="h"><a name="505"></a>505</td><td class="c3">1</td><td class="c2"><span title="Avg 6&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">    @DBI::dr::ISA = ('DBI::common');</td></tr>
<tr><td class="h"><a name="506"></a>506</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    @DBI::db::ISA = ('DBI::common');</td></tr>
<tr><td class="h"><a name="507"></a>507</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    @DBI::st::ISA = ('DBI::common');</td></tr>
<tr><td class="h"><a name="508"></a>508</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="509"></a>509</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="510"></a>510</td><td></td><td></td><td></td><td></td><td class="s"># End of init code</td></tr>
<tr><td class="h"><a name="511"></a>511</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="512"></a>512</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="513"></a>513</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 89&micro;s (47+42) within DBI::END which was called:
#    once (47&micro;s+42&micro;s) by main::RUNTIME at <a href="script-nytprof-pl-1-line.html#0">line 0 of script/nytprof.pl</a></div></div>END {</td></tr>
<tr><td class="h"><a name="514"></a>514</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    return unless defined &amp;DBI::trace_msg; # return unless bootstrap'd ok</td></tr>
<tr><td class="h"><a name="515"></a>515</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td></td><td></td><td class="s">    local ($!,$?);</td></tr>
<tr><td class="h"><a name="516"></a>516</td><td class="c3">1</td><td class="c0"><span title="Avg 23&micro;s">23&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">    DBI-&gt;trace_msg(sprintf(&quot;    -- DBI::END (\$\@: %s, \$!: %s)\n&quot;, $@||'', $!||''), 2);<div class="calls"><div class="calls_out">    # spent     2&micro;s making 1 call to <a href="DBI-pm-1359-line.html#DBD_____common__trace_msg">DBD::_::common::trace_msg</a></div></div></td></tr>
<tr><td class="h"><a name="517"></a>517</td><td></td><td></td><td></td><td></td><td class="s">    # Let drivers know why we are calling disconnect_all:</td></tr>
<tr><td class="h"><a name="518"></a>518</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">    $DBI::PERL_ENDING = $DBI::PERL_ENDING = 1;        # avoid typo warning</td></tr>
<tr><td class="h"><a name="519"></a>519</td><td class="c3">1</td><td class="c0"><span title="Avg 17&micro;s">17&micro;s</span></td><td class="c3">1</td><td class="c2">40&micro;s</td><td class="s">    DBI-&gt;disconnect_all() if %DBI::installed_drh;<div class="calls"><div class="calls_out">    # spent    40&micro;s making 1 call to <a href="DBI-pm-1359-line.html#735">DBI::disconnect_all</a></div></div></td></tr>
<tr><td class="h"><a name="520"></a>520</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="521"></a>521</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="522"></a>522</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="523"></a>523</td><td></td><td></td><td></td><td></td><td class="s">sub CLONE {</td></tr>
<tr><td class="h"><a name="524"></a>524</td><td></td><td></td><td></td><td></td><td class="s">    _clone_dbis() unless $DBI::PurePerl; # clone the DBIS structure</td></tr>
<tr><td class="h"><a name="525"></a>525</td><td></td><td></td><td></td><td></td><td class="s">    DBI-&gt;trace_msg(&quot;CLONE DBI for new thread\n&quot;);</td></tr>
<tr><td class="h"><a name="526"></a>526</td><td></td><td></td><td></td><td></td><td class="s">    while ( my ($driver, $drh) = each %DBI::installed_drh) {</td></tr>
<tr><td class="h"><a name="527"></a>527</td><td class="c1">2</td><td class="c0"><span title="Avg 439&micro;s">877&micro;s</span></td><td class="c3">2</td><td class="c0">63&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 43&micro;s (22+21) within DBI::BEGIN@527 which was called:
#    once (22&micro;s+21&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#527">line 527</a></div></div>        no strict 'refs';<div class="calls"><div class="calls_out">        # spent    43&micro;s making 1 call to <a href="DBI-pm-1359-line.html#527">DBI::BEGIN@527</a>
        # spent    21&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="528"></a>528</td><td></td><td></td><td></td><td></td><td class="s">        next if defined &amp;{&quot;DBD::${driver}::CLONE&quot;};</td></tr>
<tr><td class="h"><a name="529"></a>529</td><td></td><td></td><td></td><td></td><td class="s">        warn(&quot;$driver has no driver CLONE() function so is unsafe threaded\n&quot;);</td></tr>
<tr><td class="h"><a name="530"></a>530</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="531"></a>531</td><td></td><td></td><td></td><td></td><td class="s">    %DBI::installed_drh = ();        # clear loaded drivers so they have a chance to reinitialize</td></tr>
<tr><td class="h"><a name="532"></a>532</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="533"></a>533</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="534"></a>534</td><td></td><td></td><td></td><td></td><td class="s">sub parse_dsn {</td></tr>
<tr><td class="h"><a name="535"></a>535</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $dsn) = @_;</td></tr>
<tr><td class="h"><a name="536"></a>536</td><td></td><td></td><td></td><td></td><td class="s">    $dsn =~ s/^(dbi):(\w*?)(?:\((.*?)\))?://i or return;</td></tr>
<tr><td class="h"><a name="537"></a>537</td><td></td><td></td><td></td><td></td><td class="s">    my ($scheme, $driver, $attr, $attr_hash) = (lc($1), $2, $3);</td></tr>
<tr><td class="h"><a name="538"></a>538</td><td></td><td></td><td></td><td></td><td class="s">    $driver ||= $ENV{DBI_DRIVER} || '';</td></tr>
<tr><td class="h"><a name="539"></a>539</td><td></td><td></td><td></td><td></td><td class="s">    $attr_hash = { split /\s*=&gt;?\s*|\s*,\s*/, $attr, -1 } if $attr;</td></tr>
<tr><td class="h"><a name="540"></a>540</td><td></td><td></td><td></td><td></td><td class="s">    return ($scheme, $driver, $attr, $attr_hash, $dsn);</td></tr>
<tr><td class="h"><a name="541"></a>541</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="542"></a>542</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="543"></a>543</td><td></td><td></td><td></td><td></td><td class="s">sub visit_handles {</td></tr>
<tr><td class="h"><a name="544"></a>544</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $code, $outer_info) = @_;</td></tr>
<tr><td class="h"><a name="545"></a>545</td><td></td><td></td><td></td><td></td><td class="s">    $outer_info = {} if not defined $outer_info;</td></tr>
<tr><td class="h"><a name="546"></a>546</td><td></td><td></td><td></td><td></td><td class="s">    my %drh = DBI-&gt;installed_drivers;</td></tr>
<tr><td class="h"><a name="547"></a>547</td><td></td><td></td><td></td><td></td><td class="s">    for my $h (values %drh) {</td></tr>
<tr><td class="h"><a name="548"></a>548</td><td></td><td></td><td></td><td></td><td class="s">        my $child_info = $code-&gt;($h, $outer_info)</td></tr>
<tr><td class="h"><a name="549"></a>549</td><td></td><td></td><td></td><td></td><td class="s">            or next;</td></tr>
<tr><td class="h"><a name="550"></a>550</td><td></td><td></td><td></td><td></td><td class="s">        $h-&gt;visit_child_handles($code, $child_info);</td></tr>
<tr><td class="h"><a name="551"></a>551</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="552"></a>552</td><td></td><td></td><td></td><td></td><td class="s">    return $outer_info;</td></tr>
<tr><td class="h"><a name="553"></a>553</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="554"></a>554</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="555"></a>555</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="556"></a>556</td><td></td><td></td><td></td><td></td><td class="s"># --- The DBI-&gt;connect Front Door methods</td></tr>
<tr><td class="h"><a name="557"></a>557</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="558"></a>558</td><td></td><td></td><td></td><td></td><td class="s">sub connect_cached {</td></tr>
<tr><td class="h"><a name="559"></a>559</td><td></td><td></td><td></td><td></td><td class="s">    # For library code using connect_cached() with mod_perl</td></tr>
<tr><td class="h"><a name="560"></a>560</td><td></td><td></td><td></td><td></td><td class="s">    # we redirect those calls to Apache::DBI::connect() as well</td></tr>
<tr><td class="h"><a name="561"></a>561</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $dsn, $user, $pass, $attr) = @_;</td></tr>
<tr><td class="h"><a name="562"></a>562</td><td></td><td></td><td></td><td></td><td class="s">    my $dbi_connect_method = ($DBI::connect_via eq &quot;Apache::DBI::connect&quot;)</td></tr>
<tr><td class="h"><a name="563"></a>563</td><td></td><td></td><td></td><td></td><td class="s">            ? 'Apache::DBI::connect' : 'connect_cached';</td></tr>
<tr><td class="h"><a name="564"></a>564</td><td></td><td></td><td></td><td></td><td class="s">    $attr = {</td></tr>
<tr><td class="h"><a name="565"></a>565</td><td></td><td></td><td></td><td></td><td class="s">        $attr ? %$attr : (), # clone, don't modify callers data</td></tr>
<tr><td class="h"><a name="566"></a>566</td><td></td><td></td><td></td><td></td><td class="s">        dbi_connect_method =&gt; $dbi_connect_method,</td></tr>
<tr><td class="h"><a name="567"></a>567</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="568"></a>568</td><td></td><td></td><td></td><td></td><td class="s">    return $class-&gt;connect($dsn, $user, $pass, $attr);</td></tr>
<tr><td class="h"><a name="569"></a>569</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="570"></a>570</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="571"></a>571</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 5.52ms (65&micro;s+5.45) within DBI::connect which was called:
#    once (65&micro;s+5.45ms) by DBIx::Class::Storage::DBI::__ANON__[/Users/edenc/perl5/lib/perl5/DBIx/Class/Storage/DBI.pm:1300] at <a href="DBIx-Class-Storage-DBI-pm-2457-line.html#1249">line 1249 of DBIx/Class/Storage/DBI.pm</a></div></div>sub connect {</td></tr>
<tr><td class="h"><a name="572"></a>572</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">    my $class = shift;</td></tr>
<tr><td class="h"><a name="573"></a>573</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    my ($dsn, $user, $pass, $attr, $old_driver) = my @orig_args = @_;</td></tr>
<tr><td class="h"><a name="574"></a>574</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">    my $driver;</td></tr>
<tr><td class="h"><a name="575"></a>575</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="576"></a>576</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">    if ($attr and !ref($attr)) { # switch $old_driver&lt;-&gt;$attr if called in old style</td></tr>
<tr><td class="h"><a name="577"></a>577</td><td></td><td></td><td></td><td></td><td class="s">        Carp::carp(&quot;DBI-&gt;connect using 'old-style' syntax is deprecated and will be an error in future versions&quot;);</td></tr>
<tr><td class="h"><a name="578"></a>578</td><td></td><td></td><td></td><td></td><td class="s">        ($old_driver, $attr) = ($attr, $old_driver);</td></tr>
<tr><td class="h"><a name="579"></a>579</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="580"></a>580</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="581"></a>581</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">    my $connect_meth = $attr-&gt;{dbi_connect_method};</td></tr>
<tr><td class="h"><a name="582"></a>582</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">    $connect_meth ||= $DBI::connect_via;        # fallback to default</td></tr>
<tr><td class="h"><a name="583"></a>583</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="584"></a>584</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    $dsn ||= $ENV{DBI_DSN} || $ENV{DBI_DBNAME} || '' unless $old_driver;</td></tr>
<tr><td class="h"><a name="585"></a>585</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="586"></a>586</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    if ($DBI::dbi_debug) {</td></tr>
<tr><td class="h"><a name="587"></a>587</td><td></td><td></td><td></td><td></td><td class="s">        local $^W = 0;</td></tr>
<tr><td class="h"><a name="588"></a>588</td><td></td><td></td><td></td><td></td><td class="s">        pop @_ if $connect_meth ne 'connect';</td></tr>
<tr><td class="h"><a name="589"></a>589</td><td></td><td></td><td></td><td></td><td class="s">        my @args = @_; $args[2] = '****'; # hide password</td></tr>
<tr><td class="h"><a name="590"></a>590</td><td></td><td></td><td></td><td></td><td class="s">        DBI-&gt;trace_msg(&quot;    -&gt; $class-&gt;$connect_meth(&quot;.join(&quot;, &quot;,@args).&quot;)\n&quot;);</td></tr>
<tr><td class="h"><a name="591"></a>591</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="592"></a>592</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    Carp::croak('Usage: $class-&gt;connect([$dsn [,$user [,$passwd [,\%attr]]]])')</td></tr>
<tr><td class="h"><a name="593"></a>593</td><td></td><td></td><td></td><td></td><td class="s">        if (ref $old_driver or ($attr and not ref $attr) or ref $pass);</td></tr>
<tr><td class="h"><a name="594"></a>594</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="595"></a>595</td><td></td><td></td><td></td><td></td><td class="s">    # extract dbi:driver prefix from $dsn into $1</td></tr>
<tr><td class="h"><a name="596"></a>596</td><td class="c3">1</td><td class="c0"><span title="Avg 12&micro;s">12&micro;s</span></td><td class="c3">1</td><td class="c3">6&micro;s</td><td class="s">    $dsn =~ s/^dbi:(\w*?)(?:\((.*?)\))?://i<div class="calls"><div class="calls_out">    # spent     6&micro;s making 1 call to <a href="DBI-pm-1359-line.html#DBI__CORE_subst">DBI::CORE:subst</a></div></div></td></tr>
<tr><td class="h"><a name="597"></a>597</td><td></td><td></td><td></td><td></td><td class="s">                        or '' =~ /()/; # ensure $1 etc are empty if match fails</td></tr>
<tr><td class="h"><a name="598"></a>598</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    my $driver_attrib_spec = $2 || '';</td></tr>
<tr><td class="h"><a name="599"></a>599</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="600"></a>600</td><td></td><td></td><td></td><td></td><td class="s">    # Set $driver. Old style driver, if specified, overrides new dsn style.</td></tr>
<tr><td class="h"><a name="601"></a>601</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    $driver = $old_driver || $1 || $ENV{DBI_DRIVER}</td></tr>
<tr><td class="h"><a name="602"></a>602</td><td></td><td></td><td></td><td></td><td class="s">        or Carp::croak(&quot;Can't connect to data source '$dsn' &quot;</td></tr>
<tr><td class="h"><a name="603"></a>603</td><td></td><td></td><td></td><td></td><td class="s">            .&quot;because I can't work out what driver to use &quot;</td></tr>
<tr><td class="h"><a name="604"></a>604</td><td></td><td></td><td></td><td></td><td class="s">            .&quot;(it doesn't seem to contain a 'dbi:driver:' prefix &quot;</td></tr>
<tr><td class="h"><a name="605"></a>605</td><td></td><td></td><td></td><td></td><td class="s">            .&quot;and the DBI_DRIVER env var is not set)&quot;);</td></tr>
<tr><td class="h"><a name="606"></a>606</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="607"></a>607</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">    my $proxy;</td></tr>
<tr><td class="h"><a name="608"></a>608</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    if ($ENV{DBI_AUTOPROXY} &amp;&amp; $driver ne 'Proxy' &amp;&amp; $driver ne 'Sponge' &amp;&amp; $driver ne 'Switch') {</td></tr>
<tr><td class="h"><a name="609"></a>609</td><td></td><td></td><td></td><td></td><td class="s">        my $dbi_autoproxy = $ENV{DBI_AUTOPROXY};</td></tr>
<tr><td class="h"><a name="610"></a>610</td><td></td><td></td><td></td><td></td><td class="s">        $proxy = 'Proxy';</td></tr>
<tr><td class="h"><a name="611"></a>611</td><td></td><td></td><td></td><td></td><td class="s">        if ($dbi_autoproxy =~ s/^dbi:(\w*?)(?:\((.*?)\))?://i) {</td></tr>
<tr><td class="h"><a name="612"></a>612</td><td></td><td></td><td></td><td></td><td class="s">            $proxy = $1;</td></tr>
<tr><td class="h"><a name="613"></a>613</td><td></td><td></td><td></td><td></td><td class="s">            $driver_attrib_spec = join &quot;,&quot;,</td></tr>
<tr><td class="h"><a name="614"></a>614</td><td></td><td></td><td></td><td></td><td class="s">                ($driver_attrib_spec) ? $driver_attrib_spec : (),</td></tr>
<tr><td class="h"><a name="615"></a>615</td><td></td><td></td><td></td><td></td><td class="s">                ($2                 ) ? $2                  : ();</td></tr>
<tr><td class="h"><a name="616"></a>616</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="617"></a>617</td><td></td><td></td><td></td><td></td><td class="s">        $dsn = &quot;$dbi_autoproxy;dsn=dbi:$driver:$dsn&quot;;</td></tr>
<tr><td class="h"><a name="618"></a>618</td><td></td><td></td><td></td><td></td><td class="s">        $driver = $proxy;</td></tr>
<tr><td class="h"><a name="619"></a>619</td><td></td><td></td><td></td><td></td><td class="s">        DBI-&gt;trace_msg(&quot;       DBI_AUTOPROXY: dbi:$driver($driver_attrib_spec):$dsn\n&quot;);</td></tr>
<tr><td class="h"><a name="620"></a>620</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="621"></a>621</td><td></td><td></td><td></td><td></td><td class="s">    # avoid recursion if proxy calls DBI-&gt;connect itself</td></tr>
<tr><td class="h"><a name="622"></a>622</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    local $ENV{DBI_AUTOPROXY} if $ENV{DBI_AUTOPROXY};</td></tr>
<tr><td class="h"><a name="623"></a>623</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="624"></a>624</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    my %attributes;        # take a copy we can delete from</td></tr>
<tr><td class="h"><a name="625"></a>625</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    if ($old_driver) {</td></tr>
<tr><td class="h"><a name="626"></a>626</td><td></td><td></td><td></td><td></td><td class="s">        %attributes = %$attr if $attr;</td></tr>
<tr><td class="h"><a name="627"></a>627</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="628"></a>628</td><td></td><td></td><td></td><td></td><td class="s">    else {                # new-style connect so new default semantics</td></tr>
<tr><td class="h"><a name="629"></a>629</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        %attributes = (</td></tr>
<tr><td class="h"><a name="630"></a>630</td><td></td><td></td><td></td><td></td><td class="s">            PrintError =&gt; 1,</td></tr>
<tr><td class="h"><a name="631"></a>631</td><td></td><td></td><td></td><td></td><td class="s">            AutoCommit =&gt; 1,</td></tr>
<tr><td class="h"><a name="632"></a>632</td><td></td><td></td><td></td><td></td><td class="s">            ref $attr           ? %$attr : (),</td></tr>
<tr><td class="h"><a name="633"></a>633</td><td></td><td></td><td></td><td></td><td class="s">            # attributes in DSN take precedence over \%attr connect parameter</td></tr>
<tr><td class="h"><a name="634"></a>634</td><td></td><td></td><td></td><td></td><td class="s">            $driver_attrib_spec ? (split /\s*=&gt;?\s*|\s*,\s*/, $driver_attrib_spec, -1) : (),</td></tr>
<tr><td class="h"><a name="635"></a>635</td><td></td><td></td><td></td><td></td><td class="s">        );</td></tr>
<tr><td class="h"><a name="636"></a>636</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="637"></a>637</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">    $attr = \%attributes; # now set $attr to refer to our local copy</td></tr>
<tr><td class="h"><a name="638"></a>638</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="639"></a>639</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td class="c3">1</td><td class="c0">4.94ms</td><td class="s">    my $drh = $DBI::installed_drh{$driver} || $class-&gt;install_driver($driver)<div class="calls"><div class="calls_out">    # spent  4.94ms making 1 call to <a href="DBI-pm-1359-line.html#748">DBI::install_driver</a></div></div></td></tr>
<tr><td class="h"><a name="640"></a>640</td><td></td><td></td><td></td><td></td><td class="s">        or die &quot;panic: $class-&gt;install_driver($driver) failed&quot;;</td></tr>
<tr><td class="h"><a name="641"></a>641</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="642"></a>642</td><td></td><td></td><td></td><td></td><td class="s">    # attributes in DSN take precedence over \%attr connect parameter</td></tr>
<tr><td class="h"><a name="643"></a>643</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    $user = $attr-&gt;{Username} if defined $attr-&gt;{Username};</td></tr>
<tr><td class="h"><a name="644"></a>644</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    $pass = $attr-&gt;{Password} if defined $attr-&gt;{Password};</td></tr>
<tr><td class="h"><a name="645"></a>645</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    delete $attr-&gt;{Password}; # always delete Password as closure stores it securely</td></tr>
<tr><td class="h"><a name="646"></a>646</td><td class="c3">1</td><td class="c0"><span title="Avg 26&micro;s">26&micro;s</span></td><td class="c3">2</td><td class="c3">31&micro;s</td><td class="s">    if ( !(defined $user &amp;&amp; defined $pass) ) {<div class="calls"><div class="calls_out">    # spent    27&micro;s making 1 call to <a href="script-nytprof-pl-1-line.html#DBI__dr__default_user">DBI::dr::default_user</a>
    # spent     4&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1451">DBD::_::dr::default_user</a></div></div></td></tr>
<tr><td class="h"><a name="647"></a>647</td><td></td><td></td><td></td><td></td><td class="s">        ($user, $pass) = $drh-&gt;default_user($user, $pass, $attr);</td></tr>
<tr><td class="h"><a name="648"></a>648</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="649"></a>649</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    $attr-&gt;{Username} = $user; # force the Username to be the actual one used</td></tr>
<tr><td class="h"><a name="650"></a>650</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="651"></a>651</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 477&micro;s (71+405) within DBI::__ANON__[/Users/edenc/perl5/lib/perl5/darwin-multi-2level/DBI.pm:725] which was called:
#    once (71&micro;s+405&micro;s) by DBI::connect at <a href="DBI-pm-1359-line.html#727">line 727</a></div></div>    my $connect_closure = sub {</td></tr>
<tr><td class="h"><a name="652"></a>652</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">        my ($old_dbh, $override_attr) = @_;</td></tr>
<tr><td class="h"><a name="653"></a>653</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="654"></a>654</td><td></td><td></td><td></td><td></td><td class="s">        #use Data::Dumper;</td></tr>
<tr><td class="h"><a name="655"></a>655</td><td></td><td></td><td></td><td></td><td class="s">        #warn &quot;connect_closure: &quot;.Data::Dumper::Dumper([$attr,\%attributes, $override_attr]);</td></tr>
<tr><td class="h"><a name="656"></a>656</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="657"></a>657</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">        my $dbh;</td></tr>
<tr><td class="h"><a name="658"></a>658</td><td class="c3">1</td><td class="c1"><span title="Avg 10&micro;s">10&micro;s</span></td><td class="c3">2</td><td class="c0">760&micro;s</td><td class="s">        unless ($dbh = $drh-&gt;$connect_meth($dsn, $user, $pass, $attr)) {<div class="calls"><div class="calls_out">        # spent   383&micro;s making 1 call to <a href="script-nytprof-pl-1-line.html#DBI__dr__connect">DBI::dr::connect</a>
        # spent   377&micro;s making 1 call to <a href="DBD-SQLite-pm-2618-line.html#79">DBD::SQLite::dr::connect</a></div></div></td></tr>
<tr><td class="h"><a name="659"></a>659</td><td></td><td></td><td></td><td></td><td class="s">            $user = '' if !defined $user;</td></tr>
<tr><td class="h"><a name="660"></a>660</td><td></td><td></td><td></td><td></td><td class="s">            $dsn = '' if !defined $dsn;</td></tr>
<tr><td class="h"><a name="661"></a>661</td><td></td><td></td><td></td><td></td><td class="s">            # $drh-&gt;errstr isn't safe here because $dbh-&gt;DESTROY may not have</td></tr>
<tr><td class="h"><a name="662"></a>662</td><td></td><td></td><td></td><td></td><td class="s">            # been called yet and so the dbh errstr would not have been copied</td></tr>
<tr><td class="h"><a name="663"></a>663</td><td></td><td></td><td></td><td></td><td class="s">            # up to the drh errstr. Certainly true for connect_cached!</td></tr>
<tr><td class="h"><a name="664"></a>664</td><td></td><td></td><td></td><td></td><td class="s">            my $errstr = $DBI::errstr;</td></tr>
<tr><td class="h"><a name="665"></a>665</td><td></td><td></td><td></td><td></td><td class="s">            # Getting '(no error string)' here is a symptom of a ref loop</td></tr>
<tr><td class="h"><a name="666"></a>666</td><td></td><td></td><td></td><td></td><td class="s">            $errstr = '(no error string)' if !defined $errstr;</td></tr>
<tr><td class="h"><a name="667"></a>667</td><td></td><td></td><td></td><td></td><td class="s">            my $msg = &quot;$class connect('$dsn','$user',...) failed: $errstr&quot;;</td></tr>
<tr><td class="h"><a name="668"></a>668</td><td></td><td></td><td></td><td></td><td class="s">            DBI-&gt;trace_msg(&quot;       $msg\n&quot;);</td></tr>
<tr><td class="h"><a name="669"></a>669</td><td></td><td></td><td></td><td></td><td class="s">            # XXX HandleWarn</td></tr>
<tr><td class="h"><a name="670"></a>670</td><td></td><td></td><td></td><td></td><td class="s">            unless ($attr-&gt;{HandleError} &amp;&amp; $attr-&gt;{HandleError}-&gt;($msg, $drh, $dbh)) {</td></tr>
<tr><td class="h"><a name="671"></a>671</td><td></td><td></td><td></td><td></td><td class="s">                Carp::croak($msg) if $attr-&gt;{RaiseError};</td></tr>
<tr><td class="h"><a name="672"></a>672</td><td></td><td></td><td></td><td></td><td class="s">                Carp::carp ($msg) if $attr-&gt;{PrintError};</td></tr>
<tr><td class="h"><a name="673"></a>673</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="674"></a>674</td><td></td><td></td><td></td><td></td><td class="s">            $! = 0; # for the daft people who do DBI-&gt;connect(...) || die &quot;$!&quot;;</td></tr>
<tr><td class="h"><a name="675"></a>675</td><td></td><td></td><td></td><td></td><td class="s">            return $dbh; # normally undef, but HandleError could change it</td></tr>
<tr><td class="h"><a name="676"></a>676</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="677"></a>677</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="678"></a>678</td><td></td><td></td><td></td><td></td><td class="s">        # merge any attribute overrides but don't change $attr itself (for closure)</td></tr>
<tr><td class="h"><a name="679"></a>679</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        my $apply = { ($override_attr) ? (%$attr, %$override_attr ) : %$attr };</td></tr>
<tr><td class="h"><a name="680"></a>680</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="681"></a>681</td><td></td><td></td><td></td><td></td><td class="s">        # handle basic RootClass subclassing:</td></tr>
<tr><td class="h"><a name="682"></a>682</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">        my $rebless_class = $apply-&gt;{RootClass} || ($class ne 'DBI' ? $class : '');</td></tr>
<tr><td class="h"><a name="683"></a>683</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">        if ($rebless_class) {</td></tr>
<tr><td class="h"><a name="684"></a>684</td><td class="c1">2</td><td class="c0"><span title="Avg 309&micro;s">618&micro;s</span></td><td class="c3">2</td><td class="c2">32&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 21&micro;s (9+12) within DBI::BEGIN@684 which was called:
#    once (9&micro;s+12&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#684">line 684</a></div></div>            no strict 'refs';<div class="calls"><div class="calls_out">            # spent    21&micro;s making 1 call to <a href="DBI-pm-1359-line.html#684">DBI::BEGIN@684</a>
            # spent    12&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="685"></a>685</td><td></td><td></td><td></td><td></td><td class="s">            if ($apply-&gt;{RootClass}) { # explicit attribute (ie not static methd call class)</td></tr>
<tr><td class="h"><a name="686"></a>686</td><td></td><td></td><td></td><td></td><td class="s">                delete $apply-&gt;{RootClass};</td></tr>
<tr><td class="h"><a name="687"></a>687</td><td></td><td></td><td></td><td></td><td class="s">                DBI::_load_class($rebless_class, 0);</td></tr>
<tr><td class="h"><a name="688"></a>688</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="689"></a>689</td><td></td><td></td><td></td><td></td><td class="s">            unless (@{&quot;$rebless_class\::db::ISA&quot;} &amp;&amp; @{&quot;$rebless_class\::st::ISA&quot;}) {</td></tr>
<tr><td class="h"><a name="690"></a>690</td><td></td><td></td><td></td><td></td><td class="s">                Carp::carp(&quot;DBI subclasses '$rebless_class\::db' and ::st are not setup, RootClass ignored&quot;);</td></tr>
<tr><td class="h"><a name="691"></a>691</td><td></td><td></td><td></td><td></td><td class="s">                $rebless_class = undef;</td></tr>
<tr><td class="h"><a name="692"></a>692</td><td></td><td></td><td></td><td></td><td class="s">                $class = 'DBI';</td></tr>
<tr><td class="h"><a name="693"></a>693</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="694"></a>694</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="695"></a>695</td><td></td><td></td><td></td><td></td><td class="s">                $dbh-&gt;{RootClass} = $rebless_class; # $dbh-&gt;STORE called via plain DBI::db</td></tr>
<tr><td class="h"><a name="696"></a>696</td><td></td><td></td><td></td><td></td><td class="s">                DBI::_set_isa([$rebless_class], 'DBI');     # sets up both '::db' and '::st'</td></tr>
<tr><td class="h"><a name="697"></a>697</td><td></td><td></td><td></td><td></td><td class="s">                DBI::_rebless($dbh, $rebless_class);        # appends '::db'</td></tr>
<tr><td class="h"><a name="698"></a>698</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="699"></a>699</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="700"></a>700</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="701"></a>701</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">        if (%$apply) {</td></tr>
<tr><td class="h"><a name="702"></a>702</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="703"></a>703</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">            if ($apply-&gt;{DbTypeSubclass}) {</td></tr>
<tr><td class="h"><a name="704"></a>704</td><td></td><td></td><td></td><td></td><td class="s">                my $DbTypeSubclass = delete $apply-&gt;{DbTypeSubclass};</td></tr>
<tr><td class="h"><a name="705"></a>705</td><td></td><td></td><td></td><td></td><td class="s">                DBI::_rebless_dbtype_subclass($dbh, $rebless_class||$class, $DbTypeSubclass);</td></tr>
<tr><td class="h"><a name="706"></a>706</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="707"></a>707</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">            my $a;</td></tr>
<tr><td class="h"><a name="708"></a>708</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">            foreach $a (qw(Profile RaiseError PrintError AutoCommit)) { # do these first</td></tr>
<tr><td class="h"><a name="709"></a>709</td><td class="c0">4</td><td class="c3"><span title="Avg 325ns">1&micro;s</span></td><td></td><td></td><td class="s">                next unless  exists $apply-&gt;{$a};</td></tr>
<tr><td class="h"><a name="710"></a>710</td><td class="c0">3</td><td class="c0"><span title="Avg 12&micro;s">35&micro;s</span></td><td class="c1">3</td><td class="c3">12&micro;s</td><td class="s">                $dbh-&gt;{$a} = delete $apply-&gt;{$a};<div class="calls"><div class="calls_out">                # spent    12&micro;s making 3 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__STORE">DBI::common::STORE</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="711"></a>711</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="712"></a>712</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">            while ( my ($a, $v) = each %$apply) {</td></tr>
<tr><td class="h"><a name="713"></a>713</td><td class="c0">4</td><td class="c0"><span title="Avg 4&micro;s">16&micro;s</span></td><td class="c3">2</td><td class="c3">6&micro;s</td><td class="s">                eval { $dbh-&gt;{$a} = $v }; # assign in void context to avoid re-FETCH<div class="calls"><div class="calls_out">                # spent     6&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__STORE">DBI::common::STORE</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="714"></a>714</td><td class="c1">2</td><td class="c3"><span title="Avg 200ns">400ns</span></td><td></td><td></td><td class="s">                warn $@ if $@;</td></tr>
<tr><td class="h"><a name="715"></a>715</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="716"></a>716</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="717"></a>717</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="718"></a>718</td><td></td><td></td><td></td><td></td><td class="s">        # confirm to driver (ie if subclassed) that we've connected sucessfully</td></tr>
<tr><td class="h"><a name="719"></a>719</td><td></td><td></td><td></td><td></td><td class="s">        # and finished the attribute setup. pass in the original arguments</td></tr>
<tr><td class="h"><a name="720"></a>720</td><td class="c3">1</td><td class="c0"><span title="Avg 12&micro;s">12&micro;s</span></td><td class="c3">1</td><td class="c3">5&micro;s</td><td class="s">        $dbh-&gt;connected(@orig_args); #if ref $dbh ne 'DBI::db' or $proxy;<div class="calls"><div class="calls_out">        # spent     5&micro;s making 1 call to <a href="script-nytprof-pl-1-line.html#DBI__db__connected">DBI::db::connected</a></div></div></td></tr>
<tr><td class="h"><a name="721"></a>721</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="722"></a>722</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">        DBI-&gt;trace_msg(&quot;    &lt;- connect= $dbh\n&quot;) if $DBI::dbi_debug &amp; 0xF;</td></tr>
<tr><td class="h"><a name="723"></a>723</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="724"></a>724</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        return $dbh;</td></tr>
<tr><td class="h"><a name="725"></a>725</td><td class="c3">1</td><td class="c1"><span title="Avg 9&micro;s">9&micro;s</span></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="726"></a>726</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="727"></a>727</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c0">477&micro;s</td><td class="s">    my $dbh = &amp;$connect_closure(undef, undef);<div class="calls"><div class="calls_out">    # spent   477&micro;s making 1 call to <a href="DBI-pm-1359-line.html#651">DBI::__ANON__[DBI.pm:725]</a></div></div></td></tr>
<tr><td class="h"><a name="728"></a>728</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="729"></a>729</td><td class="c3">1</td><td class="c1"><span title="Avg 9&micro;s">9&micro;s</span></td><td class="c3">1</td><td class="c3">2&micro;s</td><td class="s">    $dbh-&gt;{dbi_connect_closure} = $connect_closure if $dbh;<div class="calls"><div class="calls_out">    # spent     2&micro;s making 1 call to <a href="script-nytprof-pl-1-line.html#DBI__common__STORE">DBI::common::STORE</a></div></div></td></tr>
<tr><td class="h"><a name="730"></a>730</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="731"></a>731</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">    return $dbh;</td></tr>
<tr><td class="h"><a name="732"></a>732</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="733"></a>733</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="734"></a>734</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="735"></a>735</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 40&micro;s (26+14) within DBI::disconnect_all which was called:
#    once (26&micro;s+14&micro;s) by DBI::END at <a href="DBI-pm-1359-line.html#519">line 519</a></div></div>sub disconnect_all {</td></tr>
<tr><td class="h"><a name="736"></a>736</td><td class="c3">1</td><td class="c3"><span title="Avg 3&micro;s">3&micro;s</span></td><td></td><td></td><td class="s">    keys %DBI::installed_drh; # reset iterator</td></tr>
<tr><td class="h"><a name="737"></a>737</td><td class="c3">1</td><td class="c0"><span title="Avg 38&micro;s">38&micro;s</span></td><td class="c3">1</td><td class="c3">14&micro;s</td><td class="s">    while ( my ($name, $drh) = each %DBI::installed_drh ) {<div class="calls"><div class="calls_out">    # spent    14&micro;s making 1 call to <a href="script-nytprof-pl-1-line.html#DBI__dr__disconnect_all">DBI::dr::disconnect_all</a></div></div></td></tr>
<tr><td class="h"><a name="738"></a>738</td><td></td><td></td><td></td><td></td><td class="s">        $drh-&gt;disconnect_all() if ref $drh;</td></tr>
<tr><td class="h"><a name="739"></a>739</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="740"></a>740</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="741"></a>741</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="742"></a>742</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="743"></a>743</td><td></td><td></td><td></td><td></td><td class="s">sub disconnect {                # a regular beginners bug</td></tr>
<tr><td class="h"><a name="744"></a>744</td><td></td><td></td><td></td><td></td><td class="s">    Carp::croak(&quot;DBI-&gt;disconnect is not a DBI method (read the DBI manual)&quot;);</td></tr>
<tr><td class="h"><a name="745"></a>745</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="746"></a>746</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="747"></a>747</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="748"></a>748</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4.94ms (3.41+1.53) within DBI::install_driver which was called:
#    once (3.41ms+1.53ms) by DBI::connect at <a href="DBI-pm-1359-line.html#639">line 639</a></div></div>sub install_driver {                # croaks on failure</td></tr>
<tr><td class="h"><a name="749"></a>749</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">    my $class = shift;</td></tr>
<tr><td class="h"><a name="750"></a>750</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    my($driver, $attr) = @_;</td></tr>
<tr><td class="h"><a name="751"></a>751</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">    my $drh;</td></tr>
<tr><td class="h"><a name="752"></a>752</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="753"></a>753</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">    $driver ||= $ENV{DBI_DRIVER} || '';</td></tr>
<tr><td class="h"><a name="754"></a>754</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="755"></a>755</td><td></td><td></td><td></td><td></td><td class="s">    # allow driver to be specified as a 'dbi:driver:' string</td></tr>
<tr><td class="h"><a name="756"></a>756</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td class="c3">1</td><td class="c3">900ns</td><td class="s">    $driver = $1 if $driver =~ s/^DBI:(.*?)://i;<div class="calls"><div class="calls_out">    # spent   900ns making 1 call to <a href="DBI-pm-1359-line.html#DBI__CORE_subst">DBI::CORE:subst</a></div></div></td></tr>
<tr><td class="h"><a name="757"></a>757</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="758"></a>758</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">    Carp::croak(&quot;usage: $class-&gt;install_driver(\$driver [, \%attr])&quot;)</td></tr>
<tr><td class="h"><a name="759"></a>759</td><td></td><td></td><td></td><td></td><td class="s">                unless ($driver and @_&lt;=3);</td></tr>
<tr><td class="h"><a name="760"></a>760</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="761"></a>761</td><td></td><td></td><td></td><td></td><td class="s">    # already installed</td></tr>
<tr><td class="h"><a name="762"></a>762</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">    return $drh if $drh = $DBI::installed_drh{$driver};</td></tr>
<tr><td class="h"><a name="763"></a>763</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="764"></a>764</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">    $class-&gt;trace_msg(&quot;    -&gt; $class-&gt;install_driver($driver&quot;</td></tr>
<tr><td class="h"><a name="765"></a>765</td><td></td><td></td><td></td><td></td><td class="s">                        .&quot;) for $^O perl=$] pid=$$ ruid=$&lt; euid=$&gt;\n&quot;)</td></tr>
<tr><td class="h"><a name="766"></a>766</td><td></td><td></td><td></td><td></td><td class="s">        if $DBI::dbi_debug &amp; 0xF;</td></tr>
<tr><td class="h"><a name="767"></a>767</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="768"></a>768</td><td></td><td></td><td></td><td></td><td class="s">    # --- load the code</td></tr>
<tr><td class="h"><a name="769"></a>769</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    my $driver_class = &quot;DBD::$driver&quot;;</td></tr>
<tr><td class="h"><a name="770"></a>770</td><td class="c3">1</td><td class="c0"><span title="Avg 35&micro;s">35&micro;s</span></td><td></td><td></td><td class="s">    eval qq{package                        # hide from PAUSE<div class="calls"><div class="calls_out">    # spent    94&micro;s executing statements in <a href="(eval 1939)[DBI-pm-770]-2617-line.html">string eval</a></div></div></td></tr>
<tr><td class="h"><a name="771"></a>771</td><td></td><td></td><td></td><td></td><td class="s">                DBI::_firesafe;                # just in case</td></tr>
<tr><td class="h"><a name="772"></a>772</td><td></td><td></td><td></td><td></td><td class="s">            require $driver_class;        # load the driver</td></tr>
<tr><td class="h"><a name="773"></a>773</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="774"></a>774</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    if ($@) {</td></tr>
<tr><td class="h"><a name="775"></a>775</td><td></td><td></td><td></td><td></td><td class="s">        my $err = $@;</td></tr>
<tr><td class="h"><a name="776"></a>776</td><td></td><td></td><td></td><td></td><td class="s">        my $advice = &quot;&quot;;</td></tr>
<tr><td class="h"><a name="777"></a>777</td><td></td><td></td><td></td><td></td><td class="s">        if ($err =~ /Can't find loadable object/) {</td></tr>
<tr><td class="h"><a name="778"></a>778</td><td></td><td></td><td></td><td></td><td class="s">            $advice = &quot;Perhaps DBD::$driver was statically linked into a new perl binary.&quot;</td></tr>
<tr><td class="h"><a name="779"></a>779</td><td></td><td></td><td></td><td></td><td class="s">                 .&quot;\nIn which case you need to use that new perl binary.&quot;</td></tr>
<tr><td class="h"><a name="780"></a>780</td><td></td><td></td><td></td><td></td><td class="s">                 .&quot;\nOr perhaps only the .pm file was installed but not the shared object file.&quot;</td></tr>
<tr><td class="h"><a name="781"></a>781</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="782"></a>782</td><td></td><td></td><td></td><td></td><td class="s">        elsif ($err =~ /Can't locate.*?DBD\/$driver\.pm in \@INC/) {</td></tr>
<tr><td class="h"><a name="783"></a>783</td><td></td><td></td><td></td><td></td><td class="s">            my @drv = $class-&gt;available_drivers(1);</td></tr>
<tr><td class="h"><a name="784"></a>784</td><td></td><td></td><td></td><td></td><td class="s">            $advice = &quot;Perhaps the DBD::$driver perl module hasn't been fully installed,\n&quot;</td></tr>
<tr><td class="h"><a name="785"></a>785</td><td></td><td></td><td></td><td></td><td class="s">                     .&quot;or perhaps the capitalisation of '$driver' isn't right.\n&quot;</td></tr>
<tr><td class="h"><a name="786"></a>786</td><td></td><td></td><td></td><td></td><td class="s">                     .&quot;Available drivers: &quot;.join(&quot;, &quot;, @drv).&quot;.&quot;;</td></tr>
<tr><td class="h"><a name="787"></a>787</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="788"></a>788</td><td></td><td></td><td></td><td></td><td class="s">        elsif ($err =~ /Can't load .*? for module DBD::/) {</td></tr>
<tr><td class="h"><a name="789"></a>789</td><td></td><td></td><td></td><td></td><td class="s">            $advice = &quot;Perhaps a required shared library or dll isn't installed where expected&quot;;</td></tr>
<tr><td class="h"><a name="790"></a>790</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="791"></a>791</td><td></td><td></td><td></td><td></td><td class="s">        elsif ($err =~ /Can't locate .*? in \@INC/) {</td></tr>
<tr><td class="h"><a name="792"></a>792</td><td></td><td></td><td></td><td></td><td class="s">            $advice = &quot;Perhaps a module that DBD::$driver requires hasn't been fully installed&quot;;</td></tr>
<tr><td class="h"><a name="793"></a>793</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="794"></a>794</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;install_driver($driver) failed: $err$advice\n&quot;);</td></tr>
<tr><td class="h"><a name="795"></a>795</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="796"></a>796</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    if ($DBI::dbi_debug &amp; 0xF) {</td></tr>
<tr><td class="h"><a name="797"></a>797</td><td class="c1">2</td><td class="c0"><span title="Avg 119&micro;s">239&micro;s</span></td><td class="c3">2</td><td class="c3">31&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 20&micro;s (9+11) within DBI::BEGIN@797 which was called:
#    once (9&micro;s+11&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#797">line 797</a></div></div>        no strict 'refs';<div class="calls"><div class="calls_out">        # spent    20&micro;s making 1 call to <a href="DBI-pm-1359-line.html#797">DBI::BEGIN@797</a>
        # spent    11&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="798"></a>798</td><td></td><td></td><td></td><td></td><td class="s">        (my $driver_file = $driver_class) =~ s/::/\//g;</td></tr>
<tr><td class="h"><a name="799"></a>799</td><td></td><td></td><td></td><td></td><td class="s">        my $dbd_ver = ${&quot;$driver_class\::VERSION&quot;} || &quot;undef&quot;;</td></tr>
<tr><td class="h"><a name="800"></a>800</td><td></td><td></td><td></td><td></td><td class="s">        $class-&gt;trace_msg(&quot;       install_driver: $driver_class version $dbd_ver&quot;</td></tr>
<tr><td class="h"><a name="801"></a>801</td><td></td><td></td><td></td><td></td><td class="s">                .&quot; loaded from $INC{qq($driver_file.pm)}\n&quot;);</td></tr>
<tr><td class="h"><a name="802"></a>802</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="803"></a>803</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="804"></a>804</td><td></td><td></td><td></td><td></td><td class="s">    # --- do some behind-the-scenes checks and setups on the driver</td></tr>
<tr><td class="h"><a name="805"></a>805</td><td class="c3">1</td><td class="c3"><span title="Avg 3&micro;s">3&micro;s</span></td><td class="c3">1</td><td class="c0">81&micro;s</td><td class="s">    $class-&gt;setup_driver($driver_class);<div class="calls"><div class="calls_out">    # spent    81&micro;s making 1 call to <a href="DBI-pm-1359-line.html#826">DBI::setup_driver</a></div></div></td></tr>
<tr><td class="h"><a name="806"></a>806</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="807"></a>807</td><td></td><td></td><td></td><td></td><td class="s">    # --- run the driver function</td></tr>
<tr><td class="h"><a name="808"></a>808</td><td class="c1">2</td><td class="c3"><span title="Avg 2&micro;s">4&micro;s</span></td><td class="c3">1</td><td class="c0">500&micro;s</td><td class="s">    $drh = eval { $driver_class-&gt;driver($attr || {}) };<div class="calls"><div class="calls_out">    # spent   500&micro;s making 1 call to <a href="DBD-SQLite-pm-2618-line.html#38">DBD::SQLite::driver</a></div></div></td></tr>
<tr><td class="h"><a name="809"></a>809</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    unless ($drh &amp;&amp; ref $drh &amp;&amp; !$@) {</td></tr>
<tr><td class="h"><a name="810"></a>810</td><td></td><td></td><td></td><td></td><td class="s">        my $advice = &quot;&quot;;</td></tr>
<tr><td class="h"><a name="811"></a>811</td><td></td><td></td><td></td><td></td><td class="s">        $@ ||= &quot;$driver_class-&gt;driver didn't return a handle&quot;;</td></tr>
<tr><td class="h"><a name="812"></a>812</td><td></td><td></td><td></td><td></td><td class="s">        # catch people on case in-sensitive systems using the wrong case</td></tr>
<tr><td class="h"><a name="813"></a>813</td><td></td><td></td><td></td><td></td><td class="s">        $advice = &quot;\nPerhaps the capitalisation of DBD '$driver' isn't right.&quot;</td></tr>
<tr><td class="h"><a name="814"></a>814</td><td></td><td></td><td></td><td></td><td class="s">                if $@ =~ /locate object method/;</td></tr>
<tr><td class="h"><a name="815"></a>815</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;$driver_class initialisation failed: $@$advice&quot;);</td></tr>
<tr><td class="h"><a name="816"></a>816</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="817"></a>817</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="818"></a>818</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    $DBI::installed_drh{$driver} = $drh;</td></tr>
<tr><td class="h"><a name="819"></a>819</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">    $class-&gt;trace_msg(&quot;    &lt;- install_driver= $drh\n&quot;) if $DBI::dbi_debug &amp; 0xF;</td></tr>
<tr><td class="h"><a name="820"></a>820</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td></td><td></td><td class="s">    $drh;</td></tr>
<tr><td class="h"><a name="821"></a>821</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="822"></a>822</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="823"></a>823</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">*driver = \&amp;install_driver;        # currently an alias, may change</td></tr>
<tr><td class="h"><a name="824"></a>824</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="825"></a>825</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="826"></a>826</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 184&micro;s (158+26) within DBI::setup_driver which was called 3 times, avg 61&micro;s/call:
#    once (74&micro;s+8&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1293">line 1293</a>
#    once (69&micro;s+12&micro;s) by DBI::install_driver at <a href="DBI-pm-1359-line.html#805">line 805</a>
#    once (15&micro;s+6&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#42">line 42 of DBD/SQLite.pm</a></div></div>sub setup_driver {</td></tr>
<tr><td class="h"><a name="827"></a>827</td><td class="c0">3</td><td class="c3"><span title="Avg 933ns">3&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $driver_class) = @_;</td></tr>
<tr><td class="h"><a name="828"></a>828</td><td class="c0">3</td><td class="c3"><span title="Avg 67ns">200ns</span></td><td></td><td></td><td class="s">    my $h_type;</td></tr>
<tr><td class="h"><a name="829"></a>829</td><td class="c0">3</td><td class="c0"><span title="Avg 4&micro;s">11&micro;s</span></td><td></td><td></td><td class="s">    foreach $h_type (qw(dr db st)){</td></tr>
<tr><td class="h"><a name="830"></a>830</td><td class="c0">9</td><td class="c3"><span title="Avg 522ns">5&micro;s</span></td><td></td><td></td><td class="s">        my $h_class = $driver_class.&quot;::$h_type&quot;;</td></tr>
<tr><td class="h"><a name="831"></a>831</td><td class="c1">2</td><td class="c0"><span title="Avg 106&micro;s">212&micro;s</span></td><td class="c3">2</td><td class="c3">29&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 18&micro;s (8+10) within DBI::BEGIN@831 which was called:
#    once (8&micro;s+10&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#831">line 831</a></div></div>        no strict 'refs';<div class="calls"><div class="calls_out">        # spent    18&micro;s making 1 call to <a href="DBI-pm-1359-line.html#831">DBI::BEGIN@831</a>
        # spent    10&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="832"></a>832</td><td class="c0">9</td><td class="c0"><span title="Avg 9&micro;s">83&micro;s</span></td><td class="c0">9</td><td class="c3">17&micro;s</td><td class="s">        push @{&quot;${h_class}::ISA&quot;},     &quot;DBD::_::$h_type&quot;<div class="calls"><div class="calls_out">        # spent    17&micro;s making 9 calls to <a href="UNIVERSAL-pm-738-line.html#UNIVERSAL__isa">UNIVERSAL::isa</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="833"></a>833</td><td></td><td></td><td></td><td></td><td class="s">            unless UNIVERSAL::isa($h_class, &quot;DBD::_::$h_type&quot;);</td></tr>
<tr><td class="h"><a name="834"></a>834</td><td></td><td></td><td></td><td></td><td class="s">        # The _mem class stuff is (IIRC) a crufty hack for global destruction</td></tr>
<tr><td class="h"><a name="835"></a>835</td><td></td><td></td><td></td><td></td><td class="s">        # timing issues in early versions of perl5 and possibly no longer needed.</td></tr>
<tr><td class="h"><a name="836"></a>836</td><td class="c0">9</td><td class="c3"><span title="Avg 378ns">3&micro;s</span></td><td></td><td></td><td class="s">        my $mem_class = &quot;DBD::_mem::$h_type&quot;;</td></tr>
<tr><td class="h"><a name="837"></a>837</td><td class="c0">9</td><td class="c0"><span title="Avg 9&micro;s">79&micro;s</span></td><td class="c0">9</td><td class="c3">9&micro;s</td><td class="s">        push @{&quot;${h_class}_mem::ISA&quot;}, $mem_class<div class="calls"><div class="calls_out">        # spent     9&micro;s making 9 calls to <a href="UNIVERSAL-pm-738-line.html#UNIVERSAL__isa">UNIVERSAL::isa</a>, avg 1000ns/call</div></div></td></tr>
<tr><td class="h"><a name="838"></a>838</td><td></td><td></td><td></td><td></td><td class="s">            unless UNIVERSAL::isa(&quot;${h_class}_mem&quot;, $mem_class)</td></tr>
<tr><td class="h"><a name="839"></a>839</td><td></td><td></td><td></td><td></td><td class="s">            or $DBI::PurePerl;</td></tr>
<tr><td class="h"><a name="840"></a>840</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="841"></a>841</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="842"></a>842</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="843"></a>843</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="844"></a>844</td><td></td><td></td><td></td><td></td><td class="s">sub _rebless {</td></tr>
<tr><td class="h"><a name="845"></a>845</td><td></td><td></td><td></td><td></td><td class="s">    my $dbh = shift;</td></tr>
<tr><td class="h"><a name="846"></a>846</td><td></td><td></td><td></td><td></td><td class="s">    my ($outer, $inner) = DBI::_handles($dbh);</td></tr>
<tr><td class="h"><a name="847"></a>847</td><td></td><td></td><td></td><td></td><td class="s">    my $class = shift(@_).'::db';</td></tr>
<tr><td class="h"><a name="848"></a>848</td><td></td><td></td><td></td><td></td><td class="s">    bless $inner =&gt; $class;</td></tr>
<tr><td class="h"><a name="849"></a>849</td><td></td><td></td><td></td><td></td><td class="s">    bless $outer =&gt; $class; # outer last for return</td></tr>
<tr><td class="h"><a name="850"></a>850</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="851"></a>851</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="852"></a>852</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="853"></a>853</td><td></td><td></td><td></td><td></td><td class="s">sub _set_isa {</td></tr>
<tr><td class="h"><a name="854"></a>854</td><td></td><td></td><td></td><td></td><td class="s">    my ($classes, $topclass) = @_;</td></tr>
<tr><td class="h"><a name="855"></a>855</td><td></td><td></td><td></td><td></td><td class="s">    my $trace = DBI-&gt;trace_msg(&quot;       _set_isa([@$classes])\n&quot;);</td></tr>
<tr><td class="h"><a name="856"></a>856</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $suffix ('::db','::st') {</td></tr>
<tr><td class="h"><a name="857"></a>857</td><td></td><td></td><td></td><td></td><td class="s">        my $previous = $topclass || 'DBI'; # trees are rooted here</td></tr>
<tr><td class="h"><a name="858"></a>858</td><td></td><td></td><td></td><td></td><td class="s">        foreach my $class (@$classes) {</td></tr>
<tr><td class="h"><a name="859"></a>859</td><td></td><td></td><td></td><td></td><td class="s">            my $base_class = $previous.$suffix;</td></tr>
<tr><td class="h"><a name="860"></a>860</td><td></td><td></td><td></td><td></td><td class="s">            my $sub_class  = $class.$suffix;</td></tr>
<tr><td class="h"><a name="861"></a>861</td><td></td><td></td><td></td><td></td><td class="s">            my $sub_class_isa  = &quot;${sub_class}::ISA&quot;;</td></tr>
<tr><td class="h"><a name="862"></a>862</td><td class="c1">2</td><td class="c0"><span title="Avg 256&micro;s">512&micro;s</span></td><td class="c3">2</td><td class="c3">28&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 18&micro;s (8+10) within DBI::BEGIN@862 which was called:
#    once (8&micro;s+10&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#862">line 862</a></div></div>            no strict 'refs';<div class="calls"><div class="calls_out">            # spent    18&micro;s making 1 call to <a href="DBI-pm-1359-line.html#862">DBI::BEGIN@862</a>
            # spent    10&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="863"></a>863</td><td></td><td></td><td></td><td></td><td class="s">            if (@$sub_class_isa) {</td></tr>
<tr><td class="h"><a name="864"></a>864</td><td></td><td></td><td></td><td></td><td class="s">                DBI-&gt;trace_msg(&quot;       $sub_class_isa skipped (already set to @$sub_class_isa)\n&quot;)</td></tr>
<tr><td class="h"><a name="865"></a>865</td><td></td><td></td><td></td><td></td><td class="s">                    if $trace;</td></tr>
<tr><td class="h"><a name="866"></a>866</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="867"></a>867</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="868"></a>868</td><td></td><td></td><td></td><td></td><td class="s">                @$sub_class_isa = ($base_class) unless @$sub_class_isa;</td></tr>
<tr><td class="h"><a name="869"></a>869</td><td></td><td></td><td></td><td></td><td class="s">                DBI-&gt;trace_msg(&quot;       $sub_class_isa = $base_class\n&quot;)</td></tr>
<tr><td class="h"><a name="870"></a>870</td><td></td><td></td><td></td><td></td><td class="s">                    if $trace;</td></tr>
<tr><td class="h"><a name="871"></a>871</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="872"></a>872</td><td></td><td></td><td></td><td></td><td class="s">            $previous = $class;</td></tr>
<tr><td class="h"><a name="873"></a>873</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="874"></a>874</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="875"></a>875</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="876"></a>876</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="877"></a>877</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="878"></a>878</td><td></td><td></td><td></td><td></td><td class="s">sub _rebless_dbtype_subclass {</td></tr>
<tr><td class="h"><a name="879"></a>879</td><td></td><td></td><td></td><td></td><td class="s">    my ($dbh, $rootclass, $DbTypeSubclass) = @_;</td></tr>
<tr><td class="h"><a name="880"></a>880</td><td></td><td></td><td></td><td></td><td class="s">    # determine the db type names for class hierarchy</td></tr>
<tr><td class="h"><a name="881"></a>881</td><td></td><td></td><td></td><td></td><td class="s">    my @hierarchy = DBI::_dbtype_names($dbh, $DbTypeSubclass);</td></tr>
<tr><td class="h"><a name="882"></a>882</td><td></td><td></td><td></td><td></td><td class="s">    # add the rootclass prefix to each ('DBI::' or 'MyDBI::' etc)</td></tr>
<tr><td class="h"><a name="883"></a>883</td><td></td><td></td><td></td><td></td><td class="s">    $_ = $rootclass.'::'.$_ foreach (@hierarchy);</td></tr>
<tr><td class="h"><a name="884"></a>884</td><td></td><td></td><td></td><td></td><td class="s">    # load the modules from the 'top down'</td></tr>
<tr><td class="h"><a name="885"></a>885</td><td></td><td></td><td></td><td></td><td class="s">    DBI::_load_class($_, 1) foreach (reverse @hierarchy);</td></tr>
<tr><td class="h"><a name="886"></a>886</td><td></td><td></td><td></td><td></td><td class="s">    # setup class hierarchy if needed, does both '::db' and '::st'</td></tr>
<tr><td class="h"><a name="887"></a>887</td><td></td><td></td><td></td><td></td><td class="s">    DBI::_set_isa(\@hierarchy, $rootclass);</td></tr>
<tr><td class="h"><a name="888"></a>888</td><td></td><td></td><td></td><td></td><td class="s">    # finally bless the handle into the subclass</td></tr>
<tr><td class="h"><a name="889"></a>889</td><td></td><td></td><td></td><td></td><td class="s">    DBI::_rebless($dbh, $hierarchy[0]);</td></tr>
<tr><td class="h"><a name="890"></a>890</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="891"></a>891</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="892"></a>892</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="893"></a>893</td><td></td><td></td><td></td><td></td><td class="s">sub _dbtype_names { # list dbtypes for hierarchy, ie Informix=&gt;ADO=&gt;ODBC</td></tr>
<tr><td class="h"><a name="894"></a>894</td><td></td><td></td><td></td><td></td><td class="s">    my ($dbh, $DbTypeSubclass) = @_;</td></tr>
<tr><td class="h"><a name="895"></a>895</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="896"></a>896</td><td></td><td></td><td></td><td></td><td class="s">    if ($DbTypeSubclass &amp;&amp; $DbTypeSubclass ne '1' &amp;&amp; ref $DbTypeSubclass ne 'CODE') {</td></tr>
<tr><td class="h"><a name="897"></a>897</td><td></td><td></td><td></td><td></td><td class="s">        # treat $DbTypeSubclass as a comma separated list of names</td></tr>
<tr><td class="h"><a name="898"></a>898</td><td></td><td></td><td></td><td></td><td class="s">        my @dbtypes = split /\s*,\s*/, $DbTypeSubclass;</td></tr>
<tr><td class="h"><a name="899"></a>899</td><td></td><td></td><td></td><td></td><td class="s">        $dbh-&gt;trace_msg(&quot;    DbTypeSubclass($DbTypeSubclass)=@dbtypes (explicit)\n&quot;);</td></tr>
<tr><td class="h"><a name="900"></a>900</td><td></td><td></td><td></td><td></td><td class="s">        return @dbtypes;</td></tr>
<tr><td class="h"><a name="901"></a>901</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="902"></a>902</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="903"></a>903</td><td></td><td></td><td></td><td></td><td class="s">    # XXX will call $dbh-&gt;get_info(17) (=SQL_DBMS_NAME) in future?</td></tr>
<tr><td class="h"><a name="904"></a>904</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="905"></a>905</td><td></td><td></td><td></td><td></td><td class="s">    my $driver = $dbh-&gt;{Driver}-&gt;{Name};</td></tr>
<tr><td class="h"><a name="906"></a>906</td><td></td><td></td><td></td><td></td><td class="s">    if ( $driver eq 'Proxy' ) {</td></tr>
<tr><td class="h"><a name="907"></a>907</td><td></td><td></td><td></td><td></td><td class="s">        # XXX Looking into the internals of DBD::Proxy is questionable!</td></tr>
<tr><td class="h"><a name="908"></a>908</td><td></td><td></td><td></td><td></td><td class="s">        ($driver) = $dbh-&gt;{proxy_client}-&gt;{application} =~ /^DBI:(.+?):/i</td></tr>
<tr><td class="h"><a name="909"></a>909</td><td></td><td></td><td></td><td></td><td class="s">                or die &quot;Can't determine driver name from proxy&quot;;</td></tr>
<tr><td class="h"><a name="910"></a>910</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="911"></a>911</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="912"></a>912</td><td></td><td></td><td></td><td></td><td class="s">    my @dbtypes = (ucfirst($driver));</td></tr>
<tr><td class="h"><a name="913"></a>913</td><td></td><td></td><td></td><td></td><td class="s">    if ($driver eq 'ODBC' || $driver eq 'ADO') {</td></tr>
<tr><td class="h"><a name="914"></a>914</td><td></td><td></td><td></td><td></td><td class="s">        # XXX will move these out and make extensible later:</td></tr>
<tr><td class="h"><a name="915"></a>915</td><td></td><td></td><td></td><td></td><td class="s">        my $_dbtype_name_regexp = 'Oracle'; # eg 'Oracle|Foo|Bar'</td></tr>
<tr><td class="h"><a name="916"></a>916</td><td></td><td></td><td></td><td></td><td class="s">        my %_dbtype_name_map = (</td></tr>
<tr><td class="h"><a name="917"></a>917</td><td></td><td></td><td></td><td></td><td class="s">             'Microsoft SQL Server'        =&gt; 'MSSQL',</td></tr>
<tr><td class="h"><a name="918"></a>918</td><td></td><td></td><td></td><td></td><td class="s">             'SQL Server'                =&gt; 'Sybase',</td></tr>
<tr><td class="h"><a name="919"></a>919</td><td></td><td></td><td></td><td></td><td class="s">             'Adaptive Server Anywhere'        =&gt; 'ASAny',</td></tr>
<tr><td class="h"><a name="920"></a>920</td><td></td><td></td><td></td><td></td><td class="s">             'ADABAS D'                        =&gt; 'AdabasD',</td></tr>
<tr><td class="h"><a name="921"></a>921</td><td></td><td></td><td></td><td></td><td class="s">        );</td></tr>
<tr><td class="h"><a name="922"></a>922</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="923"></a>923</td><td></td><td></td><td></td><td></td><td class="s">        my $name;</td></tr>
<tr><td class="h"><a name="924"></a>924</td><td></td><td></td><td></td><td></td><td class="s">        $name = $dbh-&gt;func(17, 'GetInfo') # SQL_DBMS_NAME</td></tr>
<tr><td class="h"><a name="925"></a>925</td><td></td><td></td><td></td><td></td><td class="s">                if $driver eq 'ODBC';</td></tr>
<tr><td class="h"><a name="926"></a>926</td><td></td><td></td><td></td><td></td><td class="s">        $name = $dbh-&gt;{ado_conn}-&gt;Properties-&gt;Item('DBMS Name')-&gt;Value</td></tr>
<tr><td class="h"><a name="927"></a>927</td><td></td><td></td><td></td><td></td><td class="s">                if $driver eq 'ADO';</td></tr>
<tr><td class="h"><a name="928"></a>928</td><td></td><td></td><td></td><td></td><td class="s">        die &quot;Can't determine driver name! ($DBI::errstr)\n&quot;</td></tr>
<tr><td class="h"><a name="929"></a>929</td><td></td><td></td><td></td><td></td><td class="s">                unless $name;</td></tr>
<tr><td class="h"><a name="930"></a>930</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="931"></a>931</td><td></td><td></td><td></td><td></td><td class="s">        my $dbtype;</td></tr>
<tr><td class="h"><a name="932"></a>932</td><td></td><td></td><td></td><td></td><td class="s">        if ($_dbtype_name_map{$name}) {</td></tr>
<tr><td class="h"><a name="933"></a>933</td><td></td><td></td><td></td><td></td><td class="s">            $dbtype = $_dbtype_name_map{$name};</td></tr>
<tr><td class="h"><a name="934"></a>934</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="935"></a>935</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="936"></a>936</td><td></td><td></td><td></td><td></td><td class="s">            if ($name =~ /($_dbtype_name_regexp)/) {</td></tr>
<tr><td class="h"><a name="937"></a>937</td><td></td><td></td><td></td><td></td><td class="s">                $dbtype = lc($1);</td></tr>
<tr><td class="h"><a name="938"></a>938</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="939"></a>939</td><td></td><td></td><td></td><td></td><td class="s">            else { # generic mangling for other names:</td></tr>
<tr><td class="h"><a name="940"></a>940</td><td></td><td></td><td></td><td></td><td class="s">                $dbtype = lc($name);</td></tr>
<tr><td class="h"><a name="941"></a>941</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="942"></a>942</td><td></td><td></td><td></td><td></td><td class="s">            $dbtype =~ s/\b(\w)/\U$1/g;</td></tr>
<tr><td class="h"><a name="943"></a>943</td><td></td><td></td><td></td><td></td><td class="s">            $dbtype =~ s/\W+/_/g;</td></tr>
<tr><td class="h"><a name="944"></a>944</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="945"></a>945</td><td></td><td></td><td></td><td></td><td class="s">        # add ODBC 'behind' ADO</td></tr>
<tr><td class="h"><a name="946"></a>946</td><td></td><td></td><td></td><td></td><td class="s">        push    @dbtypes, 'ODBC' if $driver eq 'ADO';</td></tr>
<tr><td class="h"><a name="947"></a>947</td><td></td><td></td><td></td><td></td><td class="s">        # add discovered dbtype in front of ADO/ODBC</td></tr>
<tr><td class="h"><a name="948"></a>948</td><td></td><td></td><td></td><td></td><td class="s">        unshift @dbtypes, $dbtype;</td></tr>
<tr><td class="h"><a name="949"></a>949</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="950"></a>950</td><td></td><td></td><td></td><td></td><td class="s">    @dbtypes = &amp;$DbTypeSubclass($dbh, \@dbtypes)</td></tr>
<tr><td class="h"><a name="951"></a>951</td><td></td><td></td><td></td><td></td><td class="s">        if (ref $DbTypeSubclass eq 'CODE');</td></tr>
<tr><td class="h"><a name="952"></a>952</td><td></td><td></td><td></td><td></td><td class="s">    $dbh-&gt;trace_msg(&quot;    DbTypeSubclass($DbTypeSubclass)=@dbtypes\n&quot;);</td></tr>
<tr><td class="h"><a name="953"></a>953</td><td></td><td></td><td></td><td></td><td class="s">    return @dbtypes;</td></tr>
<tr><td class="h"><a name="954"></a>954</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="955"></a>955</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="956"></a>956</td><td></td><td></td><td></td><td></td><td class="s">sub _load_class {</td></tr>
<tr><td class="h"><a name="957"></a>957</td><td></td><td></td><td></td><td></td><td class="s">    my ($load_class, $missing_ok) = @_;</td></tr>
<tr><td class="h"><a name="958"></a>958</td><td></td><td></td><td></td><td></td><td class="s">    DBI-&gt;trace_msg(&quot;    _load_class($load_class, $missing_ok)\n&quot;, 2);</td></tr>
<tr><td class="h"><a name="959"></a>959</td><td class="c1">2</td><td class="c0"><span title="Avg 299&micro;s">598&micro;s</span></td><td class="c3">2</td><td class="c3">30&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 19&micro;s (8+11) within DBI::BEGIN@959 which was called:
#    once (8&micro;s+11&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#959">line 959</a></div></div>    no strict 'refs';<div class="calls"><div class="calls_out">    # spent    19&micro;s making 1 call to <a href="DBI-pm-1359-line.html#959">DBI::BEGIN@959</a>
    # spent    11&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="960"></a>960</td><td></td><td></td><td></td><td></td><td class="s">    return 1 if @{&quot;$load_class\::ISA&quot;};        # already loaded/exists</td></tr>
<tr><td class="h"><a name="961"></a>961</td><td></td><td></td><td></td><td></td><td class="s">    (my $module = $load_class) =~ s!::!/!g;</td></tr>
<tr><td class="h"><a name="962"></a>962</td><td></td><td></td><td></td><td></td><td class="s">    DBI-&gt;trace_msg(&quot;    _load_class require $module\n&quot;, 2);</td></tr>
<tr><td class="h"><a name="963"></a>963</td><td></td><td></td><td></td><td></td><td class="s">    eval { require &quot;$module.pm&quot;; };</td></tr>
<tr><td class="h"><a name="964"></a>964</td><td></td><td></td><td></td><td></td><td class="s">    return 1 unless $@;</td></tr>
<tr><td class="h"><a name="965"></a>965</td><td></td><td></td><td></td><td></td><td class="s">    return 0 if $missing_ok &amp;&amp; $@ =~ /^Can't locate \Q$module.pm\E/;</td></tr>
<tr><td class="h"><a name="966"></a>966</td><td></td><td></td><td></td><td></td><td class="s">    die $@;</td></tr>
<tr><td class="h"><a name="967"></a>967</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="968"></a>968</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="969"></a>969</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="970"></a>970</td><td></td><td></td><td></td><td></td><td class="s">sub init_rootclass {        # deprecated</td></tr>
<tr><td class="h"><a name="971"></a>971</td><td></td><td></td><td></td><td></td><td class="s">    return 1;</td></tr>
<tr><td class="h"><a name="972"></a>972</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="973"></a>973</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="974"></a>974</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="975"></a>975</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">*internal = \&amp;DBD::Switch::dr::driver;</td></tr>
<tr><td class="h"><a name="976"></a>976</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="977"></a>977</td><td></td><td></td><td></td><td></td><td class="s">sub driver_prefix {</td></tr>
<tr><td class="h"><a name="978"></a>978</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $driver) = @_;</td></tr>
<tr><td class="h"><a name="979"></a>979</td><td></td><td></td><td></td><td></td><td class="s">    return $dbd_class_registry{$driver}-&gt;{prefix} if exists $dbd_class_registry{$driver};</td></tr>
<tr><td class="h"><a name="980"></a>980</td><td></td><td></td><td></td><td></td><td class="s">    return;</td></tr>
<tr><td class="h"><a name="981"></a>981</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="982"></a>982</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="983"></a>983</td><td></td><td></td><td></td><td></td><td class="s">sub available_drivers {</td></tr>
<tr><td class="h"><a name="984"></a>984</td><td></td><td></td><td></td><td></td><td class="s">    my($quiet) = @_;</td></tr>
<tr><td class="h"><a name="985"></a>985</td><td></td><td></td><td></td><td></td><td class="s">    my(@drivers, $d, $f);</td></tr>
<tr><td class="h"><a name="986"></a>986</td><td></td><td></td><td></td><td></td><td class="s">    local(*DBI::DIR, $@);</td></tr>
<tr><td class="h"><a name="987"></a>987</td><td></td><td></td><td></td><td></td><td class="s">    my(%seen_dir, %seen_dbd);</td></tr>
<tr><td class="h"><a name="988"></a>988</td><td></td><td></td><td></td><td></td><td class="s">    my $haveFileSpec = eval { require File::Spec };</td></tr>
<tr><td class="h"><a name="989"></a>989</td><td></td><td></td><td></td><td></td><td class="s">    foreach $d (@INC){</td></tr>
<tr><td class="h"><a name="990"></a>990</td><td></td><td></td><td></td><td></td><td class="s">        chomp($d); # Perl 5 beta 3 bug in #!./perl -Ilib from Test::Harness</td></tr>
<tr><td class="h"><a name="991"></a>991</td><td></td><td></td><td></td><td></td><td class="s">        my $dbd_dir =</td></tr>
<tr><td class="h"><a name="992"></a>992</td><td></td><td></td><td></td><td></td><td class="s">            ($haveFileSpec ? File::Spec-&gt;catdir($d, 'DBD') : &quot;$d/DBD&quot;);</td></tr>
<tr><td class="h"><a name="993"></a>993</td><td></td><td></td><td></td><td></td><td class="s">        next unless -d $dbd_dir;</td></tr>
<tr><td class="h"><a name="994"></a>994</td><td></td><td></td><td></td><td></td><td class="s">        next if $seen_dir{$d};</td></tr>
<tr><td class="h"><a name="995"></a>995</td><td></td><td></td><td></td><td></td><td class="s">        $seen_dir{$d} = 1;</td></tr>
<tr><td class="h"><a name="996"></a>996</td><td></td><td></td><td></td><td></td><td class="s">        # XXX we have a problem here with case insensitive file systems</td></tr>
<tr><td class="h"><a name="997"></a>997</td><td></td><td></td><td></td><td></td><td class="s">        # XXX since we can't tell what case must be used when loading.</td></tr>
<tr><td class="h"><a name="998"></a>998</td><td></td><td></td><td></td><td></td><td class="s">        opendir(DBI::DIR, $dbd_dir) || Carp::carp &quot;opendir $dbd_dir: $!\n&quot;;</td></tr>
<tr><td class="h"><a name="999"></a>999</td><td></td><td></td><td></td><td></td><td class="s">        foreach $f (readdir(DBI::DIR)){</td></tr>
<tr><td class="h"><a name="1000"></a>1000</td><td></td><td></td><td></td><td></td><td class="s">            next unless $f =~ s/\.pm$//;</td></tr>
<tr><td class="h"><a name="1001"></a>1001</td><td></td><td></td><td></td><td></td><td class="s">            next if $f eq 'NullP';</td></tr>
<tr><td class="h"><a name="1002"></a>1002</td><td></td><td></td><td></td><td></td><td class="s">            if ($seen_dbd{$f}){</td></tr>
<tr><td class="h"><a name="1003"></a>1003</td><td></td><td></td><td></td><td></td><td class="s">                Carp::carp &quot;DBD::$f in $d is hidden by DBD::$f in $seen_dbd{$f}\n&quot;</td></tr>
<tr><td class="h"><a name="1004"></a>1004</td><td></td><td></td><td></td><td></td><td class="s">                    unless $quiet;</td></tr>
<tr><td class="h"><a name="1005"></a>1005</td><td></td><td></td><td></td><td></td><td class="s">            } else {</td></tr>
<tr><td class="h"><a name="1006"></a>1006</td><td></td><td></td><td></td><td></td><td class="s">                push(@drivers, $f);</td></tr>
<tr><td class="h"><a name="1007"></a>1007</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1008"></a>1008</td><td></td><td></td><td></td><td></td><td class="s">            $seen_dbd{$f} = $d;</td></tr>
<tr><td class="h"><a name="1009"></a>1009</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1010"></a>1010</td><td></td><td></td><td></td><td></td><td class="s">        closedir(DBI::DIR);</td></tr>
<tr><td class="h"><a name="1011"></a>1011</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1012"></a>1012</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1013"></a>1013</td><td></td><td></td><td></td><td></td><td class="s">    # &quot;return sort @drivers&quot; will not DWIM in scalar context.</td></tr>
<tr><td class="h"><a name="1014"></a>1014</td><td></td><td></td><td></td><td></td><td class="s">    return wantarray ? sort @drivers : @drivers;</td></tr>
<tr><td class="h"><a name="1015"></a>1015</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1016"></a>1016</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1017"></a>1017</td><td></td><td></td><td></td><td></td><td class="s">sub installed_versions {</td></tr>
<tr><td class="h"><a name="1018"></a>1018</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $quiet) = @_;</td></tr>
<tr><td class="h"><a name="1019"></a>1019</td><td></td><td></td><td></td><td></td><td class="s">    my %error;</td></tr>
<tr><td class="h"><a name="1020"></a>1020</td><td></td><td></td><td></td><td></td><td class="s">    my %version = ( DBI =&gt; $DBI::VERSION );</td></tr>
<tr><td class="h"><a name="1021"></a>1021</td><td></td><td></td><td></td><td></td><td class="s">    $version{&quot;DBI::PurePerl&quot;} = $DBI::PurePerl::VERSION</td></tr>
<tr><td class="h"><a name="1022"></a>1022</td><td></td><td></td><td></td><td></td><td class="s">        if $DBI::PurePerl;</td></tr>
<tr><td class="h"><a name="1023"></a>1023</td><td></td><td></td><td></td><td></td><td class="s">    for my $driver ($class-&gt;available_drivers($quiet)) {</td></tr>
<tr><td class="h"><a name="1024"></a>1024</td><td></td><td></td><td></td><td></td><td class="s">        next if $DBI::PurePerl &amp;&amp; grep { -d &quot;$_/auto/DBD/$driver&quot; } @INC;</td></tr>
<tr><td class="h"><a name="1025"></a>1025</td><td></td><td></td><td></td><td></td><td class="s">        my $drh = eval {</td></tr>
<tr><td class="h"><a name="1026"></a>1026</td><td></td><td></td><td></td><td></td><td class="s">            local $SIG{__WARN__} = sub {};</td></tr>
<tr><td class="h"><a name="1027"></a>1027</td><td></td><td></td><td></td><td></td><td class="s">            $class-&gt;install_driver($driver);</td></tr>
<tr><td class="h"><a name="1028"></a>1028</td><td></td><td></td><td></td><td></td><td class="s">        };</td></tr>
<tr><td class="h"><a name="1029"></a>1029</td><td></td><td></td><td></td><td></td><td class="s">        ($error{&quot;DBD::$driver&quot;}=$@),next if $@;</td></tr>
<tr><td class="h"><a name="1030"></a>1030</td><td class="c1">2</td><td class="c0"><span title="Avg 863&micro;s">1.73ms</span></td><td class="c3">2</td><td class="c2">38&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 25&micro;s (12+13) within DBI::BEGIN@1030 which was called:
#    once (12&micro;s+13&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1030">line 1030</a></div></div>        no strict 'refs';<div class="calls"><div class="calls_out">        # spent    25&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1030">DBI::BEGIN@1030</a>
        # spent    13&micro;s making 1 call to <a href="strict-pm-3-line.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="1031"></a>1031</td><td></td><td></td><td></td><td></td><td class="s">        my $vers = ${&quot;DBD::$driver&quot; . '::VERSION'};</td></tr>
<tr><td class="h"><a name="1032"></a>1032</td><td></td><td></td><td></td><td></td><td class="s">        $version{&quot;DBD::$driver&quot;} = $vers || '?';</td></tr>
<tr><td class="h"><a name="1033"></a>1033</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1034"></a>1034</td><td></td><td></td><td></td><td></td><td class="s">    if (wantarray) {</td></tr>
<tr><td class="h"><a name="1035"></a>1035</td><td></td><td></td><td></td><td></td><td class="s">       return map { m/^DBD::(\w+)/ ? ($1) : () } sort keys %version;</td></tr>
<tr><td class="h"><a name="1036"></a>1036</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1037"></a>1037</td><td></td><td></td><td></td><td></td><td class="s">    if (!defined wantarray) {        # void context</td></tr>
<tr><td class="h"><a name="1038"></a>1038</td><td></td><td></td><td></td><td></td><td class="s">        require Config;                # add more detail</td></tr>
<tr><td class="h"><a name="1039"></a>1039</td><td></td><td></td><td></td><td></td><td class="s">        $version{OS}   = &quot;$^O\t($Config::Config{osvers})&quot;;</td></tr>
<tr><td class="h"><a name="1040"></a>1040</td><td></td><td></td><td></td><td></td><td class="s">        $version{Perl} = &quot;$]\t($Config::Config{archname})&quot;;</td></tr>
<tr><td class="h"><a name="1041"></a>1041</td><td></td><td></td><td></td><td></td><td class="s">        $version{$_}   = (($error{$_} =~ s/ \(\@INC.*//s),$error{$_})</td></tr>
<tr><td class="h"><a name="1042"></a>1042</td><td></td><td></td><td></td><td></td><td class="s">            for keys %error;</td></tr>
<tr><td class="h"><a name="1043"></a>1043</td><td></td><td></td><td></td><td></td><td class="s">        printf &quot;  %-16s: %s\n&quot;,$_,$version{$_}</td></tr>
<tr><td class="h"><a name="1044"></a>1044</td><td></td><td></td><td></td><td></td><td class="s">            for reverse sort keys %version;</td></tr>
<tr><td class="h"><a name="1045"></a>1045</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1046"></a>1046</td><td></td><td></td><td></td><td></td><td class="s">    return \%version;</td></tr>
<tr><td class="h"><a name="1047"></a>1047</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1048"></a>1048</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1049"></a>1049</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1050"></a>1050</td><td></td><td></td><td></td><td></td><td class="s">sub data_sources {</td></tr>
<tr><td class="h"><a name="1051"></a>1051</td><td></td><td></td><td></td><td></td><td class="s">    my ($class, $driver, @other) = @_;</td></tr>
<tr><td class="h"><a name="1052"></a>1052</td><td></td><td></td><td></td><td></td><td class="s">    my $drh = $class-&gt;install_driver($driver);</td></tr>
<tr><td class="h"><a name="1053"></a>1053</td><td></td><td></td><td></td><td></td><td class="s">    my @ds = $drh-&gt;data_sources(@other);</td></tr>
<tr><td class="h"><a name="1054"></a>1054</td><td></td><td></td><td></td><td></td><td class="s">    return @ds;</td></tr>
<tr><td class="h"><a name="1055"></a>1055</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1056"></a>1056</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1057"></a>1057</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1058"></a>1058</td><td></td><td></td><td></td><td></td><td class="s">sub neat_list {</td></tr>
<tr><td class="h"><a name="1059"></a>1059</td><td></td><td></td><td></td><td></td><td class="s">    my ($listref, $maxlen, $sep) = @_;</td></tr>
<tr><td class="h"><a name="1060"></a>1060</td><td></td><td></td><td></td><td></td><td class="s">    $maxlen = 0 unless defined $maxlen;        # 0 == use internal default</td></tr>
<tr><td class="h"><a name="1061"></a>1061</td><td></td><td></td><td></td><td></td><td class="s">    $sep = &quot;, &quot; unless defined $sep;</td></tr>
<tr><td class="h"><a name="1062"></a>1062</td><td></td><td></td><td></td><td></td><td class="s">    join($sep, map { neat($_,$maxlen) } @$listref);</td></tr>
<tr><td class="h"><a name="1063"></a>1063</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1064"></a>1064</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1065"></a>1065</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1066"></a>1066</td><td></td><td></td><td></td><td></td><td class="s">sub dump_results {        # also aliased as a method in DBD::_::st</td></tr>
<tr><td class="h"><a name="1067"></a>1067</td><td></td><td></td><td></td><td></td><td class="s">    my ($sth, $maxlen, $lsep, $fsep, $fh) = @_;</td></tr>
<tr><td class="h"><a name="1068"></a>1068</td><td></td><td></td><td></td><td></td><td class="s">    return 0 unless $sth;</td></tr>
<tr><td class="h"><a name="1069"></a>1069</td><td></td><td></td><td></td><td></td><td class="s">    $maxlen ||= 35;</td></tr>
<tr><td class="h"><a name="1070"></a>1070</td><td></td><td></td><td></td><td></td><td class="s">    $lsep   ||= &quot;\n&quot;;</td></tr>
<tr><td class="h"><a name="1071"></a>1071</td><td></td><td></td><td></td><td></td><td class="s">    $fh ||= \*STDOUT;</td></tr>
<tr><td class="h"><a name="1072"></a>1072</td><td></td><td></td><td></td><td></td><td class="s">    my $rows = 0;</td></tr>
<tr><td class="h"><a name="1073"></a>1073</td><td></td><td></td><td></td><td></td><td class="s">    my $ref;</td></tr>
<tr><td class="h"><a name="1074"></a>1074</td><td></td><td></td><td></td><td></td><td class="s">    while($ref = $sth-&gt;fetch) {</td></tr>
<tr><td class="h"><a name="1075"></a>1075</td><td></td><td></td><td></td><td></td><td class="s">        print $fh $lsep if $rows++ and $lsep;</td></tr>
<tr><td class="h"><a name="1076"></a>1076</td><td></td><td></td><td></td><td></td><td class="s">        my $str = neat_list($ref,$maxlen,$fsep);</td></tr>
<tr><td class="h"><a name="1077"></a>1077</td><td></td><td></td><td></td><td></td><td class="s">        print $fh $str;        # done on two lines to avoid 5.003 errors</td></tr>
<tr><td class="h"><a name="1078"></a>1078</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1079"></a>1079</td><td></td><td></td><td></td><td></td><td class="s">    print $fh &quot;\n$rows rows&quot;.($DBI::err ? &quot; ($DBI::err: $DBI::errstr)&quot; : &quot;&quot;).&quot;\n&quot;;</td></tr>
<tr><td class="h"><a name="1080"></a>1080</td><td></td><td></td><td></td><td></td><td class="s">    $rows;</td></tr>
<tr><td class="h"><a name="1081"></a>1081</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1082"></a>1082</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1083"></a>1083</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1084"></a>1084</td><td></td><td></td><td></td><td></td><td class="s">sub data_diff {</td></tr>
<tr><td class="h"><a name="1085"></a>1085</td><td></td><td></td><td></td><td></td><td class="s">    my ($a, $b, $logical) = @_;</td></tr>
<tr><td class="h"><a name="1086"></a>1086</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1087"></a>1087</td><td></td><td></td><td></td><td></td><td class="s">    my $diff   = data_string_diff($a, $b);</td></tr>
<tr><td class="h"><a name="1088"></a>1088</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;&quot; if $logical and !$diff;</td></tr>
<tr><td class="h"><a name="1089"></a>1089</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1090"></a>1090</td><td></td><td></td><td></td><td></td><td class="s">    my $a_desc = data_string_desc($a);</td></tr>
<tr><td class="h"><a name="1091"></a>1091</td><td></td><td></td><td></td><td></td><td class="s">    my $b_desc = data_string_desc($b);</td></tr>
<tr><td class="h"><a name="1092"></a>1092</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;&quot; if !$diff and $a_desc eq $b_desc;</td></tr>
<tr><td class="h"><a name="1093"></a>1093</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1094"></a>1094</td><td></td><td></td><td></td><td></td><td class="s">    $diff ||= &quot;Strings contain the same sequence of characters&quot;</td></tr>
<tr><td class="h"><a name="1095"></a>1095</td><td></td><td></td><td></td><td></td><td class="s">            if length($a);</td></tr>
<tr><td class="h"><a name="1096"></a>1096</td><td></td><td></td><td></td><td></td><td class="s">    $diff .= &quot;\n&quot; if $diff;</td></tr>
<tr><td class="h"><a name="1097"></a>1097</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;a: $a_desc\nb: $b_desc\n$diff&quot;;</td></tr>
<tr><td class="h"><a name="1098"></a>1098</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1099"></a>1099</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1100"></a>1100</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1101"></a>1101</td><td></td><td></td><td></td><td></td><td class="s">sub data_string_diff {</td></tr>
<tr><td class="h"><a name="1102"></a>1102</td><td></td><td></td><td></td><td></td><td class="s">    # Compares 'logical' characters, not bytes, so a latin1 string and an</td></tr>
<tr><td class="h"><a name="1103"></a>1103</td><td></td><td></td><td></td><td></td><td class="s">    # an equivalent Unicode string will compare as equal even though their</td></tr>
<tr><td class="h"><a name="1104"></a>1104</td><td></td><td></td><td></td><td></td><td class="s">    # byte encodings are different.</td></tr>
<tr><td class="h"><a name="1105"></a>1105</td><td></td><td></td><td></td><td></td><td class="s">    my ($a, $b) = @_;</td></tr>
<tr><td class="h"><a name="1106"></a>1106</td><td></td><td></td><td></td><td></td><td class="s">    unless (defined $a and defined $b) {             # one undef</td></tr>
<tr><td class="h"><a name="1107"></a>1107</td><td></td><td></td><td></td><td></td><td class="s">        return &quot;&quot;</td></tr>
<tr><td class="h"><a name="1108"></a>1108</td><td></td><td></td><td></td><td></td><td class="s">                if !defined $a and !defined $b;</td></tr>
<tr><td class="h"><a name="1109"></a>1109</td><td></td><td></td><td></td><td></td><td class="s">        return &quot;String a is undef, string b has &quot;.length($b).&quot; characters&quot;</td></tr>
<tr><td class="h"><a name="1110"></a>1110</td><td></td><td></td><td></td><td></td><td class="s">                if !defined $a;</td></tr>
<tr><td class="h"><a name="1111"></a>1111</td><td></td><td></td><td></td><td></td><td class="s">        return &quot;String b is undef, string a has &quot;.length($a).&quot; characters&quot;</td></tr>
<tr><td class="h"><a name="1112"></a>1112</td><td></td><td></td><td></td><td></td><td class="s">                if !defined $b;</td></tr>
<tr><td class="h"><a name="1113"></a>1113</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1114"></a>1114</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1115"></a>1115</td><td></td><td></td><td></td><td></td><td class="s">    require utf8;</td></tr>
<tr><td class="h"><a name="1116"></a>1116</td><td></td><td></td><td></td><td></td><td class="s">    # hack to cater for perl 5.6</td></tr>
<tr><td class="h"><a name="1117"></a>1117</td><td></td><td></td><td></td><td></td><td class="s">    *utf8::is_utf8 = sub { (DBI::neat(shift)=~/^&quot;/) } unless defined &amp;utf8::is_utf8;</td></tr>
<tr><td class="h"><a name="1118"></a>1118</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1119"></a>1119</td><td></td><td></td><td></td><td></td><td class="s">    my @a_chars = (utf8::is_utf8($a)) ? unpack(&quot;U*&quot;, $a) : unpack(&quot;C*&quot;, $a);</td></tr>
<tr><td class="h"><a name="1120"></a>1120</td><td></td><td></td><td></td><td></td><td class="s">    my @b_chars = (utf8::is_utf8($b)) ? unpack(&quot;U*&quot;, $b) : unpack(&quot;C*&quot;, $b);</td></tr>
<tr><td class="h"><a name="1121"></a>1121</td><td></td><td></td><td></td><td></td><td class="s">    my $i = 0;</td></tr>
<tr><td class="h"><a name="1122"></a>1122</td><td></td><td></td><td></td><td></td><td class="s">    while (@a_chars &amp;&amp; @b_chars) {</td></tr>
<tr><td class="h"><a name="1123"></a>1123</td><td></td><td></td><td></td><td></td><td class="s">        ++$i, shift(@a_chars), shift(@b_chars), next</td></tr>
<tr><td class="h"><a name="1124"></a>1124</td><td></td><td></td><td></td><td></td><td class="s">            if $a_chars[0] == $b_chars[0];# compare ordinal values</td></tr>
<tr><td class="h"><a name="1125"></a>1125</td><td></td><td></td><td></td><td></td><td class="s">        my @desc = map {</td></tr>
<tr><td class="h"><a name="1126"></a>1126</td><td></td><td></td><td></td><td></td><td class="s">            $_ &gt; 255 ?                    # if wide character...</td></tr>
<tr><td class="h"><a name="1127"></a>1127</td><td></td><td></td><td></td><td></td><td class="s">              sprintf(&quot;\\x{%04X}&quot;, $_) :  # \x{...}</td></tr>
<tr><td class="h"><a name="1128"></a>1128</td><td></td><td></td><td></td><td></td><td class="s">              chr($_) =~ /[[:cntrl:]]/ ?  # else if control character ...</td></tr>
<tr><td class="h"><a name="1129"></a>1129</td><td></td><td></td><td></td><td></td><td class="s">              sprintf(&quot;\\x%02X&quot;, $_) :    # \x..</td></tr>
<tr><td class="h"><a name="1130"></a>1130</td><td></td><td></td><td></td><td></td><td class="s">              chr($_)                     # else as themselves</td></tr>
<tr><td class="h"><a name="1131"></a>1131</td><td></td><td></td><td></td><td></td><td class="s">        } ($a_chars[0], $b_chars[0]);</td></tr>
<tr><td class="h"><a name="1132"></a>1132</td><td></td><td></td><td></td><td></td><td class="s">        # highlight probable double-encoding?</td></tr>
<tr><td class="h"><a name="1133"></a>1133</td><td></td><td></td><td></td><td></td><td class="s">        foreach my $c ( @desc ) {</td></tr>
<tr><td class="h"><a name="1134"></a>1134</td><td></td><td></td><td></td><td></td><td class="s">            next unless $c =~ m/\\x\{08(..)}/;</td></tr>
<tr><td class="h"><a name="1135"></a>1135</td><td></td><td></td><td></td><td></td><td class="s">            $c .= &quot;='&quot; .chr(hex($1)) .&quot;'&quot;</td></tr>
<tr><td class="h"><a name="1136"></a>1136</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1137"></a>1137</td><td></td><td></td><td></td><td></td><td class="s">        return sprintf &quot;Strings differ at index $i: a[$i]=$desc[0], b[$i]=$desc[1]&quot;;</td></tr>
<tr><td class="h"><a name="1138"></a>1138</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1139"></a>1139</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;String a truncated after $i characters&quot; if @b_chars;</td></tr>
<tr><td class="h"><a name="1140"></a>1140</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;String b truncated after $i characters&quot; if @a_chars;</td></tr>
<tr><td class="h"><a name="1141"></a>1141</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;&quot;;</td></tr>
<tr><td class="h"><a name="1142"></a>1142</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1143"></a>1143</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1144"></a>1144</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1145"></a>1145</td><td></td><td></td><td></td><td></td><td class="s">sub data_string_desc {        # describe a data string</td></tr>
<tr><td class="h"><a name="1146"></a>1146</td><td></td><td></td><td></td><td></td><td class="s">    my ($a) = @_;</td></tr>
<tr><td class="h"><a name="1147"></a>1147</td><td></td><td></td><td></td><td></td><td class="s">    require bytes;</td></tr>
<tr><td class="h"><a name="1148"></a>1148</td><td></td><td></td><td></td><td></td><td class="s">    require utf8;</td></tr>
<tr><td class="h"><a name="1149"></a>1149</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1150"></a>1150</td><td></td><td></td><td></td><td></td><td class="s">    # hacks to cater for perl 5.6</td></tr>
<tr><td class="h"><a name="1151"></a>1151</td><td></td><td></td><td></td><td></td><td class="s">    *utf8::is_utf8 = sub { (DBI::neat(shift)=~/^&quot;/) } unless defined &amp;utf8::is_utf8;</td></tr>
<tr><td class="h"><a name="1152"></a>1152</td><td></td><td></td><td></td><td></td><td class="s">    *utf8::valid   = sub {                        1 } unless defined &amp;utf8::valid;</td></tr>
<tr><td class="h"><a name="1153"></a>1153</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1154"></a>1154</td><td></td><td></td><td></td><td></td><td class="s">    # Give sufficient info to help diagnose at least these kinds of situations:</td></tr>
<tr><td class="h"><a name="1155"></a>1155</td><td></td><td></td><td></td><td></td><td class="s">    # - valid UTF8 byte sequence but UTF8 flag not set</td></tr>
<tr><td class="h"><a name="1156"></a>1156</td><td></td><td></td><td></td><td></td><td class="s">    #   (might be ascii so also need to check for hibit to make it worthwhile)</td></tr>
<tr><td class="h"><a name="1157"></a>1157</td><td></td><td></td><td></td><td></td><td class="s">    # - UTF8 flag set but invalid UTF8 byte sequence</td></tr>
<tr><td class="h"><a name="1158"></a>1158</td><td></td><td></td><td></td><td></td><td class="s">    # could do better here, but this'll do for now</td></tr>
<tr><td class="h"><a name="1159"></a>1159</td><td></td><td></td><td></td><td></td><td class="s">    my $utf8 = sprintf &quot;UTF8 %s%s&quot;,</td></tr>
<tr><td class="h"><a name="1160"></a>1160</td><td></td><td></td><td></td><td></td><td class="s">        utf8::is_utf8($a) ? &quot;on&quot; : &quot;off&quot;,</td></tr>
<tr><td class="h"><a name="1161"></a>1161</td><td></td><td></td><td></td><td></td><td class="s">        utf8::valid($a||'') ? &quot;&quot; : &quot; but INVALID encoding&quot;;</td></tr>
<tr><td class="h"><a name="1162"></a>1162</td><td></td><td></td><td></td><td></td><td class="s">    return &quot;$utf8, undef&quot; unless defined $a;</td></tr>
<tr><td class="h"><a name="1163"></a>1163</td><td></td><td></td><td></td><td></td><td class="s">    my $is_ascii = $a =~ m/^[\000-\177]*$/;</td></tr>
<tr><td class="h"><a name="1164"></a>1164</td><td></td><td></td><td></td><td></td><td class="s">    return sprintf &quot;%s, %s, %d characters %d bytes&quot;,</td></tr>
<tr><td class="h"><a name="1165"></a>1165</td><td></td><td></td><td></td><td></td><td class="s">        $utf8, $is_ascii ? &quot;ASCII&quot; : &quot;non-ASCII&quot;,</td></tr>
<tr><td class="h"><a name="1166"></a>1166</td><td></td><td></td><td></td><td></td><td class="s">        length($a), bytes::length($a);</td></tr>
<tr><td class="h"><a name="1167"></a>1167</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1168"></a>1168</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1169"></a>1169</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1170"></a>1170</td><td></td><td></td><td></td><td></td><td class="s">sub connect_test_perf {</td></tr>
<tr><td class="h"><a name="1171"></a>1171</td><td></td><td></td><td></td><td></td><td class="s">    my($class, $dsn,$dbuser,$dbpass, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1172"></a>1172</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;connect_test_perf needs hash ref as fourth arg&quot;) unless ref $attr;</td></tr>
<tr><td class="h"><a name="1173"></a>1173</td><td></td><td></td><td></td><td></td><td class="s">    # these are non standard attributes just for this special method</td></tr>
<tr><td class="h"><a name="1174"></a>1174</td><td></td><td></td><td></td><td></td><td class="s">    my $loops ||= $attr-&gt;{dbi_loops} || 5;</td></tr>
<tr><td class="h"><a name="1175"></a>1175</td><td></td><td></td><td></td><td></td><td class="s">    my $par   ||= $attr-&gt;{dbi_par}   || 1;        # parallelism</td></tr>
<tr><td class="h"><a name="1176"></a>1176</td><td></td><td></td><td></td><td></td><td class="s">    my $verb  ||= $attr-&gt;{dbi_verb}  || 1;</td></tr>
<tr><td class="h"><a name="1177"></a>1177</td><td></td><td></td><td></td><td></td><td class="s">    my $meth  ||= $attr-&gt;{dbi_meth}  || 'connect';</td></tr>
<tr><td class="h"><a name="1178"></a>1178</td><td></td><td></td><td></td><td></td><td class="s">    print &quot;$dsn: testing $loops sets of $par connections:\n&quot;;</td></tr>
<tr><td class="h"><a name="1179"></a>1179</td><td></td><td></td><td></td><td></td><td class="s">    require &quot;FileHandle.pm&quot;;        # don't let toke.c create empty FileHandle package</td></tr>
<tr><td class="h"><a name="1180"></a>1180</td><td></td><td></td><td></td><td></td><td class="s">    local $| = 1;</td></tr>
<tr><td class="h"><a name="1181"></a>1181</td><td></td><td></td><td></td><td></td><td class="s">    my $drh = $class-&gt;install_driver($dsn) or Carp::croak(&quot;Can't install $dsn driver\n&quot;);</td></tr>
<tr><td class="h"><a name="1182"></a>1182</td><td></td><td></td><td></td><td></td><td class="s">    # test the connection and warm up caches etc</td></tr>
<tr><td class="h"><a name="1183"></a>1183</td><td></td><td></td><td></td><td></td><td class="s">    $drh-&gt;connect($dsn,$dbuser,$dbpass) or Carp::croak(&quot;connect failed: $DBI::errstr&quot;);</td></tr>
<tr><td class="h"><a name="1184"></a>1184</td><td></td><td></td><td></td><td></td><td class="s">    my $t1 = dbi_time();</td></tr>
<tr><td class="h"><a name="1185"></a>1185</td><td></td><td></td><td></td><td></td><td class="s">    my $loop;</td></tr>
<tr><td class="h"><a name="1186"></a>1186</td><td></td><td></td><td></td><td></td><td class="s">    for $loop (1..$loops) {</td></tr>
<tr><td class="h"><a name="1187"></a>1187</td><td></td><td></td><td></td><td></td><td class="s">        my @cons;</td></tr>
<tr><td class="h"><a name="1188"></a>1188</td><td></td><td></td><td></td><td></td><td class="s">        print &quot;Connecting... &quot; if $verb;</td></tr>
<tr><td class="h"><a name="1189"></a>1189</td><td></td><td></td><td></td><td></td><td class="s">        for (1..$par) {</td></tr>
<tr><td class="h"><a name="1190"></a>1190</td><td></td><td></td><td></td><td></td><td class="s">            print &quot;$_ &quot;;</td></tr>
<tr><td class="h"><a name="1191"></a>1191</td><td></td><td></td><td></td><td></td><td class="s">            push @cons, ($drh-&gt;connect($dsn,$dbuser,$dbpass)</td></tr>
<tr><td class="h"><a name="1192"></a>1192</td><td></td><td></td><td></td><td></td><td class="s">                    or Carp::croak(&quot;connect failed: $DBI::errstr\n&quot;));</td></tr>
<tr><td class="h"><a name="1193"></a>1193</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1194"></a>1194</td><td></td><td></td><td></td><td></td><td class="s">        print &quot;\nDisconnecting...\n&quot; if $verb;</td></tr>
<tr><td class="h"><a name="1195"></a>1195</td><td></td><td></td><td></td><td></td><td class="s">        for (@cons) {</td></tr>
<tr><td class="h"><a name="1196"></a>1196</td><td></td><td></td><td></td><td></td><td class="s">            $_-&gt;disconnect or warn &quot;disconnect failed: $DBI::errstr&quot;</td></tr>
<tr><td class="h"><a name="1197"></a>1197</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1198"></a>1198</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1199"></a>1199</td><td></td><td></td><td></td><td></td><td class="s">    my $t2 = dbi_time();</td></tr>
<tr><td class="h"><a name="1200"></a>1200</td><td></td><td></td><td></td><td></td><td class="s">    my $td = $t2 - $t1;</td></tr>
<tr><td class="h"><a name="1201"></a>1201</td><td></td><td></td><td></td><td></td><td class="s">    printf &quot;$meth %d and disconnect them, %d times: %.4fs / %d = %.4fs\n&quot;,</td></tr>
<tr><td class="h"><a name="1202"></a>1202</td><td></td><td></td><td></td><td></td><td class="s">        $par, $loops, $td, $loops*$par, $td/($loops*$par);</td></tr>
<tr><td class="h"><a name="1203"></a>1203</td><td></td><td></td><td></td><td></td><td class="s">    return $td;</td></tr>
<tr><td class="h"><a name="1204"></a>1204</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1205"></a>1205</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1206"></a>1206</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1207"></a>1207</td><td></td><td></td><td></td><td></td><td class="s"># Help people doing DBI-&gt;errstr, might even document it one day</td></tr>
<tr><td class="h"><a name="1208"></a>1208</td><td></td><td></td><td></td><td></td><td class="s"># XXX probably best moved to cheaper XS code if this gets documented</td></tr>
<tr><td class="h"><a name="1209"></a>1209</td><td></td><td></td><td></td><td></td><td class="s">sub err    { $DBI::err    }</td></tr>
<tr><td class="h"><a name="1210"></a>1210</td><td></td><td></td><td></td><td></td><td class="s">sub errstr { $DBI::errstr }</td></tr>
<tr><td class="h"><a name="1211"></a>1211</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1212"></a>1212</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1213"></a>1213</td><td></td><td></td><td></td><td></td><td class="s"># --- Private Internal Function for Creating New DBI Handles</td></tr>
<tr><td class="h"><a name="1214"></a>1214</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1215"></a>1215</td><td></td><td></td><td></td><td></td><td class="s"># XXX move to PurePerl?</td></tr>
<tr><td class="h"><a name="1216"></a>1216</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">*DBI::dr::TIEHASH = \&amp;DBI::st::TIEHASH;</td></tr>
<tr><td class="h"><a name="1217"></a>1217</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">*DBI::db::TIEHASH = \&amp;DBI::st::TIEHASH;</td></tr>
<tr><td class="h"><a name="1218"></a>1218</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1219"></a>1219</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1220"></a>1220</td><td></td><td></td><td></td><td></td><td class="s"># These three special constructors are called by the drivers</td></tr>
<tr><td class="h"><a name="1221"></a>1221</td><td></td><td></td><td></td><td></td><td class="s"># The way they are called is likely to change.</td></tr>
<tr><td class="h"><a name="1222"></a>1222</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1223"></a>1223</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">our $shared_profile;</td></tr>
<tr><td class="h"><a name="1224"></a>1224</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1225"></a>1225</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 60&micro;s (20+40) within DBI::_new_drh which was called:
#    once (20&micro;s+40&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#63">line 63 of DBD/SQLite.pm</a></div></div>sub _new_drh {        # called by DBD::&lt;drivername&gt;::driver()</td></tr>
<tr><td class="h"><a name="1226"></a>1226</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    my ($class, $initial_attr, $imp_data) = @_;</td></tr>
<tr><td class="h"><a name="1227"></a>1227</td><td></td><td></td><td></td><td></td><td class="s">    # Provide default storage for State,Err and Errstr.</td></tr>
<tr><td class="h"><a name="1228"></a>1228</td><td></td><td></td><td></td><td></td><td class="s">    # Note that these are shared by all child handles by default! XXX</td></tr>
<tr><td class="h"><a name="1229"></a>1229</td><td></td><td></td><td></td><td></td><td class="s">    # State must be undef to get automatic faking in DBI::var::FETCH</td></tr>
<tr><td class="h"><a name="1230"></a>1230</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    my ($h_state_store, $h_err_store, $h_errstr_store) = (undef, 0, '');</td></tr>
<tr><td class="h"><a name="1231"></a>1231</td><td class="c3">1</td><td class="c2"><span title="Avg 7&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">    my $attr = {</td></tr>
<tr><td class="h"><a name="1232"></a>1232</td><td></td><td></td><td></td><td></td><td class="s">        # these attributes get copied down to child handles by default</td></tr>
<tr><td class="h"><a name="1233"></a>1233</td><td></td><td></td><td></td><td></td><td class="s">        'State'                =&gt; \$h_state_store,  # Holder for DBI::state</td></tr>
<tr><td class="h"><a name="1234"></a>1234</td><td></td><td></td><td></td><td></td><td class="s">        'Err'                =&gt; \$h_err_store,    # Holder for DBI::err</td></tr>
<tr><td class="h"><a name="1235"></a>1235</td><td></td><td></td><td></td><td></td><td class="s">        'Errstr'        =&gt; \$h_errstr_store, # Holder for DBI::errstr</td></tr>
<tr><td class="h"><a name="1236"></a>1236</td><td></td><td></td><td></td><td></td><td class="s">        'TraceLevel'         =&gt; 0,</td></tr>
<tr><td class="h"><a name="1237"></a>1237</td><td></td><td></td><td></td><td></td><td class="s">        FetchHashKeyName=&gt; 'NAME',</td></tr>
<tr><td class="h"><a name="1238"></a>1238</td><td></td><td></td><td></td><td></td><td class="s">        %$initial_attr,</td></tr>
<tr><td class="h"><a name="1239"></a>1239</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="1240"></a>1240</td><td class="c3">1</td><td class="c0"><span title="Avg 46&micro;s">46&micro;s</span></td><td class="c3">1</td><td class="c2">40&micro;s</td><td class="s">    my ($h, $i) = _new_handle('DBI::dr', '', $attr, $imp_data, $class);<div class="calls"><div class="calls_out">    # spent    40&micro;s making 1 call to <a href="DBI-pm-1359-line.html#DBI___new_handle">DBI::_new_handle</a></div></div></td></tr>
<tr><td class="h"><a name="1241"></a>1241</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1242"></a>1242</td><td></td><td></td><td></td><td></td><td class="s">    # XXX DBI_PROFILE unless DBI::PurePerl because for some reason</td></tr>
<tr><td class="h"><a name="1243"></a>1243</td><td></td><td></td><td></td><td></td><td class="s">    # it kills the t/zz_*_pp.t tests (they silently exit early)</td></tr>
<tr><td class="h"><a name="1244"></a>1244</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    if (($ENV{DBI_PROFILE} &amp;&amp; !$DBI::PurePerl) || $shared_profile) {</td></tr>
<tr><td class="h"><a name="1245"></a>1245</td><td></td><td></td><td></td><td></td><td class="s">        # The profile object created here when the first driver is loaded</td></tr>
<tr><td class="h"><a name="1246"></a>1246</td><td></td><td></td><td></td><td></td><td class="s">        # is shared by all drivers so we end up with just one set of profile</td></tr>
<tr><td class="h"><a name="1247"></a>1247</td><td></td><td></td><td></td><td></td><td class="s">        # data and thus the 'total time in DBI' is really the true total.</td></tr>
<tr><td class="h"><a name="1248"></a>1248</td><td></td><td></td><td></td><td></td><td class="s">        if (!$shared_profile) {        # first time</td></tr>
<tr><td class="h"><a name="1249"></a>1249</td><td></td><td></td><td></td><td></td><td class="s">            $h-&gt;{Profile} = $ENV{DBI_PROFILE}; # write string</td></tr>
<tr><td class="h"><a name="1250"></a>1250</td><td></td><td></td><td></td><td></td><td class="s">            $shared_profile = $h-&gt;{Profile};   # read and record object</td></tr>
<tr><td class="h"><a name="1251"></a>1251</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1252"></a>1252</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="1253"></a>1253</td><td></td><td></td><td></td><td></td><td class="s">            $h-&gt;{Profile} = $shared_profile;</td></tr>
<tr><td class="h"><a name="1254"></a>1254</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1255"></a>1255</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1256"></a>1256</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">    return $h unless wantarray;</td></tr>
<tr><td class="h"><a name="1257"></a>1257</td><td></td><td></td><td></td><td></td><td class="s">    ($h, $i);</td></tr>
<tr><td class="h"><a name="1258"></a>1258</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1259"></a>1259</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1260"></a>1260</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 37&micro;s (14+23) within DBI::_new_dbh which was called:
#    once (14&micro;s+23&micro;s) by DBD::SQLite::dr::connect at <a href="DBD-SQLite-pm-2618-line.html#87">line 87 of DBD/SQLite.pm</a></div></div>sub _new_dbh {        # called by DBD::&lt;drivername&gt;::dr::connect()</td></tr>
<tr><td class="h"><a name="1261"></a>1261</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    my ($drh, $attr, $imp_data) = @_;</td></tr>
<tr><td class="h"><a name="1262"></a>1262</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    my $imp_class = $drh-&gt;{ImplementorClass}</td></tr>
<tr><td class="h"><a name="1263"></a>1263</td><td></td><td></td><td></td><td></td><td class="s">        or Carp::croak(&quot;DBI _new_dbh: $drh has no ImplementorClass&quot;);</td></tr>
<tr><td class="h"><a name="1264"></a>1264</td><td class="c3">1</td><td class="c3"><span title="Avg 3&micro;s">3&micro;s</span></td><td></td><td></td><td class="s">    substr($imp_class,-4,4) = '::db';</td></tr>
<tr><td class="h"><a name="1265"></a>1265</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">    my $app_class = ref $drh;</td></tr>
<tr><td class="h"><a name="1266"></a>1266</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    substr($app_class,-4,4) = '::db';</td></tr>
<tr><td class="h"><a name="1267"></a>1267</td><td class="c3">1</td><td class="c3"><span title="Avg 800ns">800ns</span></td><td></td><td></td><td class="s">    $attr-&gt;{Err}    ||= \my $err;</td></tr>
<tr><td class="h"><a name="1268"></a>1268</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    $attr-&gt;{Errstr} ||= \my $errstr;</td></tr>
<tr><td class="h"><a name="1269"></a>1269</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">    $attr-&gt;{State}  ||= \my $state;</td></tr>
<tr><td class="h"><a name="1270"></a>1270</td><td class="c3">1</td><td class="c0"><span title="Avg 31&micro;s">31&micro;s</span></td><td class="c3">1</td><td class="c3">23&micro;s</td><td class="s">    _new_handle($app_class, $drh, $attr, $imp_data, $imp_class);<div class="calls"><div class="calls_out">    # spent    23&micro;s making 1 call to <a href="DBI-pm-1359-line.html#DBI___new_handle">DBI::_new_handle</a></div></div></td></tr>
<tr><td class="h"><a name="1271"></a>1271</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1272"></a>1272</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1273"></a>1273</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 76&micro;s (25+52) within DBI::_new_sth which was called 2 times, avg 38&micro;s/call:
# 2 times (25&micro;s+52&micro;s) by DBD::SQLite::db::prepare at <a href="DBD-SQLite-pm-2618-line.html#190">line 190 of DBD/SQLite.pm</a>, avg 38&micro;s/call</div></div>sub _new_sth {        # called by DBD::&lt;drivername&gt;::db::prepare)</td></tr>
<tr><td class="h"><a name="1274"></a>1274</td><td class="c1">2</td><td class="c3"><span title="Avg 800ns">2&micro;s</span></td><td></td><td></td><td class="s">    my ($dbh, $attr, $imp_data) = @_;</td></tr>
<tr><td class="h"><a name="1275"></a>1275</td><td class="c1">2</td><td class="c3"><span title="Avg 1&micro;s">3&micro;s</span></td><td></td><td></td><td class="s">    my $imp_class = $dbh-&gt;{ImplementorClass}</td></tr>
<tr><td class="h"><a name="1276"></a>1276</td><td></td><td></td><td></td><td></td><td class="s">        or Carp::croak(&quot;DBI _new_sth: $dbh has no ImplementorClass&quot;);</td></tr>
<tr><td class="h"><a name="1277"></a>1277</td><td class="c1">2</td><td class="c2"><span title="Avg 3&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">    substr($imp_class,-4,4) = '::st';</td></tr>
<tr><td class="h"><a name="1278"></a>1278</td><td class="c1">2</td><td class="c3"><span title="Avg 800ns">2&micro;s</span></td><td></td><td></td><td class="s">    my $app_class = ref $dbh;</td></tr>
<tr><td class="h"><a name="1279"></a>1279</td><td class="c1">2</td><td class="c3"><span title="Avg 1&micro;s">2&micro;s</span></td><td></td><td></td><td class="s">    substr($app_class,-4,4) = '::st';</td></tr>
<tr><td class="h"><a name="1280"></a>1280</td><td class="c1">2</td><td class="c0"><span title="Avg 32&micro;s">65&micro;s</span></td><td class="c3">2</td><td class="c1">52&micro;s</td><td class="s">    _new_handle($app_class, $dbh, $attr, $imp_data, $imp_class);<div class="calls"><div class="calls_out">    # spent    52&micro;s making 2 calls to <a href="DBI-pm-1359-line.html#DBI___new_handle">DBI::_new_handle</a>, avg 26&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1281"></a>1281</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1282"></a>1282</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1283"></a>1283</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1284"></a>1284</td><td></td><td></td><td></td><td></td><td class="s"># end of DBI package</td></tr>
<tr><td class="h"><a name="1285"></a>1285</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="- -"></a>- -</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1288"></a>1288</td><td></td><td></td><td></td><td></td><td class="s"># --------------------------------------------------------------------</td></tr>
<tr><td class="h"><a name="1289"></a>1289</td><td></td><td></td><td></td><td></td><td class="s"># === The internal DBI Switch pseudo 'driver' class ===</td></tr>
<tr><td class="h"><a name="1290"></a>1290</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1291"></a>1291</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">{   package        # hide from PAUSE</td></tr>
<tr><td class="h"><a name="1292"></a>1292</td><td></td><td></td><td></td><td></td><td class="s">        DBD::Switch::dr;</td></tr>
<tr><td class="h"><a name="1293"></a>1293</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c0">82&micro;s</td><td class="s">    DBI-&gt;setup_driver('DBD::Switch');        # sets up @ISA<div class="calls"><div class="calls_out">    # spent    82&micro;s making 1 call to <a href="DBI-pm-1359-line.html#826">DBI::setup_driver</a></div></div></td></tr>
<tr><td class="h"><a name="1294"></a>1294</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1295"></a>1295</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">    $DBD::Switch::dr::imp_data_size = 0;</td></tr>
<tr><td class="h"><a name="1296"></a>1296</td><td class="c3">1</td><td class="c3"><span title="Avg 100ns">100ns</span></td><td></td><td></td><td class="s">    $DBD::Switch::dr::imp_data_size = 0;        # avoid typo warning</td></tr>
<tr><td class="h"><a name="1297"></a>1297</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">    my $drh;</td></tr>
<tr><td class="h"><a name="1298"></a>1298</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1299"></a>1299</td><td></td><td></td><td></td><td></td><td class="s">    sub driver {</td></tr>
<tr><td class="h"><a name="1300"></a>1300</td><td></td><td></td><td></td><td></td><td class="s">        return $drh if $drh;        # a package global</td></tr>
<tr><td class="h"><a name="1301"></a>1301</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1302"></a>1302</td><td></td><td></td><td></td><td></td><td class="s">        my $inner;</td></tr>
<tr><td class="h"><a name="1303"></a>1303</td><td></td><td></td><td></td><td></td><td class="s">        ($drh, $inner) = DBI::_new_drh('DBD::Switch::dr', {</td></tr>
<tr><td class="h"><a name="1304"></a>1304</td><td></td><td></td><td></td><td></td><td class="s">                'Name'    =&gt; 'Switch',</td></tr>
<tr><td class="h"><a name="1305"></a>1305</td><td></td><td></td><td></td><td></td><td class="s">                'Version' =&gt; $DBI::VERSION,</td></tr>
<tr><td class="h"><a name="1306"></a>1306</td><td></td><td></td><td></td><td></td><td class="s">                'Attribution' =&gt; &quot;DBI $DBI::VERSION by Tim Bunce&quot;,</td></tr>
<tr><td class="h"><a name="1307"></a>1307</td><td></td><td></td><td></td><td></td><td class="s">            });</td></tr>
<tr><td class="h"><a name="1308"></a>1308</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;DBD::Switch init failed!&quot;) unless ($drh &amp;&amp; $inner);</td></tr>
<tr><td class="h"><a name="1309"></a>1309</td><td></td><td></td><td></td><td></td><td class="s">        return $drh;</td></tr>
<tr><td class="h"><a name="1310"></a>1310</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1311"></a>1311</td><td></td><td></td><td></td><td></td><td class="s">    sub CLONE {</td></tr>
<tr><td class="h"><a name="1312"></a>1312</td><td></td><td></td><td></td><td></td><td class="s">        undef $drh;</td></tr>
<tr><td class="h"><a name="1313"></a>1313</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1314"></a>1314</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1315"></a>1315</td><td></td><td></td><td></td><td></td><td class="s">    sub FETCH {</td></tr>
<tr><td class="h"><a name="1316"></a>1316</td><td></td><td></td><td></td><td></td><td class="s">        my($drh, $key) = @_;</td></tr>
<tr><td class="h"><a name="1317"></a>1317</td><td></td><td></td><td></td><td></td><td class="s">        return DBI-&gt;trace if $key eq 'DebugDispatch';</td></tr>
<tr><td class="h"><a name="1318"></a>1318</td><td></td><td></td><td></td><td></td><td class="s">        return undef if $key eq 'DebugLog';        # not worth fetching, sorry</td></tr>
<tr><td class="h"><a name="1319"></a>1319</td><td></td><td></td><td></td><td></td><td class="s">        return $drh-&gt;DBD::_::dr::FETCH($key);</td></tr>
<tr><td class="h"><a name="1320"></a>1320</td><td></td><td></td><td></td><td></td><td class="s">        undef;</td></tr>
<tr><td class="h"><a name="1321"></a>1321</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1322"></a>1322</td><td></td><td></td><td></td><td></td><td class="s">    sub STORE {</td></tr>
<tr><td class="h"><a name="1323"></a>1323</td><td></td><td></td><td></td><td></td><td class="s">        my($drh, $key, $value) = @_;</td></tr>
<tr><td class="h"><a name="1324"></a>1324</td><td></td><td></td><td></td><td></td><td class="s">        if ($key eq 'DebugDispatch') {</td></tr>
<tr><td class="h"><a name="1325"></a>1325</td><td></td><td></td><td></td><td></td><td class="s">            DBI-&gt;trace($value);</td></tr>
<tr><td class="h"><a name="1326"></a>1326</td><td></td><td></td><td></td><td></td><td class="s">        } elsif ($key eq 'DebugLog') {</td></tr>
<tr><td class="h"><a name="1327"></a>1327</td><td></td><td></td><td></td><td></td><td class="s">            DBI-&gt;trace(-1, $value);</td></tr>
<tr><td class="h"><a name="1328"></a>1328</td><td></td><td></td><td></td><td></td><td class="s">        } else {</td></tr>
<tr><td class="h"><a name="1329"></a>1329</td><td></td><td></td><td></td><td></td><td class="s">            $drh-&gt;DBD::_::dr::STORE($key, $value);</td></tr>
<tr><td class="h"><a name="1330"></a>1330</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1331"></a>1331</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1332"></a>1332</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1333"></a>1333</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1334"></a>1334</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1335"></a>1335</td><td></td><td></td><td></td><td></td><td class="s"># --------------------------------------------------------------------</td></tr>
<tr><td class="h"><a name="1336"></a>1336</td><td></td><td></td><td></td><td></td><td class="s"># === OPTIONAL MINIMAL BASE CLASSES FOR DBI SUBCLASSES ===</td></tr>
<tr><td class="h"><a name="1337"></a>1337</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1338"></a>1338</td><td></td><td></td><td></td><td></td><td class="s"># We only define default methods for harmless functions.</td></tr>
<tr><td class="h"><a name="1339"></a>1339</td><td></td><td></td><td></td><td></td><td class="s"># We don't, for example, define a DBD::_::st::prepare()</td></tr>
<tr><td class="h"><a name="1340"></a>1340</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1341"></a>1341</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">{   package                # hide from PAUSE</td></tr>
<tr><td class="h"><a name="1342"></a>1342</td><td></td><td></td><td></td><td></td><td class="s">        DBD::_::common; # ====== Common base class methods ======</td></tr>
<tr><td class="h"><a name="1343"></a>1343</td><td class="c1">2</td><td class="c0"><span title="Avg 343&micro;s">687&micro;s</span></td><td class="c3">2</td><td class="c3">22&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 18&micro;s (15+3) within DBD::_::common::BEGIN@1343 which was called:
#    once (15&micro;s+3&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1343">line 1343</a></div></div>    use strict;<div class="calls"><div class="calls_out">    # spent    18&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1343">DBD::_::common::BEGIN@1343</a>
    # spent     3&micro;s making 1 call to <a href="strict-pm-3-line.html#34">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="1344"></a>1344</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1345"></a>1345</td><td></td><td></td><td></td><td></td><td class="s">    # methods common to all handle types:</td></tr>
<tr><td class="h"><a name="1346"></a>1346</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1347"></a>1347</td><td></td><td></td><td></td><td></td><td class="s">    sub _not_impl {</td></tr>
<tr><td class="h"><a name="1348"></a>1348</td><td></td><td></td><td></td><td></td><td class="s">        my ($h, $method) = @_;</td></tr>
<tr><td class="h"><a name="1349"></a>1349</td><td></td><td></td><td></td><td></td><td class="s">        $h-&gt;trace_msg(&quot;Driver does not implement the $method method.\n&quot;);</td></tr>
<tr><td class="h"><a name="1350"></a>1350</td><td></td><td></td><td></td><td></td><td class="s">        return;        # empty list / undef</td></tr>
<tr><td class="h"><a name="1351"></a>1351</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1352"></a>1352</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1353"></a>1353</td><td></td><td></td><td></td><td></td><td class="s">    # generic TIEHASH default methods:</td></tr>
<tr><td class="h"><a name="1354"></a>1354</td><td></td><td></td><td></td><td></td><td class="s">    sub FIRSTKEY { }</td></tr>
<tr><td class="h"><a name="1355"></a>1355</td><td></td><td></td><td></td><td></td><td class="s">    sub NEXTKEY  { }</td></tr>
<tr><td class="h"><a name="1356"></a>1356</td><td></td><td></td><td></td><td></td><td class="s">    sub EXISTS   { defined($_[0]-&gt;FETCH($_[1])) } # XXX undef?</td></tr>
<tr><td class="h"><a name="1357"></a>1357</td><td></td><td></td><td></td><td></td><td class="s">    sub CLEAR    { Carp::carp &quot;Can't CLEAR $_[0] (DBI)&quot; }</td></tr>
<tr><td class="h"><a name="1358"></a>1358</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1359"></a>1359</td><td></td><td></td><td></td><td></td><td class="s">    sub FETCH_many {    # XXX should move to C one day</td></tr>
<tr><td class="h"><a name="1360"></a>1360</td><td></td><td></td><td></td><td></td><td class="s">        my $h = shift;</td></tr>
<tr><td class="h"><a name="1361"></a>1361</td><td></td><td></td><td></td><td></td><td class="s">        # scalar is needed to workaround drivers that return an empty list</td></tr>
<tr><td class="h"><a name="1362"></a>1362</td><td></td><td></td><td></td><td></td><td class="s">        # for some attributes</td></tr>
<tr><td class="h"><a name="1363"></a>1363</td><td></td><td></td><td></td><td></td><td class="s">        return map { scalar $h-&gt;FETCH($_) } @_;</td></tr>
<tr><td class="h"><a name="1364"></a>1364</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1365"></a>1365</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1366"></a>1366</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    *dump_handle = \&amp;DBI::dump_handle;</td></tr>
<tr><td class="h"><a name="1367"></a>1367</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1368"></a>1368</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 342&micro;s (215+127) within DBD::_::common::install_method which was called 15 times, avg 23&micro;s/call:
#    once (31&micro;s+16&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#44">line 44 of DBD/SQLite.pm</a>
#    once (14&micro;s+10&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#45">line 45 of DBD/SQLite.pm</a>
#    once (14&micro;s+9&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#46">line 46 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#58">line 58 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#49">line 49 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#47">line 47 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#51">line 51 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#48">line 48 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#57">line 57 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#55">line 55 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#54">line 54 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#52">line 52 of DBD/SQLite.pm</a>
#    once (13&micro;s+7&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#50">line 50 of DBD/SQLite.pm</a>
#    once (13&micro;s+8&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#56">line 56 of DBD/SQLite.pm</a>
#    once (13&micro;s+7&micro;s) by DBD::SQLite::driver at <a href="DBD-SQLite-pm-2618-line.html#53">line 53 of DBD/SQLite.pm</a></div></div>    sub install_method {</td></tr>
<tr><td class="h"><a name="1369"></a>1369</td><td></td><td></td><td></td><td></td><td class="s">        # special class method called directly by apps and/or drivers</td></tr>
<tr><td class="h"><a name="1370"></a>1370</td><td></td><td></td><td></td><td></td><td class="s">        # to install new methods into the DBI dispatcher</td></tr>
<tr><td class="h"><a name="1371"></a>1371</td><td></td><td></td><td></td><td></td><td class="s">        # DBD::Foo::db-&gt;install_method(&quot;foo_mumble&quot;, { usage =&gt; [...], options =&gt; '...' });</td></tr>
<tr><td class="h"><a name="1372"></a>1372</td><td class="c0">15</td><td class="c1"><span title="Avg 553ns">8&micro;s</span></td><td></td><td></td><td class="s">        my ($class, $method, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1373"></a>1373</td><td class="c0">15</td><td class="c0"><span title="Avg 4&micro;s">54&micro;s</span></td><td class="c0">15</td><td class="c3">27&micro;s</td><td class="s">        Carp::croak(&quot;Class '$class' must begin with DBD:: and end with ::db or ::st&quot;)<div class="calls"><div class="calls_out">        # spent    27&micro;s making 15 calls to <a href="DBI-pm-1359-line.html#DBD_____common__CORE_match">DBD::_::common::CORE:match</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1374"></a>1374</td><td></td><td></td><td></td><td></td><td class="s">            unless $class =~ /^DBD::(\w+)::(dr|db|st)$/;</td></tr>
<tr><td class="h"><a name="1375"></a>1375</td><td class="c0">15</td><td class="c0"><span title="Avg 927ns">14&micro;s</span></td><td></td><td></td><td class="s">        my ($driver, $subtype) = ($1, $2);</td></tr>
<tr><td class="h"><a name="1376"></a>1376</td><td class="c0">15</td><td class="c0"><span title="Avg 3&micro;s">42&micro;s</span></td><td class="c0">15</td><td class="c3">21&micro;s</td><td class="s">        Carp::croak(&quot;invalid method name '$method'&quot;)<div class="calls"><div class="calls_out">        # spent    21&micro;s making 15 calls to <a href="DBI-pm-1359-line.html#DBD_____common__CORE_match">DBD::_::common::CORE:match</a>, avg 1&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1377"></a>1377</td><td></td><td></td><td></td><td></td><td class="s">            unless $method =~ m/^([a-z]+_)\w+$/;</td></tr>
<tr><td class="h"><a name="1378"></a>1378</td><td class="c0">15</td><td class="c2"><span title="Avg 440ns">7&micro;s</span></td><td></td><td></td><td class="s">        my $prefix = $1;</td></tr>
<tr><td class="h"><a name="1379"></a>1379</td><td class="c0">15</td><td class="c2"><span title="Avg 380ns">6&micro;s</span></td><td></td><td></td><td class="s">        my $reg_info = $dbd_prefix_registry-&gt;{$prefix};</td></tr>
<tr><td class="h"><a name="1380"></a>1380</td><td class="c0">15</td><td class="c3"><span title="Avg 107ns">2&micro;s</span></td><td></td><td></td><td class="s">        Carp::carp(&quot;method name prefix '$prefix' is not associated with a registered driver&quot;) unless $reg_info;</td></tr>
<tr><td class="h"><a name="1381"></a>1381</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1382"></a>1382</td><td class="c0">15</td><td class="c1"><span title="Avg 493ns">7&micro;s</span></td><td></td><td></td><td class="s">        my $full_method = &quot;DBI::${subtype}::$method&quot;;</td></tr>
<tr><td class="h"><a name="1383"></a>1383</td><td class="c0">15</td><td class="c0"><span title="Avg 787ns">12&micro;s</span></td><td></td><td></td><td class="s">        $DBI::installed_methods{$full_method} = $attr;</td></tr>
<tr><td class="h"><a name="1384"></a>1384</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1385"></a>1385</td><td class="c0">15</td><td class="c0"><span title="Avg 1&micro;s">21&micro;s</span></td><td></td><td></td><td class="s">        my (undef, $filename, $line) = caller;</td></tr>
<tr><td class="h"><a name="1386"></a>1386</td><td></td><td></td><td></td><td></td><td class="s">        # XXX reformat $attr as needed for _install_method</td></tr>
<tr><td class="h"><a name="1387"></a>1387</td><td class="c0">15</td><td class="c0"><span title="Avg 1&micro;s">18&micro;s</span></td><td></td><td></td><td class="s">        my %attr = %{$attr||{}}; # copy so we can edit</td></tr>
<tr><td class="h"><a name="1388"></a>1388</td><td class="c0">15</td><td class="c0"><span title="Avg 11&micro;s">162&micro;s</span></td><td class="c0">15</td><td class="c0">79&micro;s</td><td class="s">        DBI-&gt;_install_method(&quot;DBI::${subtype}::$method&quot;, &quot;$filename at line $line&quot;, \%attr);<div class="calls"><div class="calls_out">        # spent    79&micro;s making 15 calls to <a href="DBI-pm-1359-line.html#DBI___install_method">DBI::_install_method</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1389"></a>1389</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1390"></a>1390</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1391"></a>1391</td><td></td><td></td><td></td><td></td><td class="s">    sub parse_trace_flags {</td></tr>
<tr><td class="h"><a name="1392"></a>1392</td><td></td><td></td><td></td><td></td><td class="s">        my ($h, $spec) = @_;</td></tr>
<tr><td class="h"><a name="1393"></a>1393</td><td></td><td></td><td></td><td></td><td class="s">        my $level = 0;</td></tr>
<tr><td class="h"><a name="1394"></a>1394</td><td></td><td></td><td></td><td></td><td class="s">        my $flags = 0;</td></tr>
<tr><td class="h"><a name="1395"></a>1395</td><td></td><td></td><td></td><td></td><td class="s">        my @unknown;</td></tr>
<tr><td class="h"><a name="1396"></a>1396</td><td></td><td></td><td></td><td></td><td class="s">        for my $word (split /\s*[|&amp;,]\s*/, $spec) {</td></tr>
<tr><td class="h"><a name="1397"></a>1397</td><td></td><td></td><td></td><td></td><td class="s">            if (DBI::looks_like_number($word) &amp;&amp; $word &lt;= 0xF &amp;&amp; $word &gt;= 0) {</td></tr>
<tr><td class="h"><a name="1398"></a>1398</td><td></td><td></td><td></td><td></td><td class="s">                $level = $word;</td></tr>
<tr><td class="h"><a name="1399"></a>1399</td><td></td><td></td><td></td><td></td><td class="s">            } elsif ($word eq 'ALL') {</td></tr>
<tr><td class="h"><a name="1400"></a>1400</td><td></td><td></td><td></td><td></td><td class="s">                $flags = 0x7FFFFFFF; # XXX last bit causes negative headaches</td></tr>
<tr><td class="h"><a name="1401"></a>1401</td><td></td><td></td><td></td><td></td><td class="s">                last;</td></tr>
<tr><td class="h"><a name="1402"></a>1402</td><td></td><td></td><td></td><td></td><td class="s">            } elsif (my $flag = $h-&gt;parse_trace_flag($word)) {</td></tr>
<tr><td class="h"><a name="1403"></a>1403</td><td></td><td></td><td></td><td></td><td class="s">                $flags |= $flag;</td></tr>
<tr><td class="h"><a name="1404"></a>1404</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1405"></a>1405</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="1406"></a>1406</td><td></td><td></td><td></td><td></td><td class="s">                push @unknown, $word;</td></tr>
<tr><td class="h"><a name="1407"></a>1407</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1408"></a>1408</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1409"></a>1409</td><td></td><td></td><td></td><td></td><td class="s">        if (@unknown &amp;&amp; (ref $h ? $h-&gt;FETCH('Warn') : 1)) {</td></tr>
<tr><td class="h"><a name="1410"></a>1410</td><td></td><td></td><td></td><td></td><td class="s">            Carp::carp(&quot;$h-&gt;parse_trace_flags($spec) ignored unknown trace flags: &quot;.</td></tr>
<tr><td class="h"><a name="1411"></a>1411</td><td></td><td></td><td></td><td></td><td class="s">                join(&quot; &quot;, map { DBI::neat($_) } @unknown));</td></tr>
<tr><td class="h"><a name="1412"></a>1412</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1413"></a>1413</td><td></td><td></td><td></td><td></td><td class="s">        $flags |= $level;</td></tr>
<tr><td class="h"><a name="1414"></a>1414</td><td></td><td></td><td></td><td></td><td class="s">        return $flags;</td></tr>
<tr><td class="h"><a name="1415"></a>1415</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1416"></a>1416</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1417"></a>1417</td><td></td><td></td><td></td><td></td><td class="s">    sub parse_trace_flag {</td></tr>
<tr><td class="h"><a name="1418"></a>1418</td><td></td><td></td><td></td><td></td><td class="s">        my ($h, $name) = @_;</td></tr>
<tr><td class="h"><a name="1419"></a>1419</td><td></td><td></td><td></td><td></td><td class="s">        #      0xddDDDDrL (driver, DBI, reserved, Level)</td></tr>
<tr><td class="h"><a name="1420"></a>1420</td><td></td><td></td><td></td><td></td><td class="s">        return 0x00000100 if $name eq 'SQL';</td></tr>
<tr><td class="h"><a name="1421"></a>1421</td><td></td><td></td><td></td><td></td><td class="s">    return 0x00000200 if $name eq 'CON';</td></tr>
<tr><td class="h"><a name="1422"></a>1422</td><td></td><td></td><td></td><td></td><td class="s">    return 0x00000400 if $name eq 'ENC';</td></tr>
<tr><td class="h"><a name="1423"></a>1423</td><td></td><td></td><td></td><td></td><td class="s">    return 0x00000800 if $name eq 'DBD';</td></tr>
<tr><td class="h"><a name="1424"></a>1424</td><td></td><td></td><td></td><td></td><td class="s">    return 0x00001000 if $name eq 'TXN';</td></tr>
<tr><td class="h"><a name="1425"></a>1425</td><td></td><td></td><td></td><td></td><td class="s">        return;</td></tr>
<tr><td class="h"><a name="1426"></a>1426</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1427"></a>1427</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1428"></a>1428</td><td></td><td></td><td></td><td></td><td class="s">    sub private_attribute_info {</td></tr>
<tr><td class="h"><a name="1429"></a>1429</td><td></td><td></td><td></td><td></td><td class="s">        return undef;</td></tr>
<tr><td class="h"><a name="1430"></a>1430</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1431"></a>1431</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1432"></a>1432</td><td></td><td></td><td></td><td></td><td class="s">    sub visit_child_handles {</td></tr>
<tr><td class="h"><a name="1433"></a>1433</td><td></td><td></td><td></td><td></td><td class="s">        my ($h, $code, $info) = @_;</td></tr>
<tr><td class="h"><a name="1434"></a>1434</td><td></td><td></td><td></td><td></td><td class="s">        $info = {} if not defined $info;</td></tr>
<tr><td class="h"><a name="1435"></a>1435</td><td></td><td></td><td></td><td></td><td class="s">        for my $ch (@{ $h-&gt;{ChildHandles} || []}) {</td></tr>
<tr><td class="h"><a name="1436"></a>1436</td><td></td><td></td><td></td><td></td><td class="s">            next unless $ch;</td></tr>
<tr><td class="h"><a name="1437"></a>1437</td><td></td><td></td><td></td><td></td><td class="s">            my $child_info = $code-&gt;($ch, $info)</td></tr>
<tr><td class="h"><a name="1438"></a>1438</td><td></td><td></td><td></td><td></td><td class="s">                or next;</td></tr>
<tr><td class="h"><a name="1439"></a>1439</td><td></td><td></td><td></td><td></td><td class="s">            $ch-&gt;visit_child_handles($code, $child_info);</td></tr>
<tr><td class="h"><a name="1440"></a>1440</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1441"></a>1441</td><td></td><td></td><td></td><td></td><td class="s">        return $info;</td></tr>
<tr><td class="h"><a name="1442"></a>1442</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1443"></a>1443</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1444"></a>1444</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1445"></a>1445</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1446"></a>1446</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">{   package                # hide from PAUSE</td></tr>
<tr><td class="h"><a name="1447"></a>1447</td><td></td><td></td><td></td><td></td><td class="s">        DBD::_::dr;        # ====== DRIVER ======</td></tr>
<tr><td class="h"><a name="1448"></a>1448</td><td class="c3">1</td><td class="c1"><span title="Avg 8&micro;s">8&micro;s</span></td><td></td><td></td><td class="s">    @DBD::_::dr::ISA = qw(DBD::_::common);</td></tr>
<tr><td class="h"><a name="1449"></a>1449</td><td class="c1">2</td><td class="c0"><span title="Avg 154&micro;s">309&micro;s</span></td><td class="c3">2</td><td class="c3">16&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 13&micro;s (10+3) within DBD::_::dr::BEGIN@1449 which was called:
#    once (10&micro;s+3&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1449">line 1449</a></div></div>    use strict;<div class="calls"><div class="calls_out">    # spent    13&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1449">DBD::_::dr::BEGIN@1449</a>
    # spent     3&micro;s making 1 call to <a href="strict-pm-3-line.html#34">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="1450"></a>1450</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1451"></a>1451</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4&micro;s within DBD::_::dr::default_user which was called:
#    once (4&micro;s+0s) by DBI::dr::default_user at <a href="DBI-pm-1359-line.html#646">line 646</a></div></div>    sub default_user {</td></tr>
<tr><td class="h"><a name="1452"></a>1452</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">        my ($drh, $user, $pass, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1453"></a>1453</td><td class="c3">1</td><td class="c3"><span title="Avg 700ns">700ns</span></td><td></td><td></td><td class="s">        $user = $ENV{DBI_USER} unless defined $user;</td></tr>
<tr><td class="h"><a name="1454"></a>1454</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">        $pass = $ENV{DBI_PASS} unless defined $pass;</td></tr>
<tr><td class="h"><a name="1455"></a>1455</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        return ($user, $pass);</td></tr>
<tr><td class="h"><a name="1456"></a>1456</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1457"></a>1457</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1458"></a>1458</td><td></td><td></td><td></td><td></td><td class="s">    sub connect { # normally overridden, but a handy default</td></tr>
<tr><td class="h"><a name="1459"></a>1459</td><td></td><td></td><td></td><td></td><td class="s">        my ($drh, $dsn, $user, $auth) = @_;</td></tr>
<tr><td class="h"><a name="1460"></a>1460</td><td></td><td></td><td></td><td></td><td class="s">        my ($this) = DBI::_new_dbh($drh, {</td></tr>
<tr><td class="h"><a name="1461"></a>1461</td><td></td><td></td><td></td><td></td><td class="s">            'Name' =&gt; $dsn,</td></tr>
<tr><td class="h"><a name="1462"></a>1462</td><td></td><td></td><td></td><td></td><td class="s">        });</td></tr>
<tr><td class="h"><a name="1463"></a>1463</td><td></td><td></td><td></td><td></td><td class="s">        # XXX debatable as there's no &quot;server side&quot; here</td></tr>
<tr><td class="h"><a name="1464"></a>1464</td><td></td><td></td><td></td><td></td><td class="s">        # (and now many uses would trigger warnings on DESTROY)</td></tr>
<tr><td class="h"><a name="1465"></a>1465</td><td></td><td></td><td></td><td></td><td class="s">        # $this-&gt;STORE(Active =&gt; 1);</td></tr>
<tr><td class="h"><a name="1466"></a>1466</td><td></td><td></td><td></td><td></td><td class="s">        # so drivers should set it in their own connect</td></tr>
<tr><td class="h"><a name="1467"></a>1467</td><td></td><td></td><td></td><td></td><td class="s">        $this;</td></tr>
<tr><td class="h"><a name="1468"></a>1468</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1469"></a>1469</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1470"></a>1470</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1471"></a>1471</td><td></td><td></td><td></td><td></td><td class="s">    sub connect_cached {</td></tr>
<tr><td class="h"><a name="1472"></a>1472</td><td></td><td></td><td></td><td></td><td class="s">        my $drh = shift;</td></tr>
<tr><td class="h"><a name="1473"></a>1473</td><td></td><td></td><td></td><td></td><td class="s">        my ($dsn, $user, $auth, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1474"></a>1474</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1475"></a>1475</td><td></td><td></td><td></td><td></td><td class="s">        my $cache = $drh-&gt;{CachedKids} ||= {};</td></tr>
<tr><td class="h"><a name="1476"></a>1476</td><td></td><td></td><td></td><td></td><td class="s">        my $key = do { local $^W;</td></tr>
<tr><td class="h"><a name="1477"></a>1477</td><td></td><td></td><td></td><td></td><td class="s">            join &quot;!\001&quot;, $dsn, $user, $auth, DBI::_concat_hash_sorted($attr, &quot;=\001&quot;, &quot;,\001&quot;, 0, 0)</td></tr>
<tr><td class="h"><a name="1478"></a>1478</td><td></td><td></td><td></td><td></td><td class="s">        };</td></tr>
<tr><td class="h"><a name="1479"></a>1479</td><td></td><td></td><td></td><td></td><td class="s">        my $dbh = $cache-&gt;{$key};</td></tr>
<tr><td class="h"><a name="1480"></a>1480</td><td></td><td></td><td></td><td></td><td class="s">        $drh-&gt;trace_msg(sprintf(&quot;    connect_cached: key '$key', cached dbh $dbh\n&quot;, DBI::neat($key), DBI::neat($dbh)))</td></tr>
<tr><td class="h"><a name="1481"></a>1481</td><td></td><td></td><td></td><td></td><td class="s">            if (($DBI::dbi_debug &amp; 0xF) &gt;= 4);</td></tr>
<tr><td class="h"><a name="1482"></a>1482</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1483"></a>1483</td><td></td><td></td><td></td><td></td><td class="s">        my $cb = $attr-&gt;{Callbacks}; # take care not to autovivify</td></tr>
<tr><td class="h"><a name="1484"></a>1484</td><td></td><td></td><td></td><td></td><td class="s">        if ($dbh &amp;&amp; $dbh-&gt;FETCH('Active') &amp;&amp; eval { $dbh-&gt;ping }) {</td></tr>
<tr><td class="h"><a name="1485"></a>1485</td><td></td><td></td><td></td><td></td><td class="s">            # If the caller has provided a callback then call it</td></tr>
<tr><td class="h"><a name="1486"></a>1486</td><td></td><td></td><td></td><td></td><td class="s">            if ($cb and $cb = $cb-&gt;{&quot;connect_cached.reused&quot;}) {</td></tr>
<tr><td class="h"><a name="1487"></a>1487</td><td></td><td></td><td></td><td></td><td class="s">                local $_ = &quot;connect_cached.reused&quot;;</td></tr>
<tr><td class="h"><a name="1488"></a>1488</td><td></td><td></td><td></td><td></td><td class="s">                $cb-&gt;($dbh, $dsn, $user, $auth, $attr);</td></tr>
<tr><td class="h"><a name="1489"></a>1489</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1490"></a>1490</td><td></td><td></td><td></td><td></td><td class="s">            return $dbh;</td></tr>
<tr><td class="h"><a name="1491"></a>1491</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1492"></a>1492</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1493"></a>1493</td><td></td><td></td><td></td><td></td><td class="s">        # If the caller has provided a callback then call it</td></tr>
<tr><td class="h"><a name="1494"></a>1494</td><td></td><td></td><td></td><td></td><td class="s">        if ($cb and $cb = $cb-&gt;{&quot;connect_cached.new&quot;}) {</td></tr>
<tr><td class="h"><a name="1495"></a>1495</td><td></td><td></td><td></td><td></td><td class="s">            local $_ = &quot;connect_cached.new&quot;;</td></tr>
<tr><td class="h"><a name="1496"></a>1496</td><td></td><td></td><td></td><td></td><td class="s">            $cb-&gt;($dbh, $dsn, $user, $auth, $attr);</td></tr>
<tr><td class="h"><a name="1497"></a>1497</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1498"></a>1498</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1499"></a>1499</td><td></td><td></td><td></td><td></td><td class="s">        $dbh = $drh-&gt;connect(@_);</td></tr>
<tr><td class="h"><a name="1500"></a>1500</td><td></td><td></td><td></td><td></td><td class="s">        $cache-&gt;{$key} = $dbh;        # replace prev entry, even if connect failed</td></tr>
<tr><td class="h"><a name="1501"></a>1501</td><td></td><td></td><td></td><td></td><td class="s">        return $dbh;</td></tr>
<tr><td class="h"><a name="1502"></a>1502</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1503"></a>1503</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1504"></a>1504</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1505"></a>1505</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1506"></a>1506</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1507"></a>1507</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">{   package                # hide from PAUSE</td></tr>
<tr><td class="h"><a name="1508"></a>1508</td><td></td><td></td><td></td><td></td><td class="s">        DBD::_::db;        # ====== DATABASE ======</td></tr>
<tr><td class="h"><a name="1509"></a>1509</td><td class="c3">1</td><td class="c2"><span title="Avg 7&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">    @DBD::_::db::ISA = qw(DBD::_::common);</td></tr>
<tr><td class="h"><a name="1510"></a>1510</td><td class="c1">2</td><td class="c0"><span title="Avg 890&micro;s">1.78ms</span></td><td class="c3">2</td><td class="c3">15&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 12&micro;s (9+3) within DBD::_::db::BEGIN@1510 which was called:
#    once (9&micro;s+3&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1510">line 1510</a></div></div>    use strict;<div class="calls"><div class="calls_out">    # spent    12&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1510">DBD::_::db::BEGIN@1510</a>
    # spent     3&micro;s making 1 call to <a href="strict-pm-3-line.html#34">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="1511"></a>1511</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1512"></a>1512</td><td></td><td></td><td></td><td></td><td class="s">    sub clone {</td></tr>
<tr><td class="h"><a name="1513"></a>1513</td><td></td><td></td><td></td><td></td><td class="s">        my ($old_dbh, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1514"></a>1514</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1515"></a>1515</td><td></td><td></td><td></td><td></td><td class="s">        my $closure = $old_dbh-&gt;{dbi_connect_closure}</td></tr>
<tr><td class="h"><a name="1516"></a>1516</td><td></td><td></td><td></td><td></td><td class="s">            or return $old_dbh-&gt;set_err($DBI::stderr, &quot;Can't clone handle&quot;);</td></tr>
<tr><td class="h"><a name="1517"></a>1517</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1518"></a>1518</td><td></td><td></td><td></td><td></td><td class="s">        unless ($attr) { # XXX deprecated, caller should always pass a hash ref</td></tr>
<tr><td class="h"><a name="1519"></a>1519</td><td></td><td></td><td></td><td></td><td class="s">            # copy attributes visible in the attribute cache</td></tr>
<tr><td class="h"><a name="1520"></a>1520</td><td></td><td></td><td></td><td></td><td class="s">            keys %$old_dbh;        # reset iterator</td></tr>
<tr><td class="h"><a name="1521"></a>1521</td><td></td><td></td><td></td><td></td><td class="s">            while ( my ($k, $v) = each %$old_dbh ) {</td></tr>
<tr><td class="h"><a name="1522"></a>1522</td><td></td><td></td><td></td><td></td><td class="s">                # ignore non-code refs, i.e., caches, handles, Err etc</td></tr>
<tr><td class="h"><a name="1523"></a>1523</td><td></td><td></td><td></td><td></td><td class="s">                next if ref $v &amp;&amp; ref $v ne 'CODE'; # HandleError etc</td></tr>
<tr><td class="h"><a name="1524"></a>1524</td><td></td><td></td><td></td><td></td><td class="s">                $attr-&gt;{$k} = $v;</td></tr>
<tr><td class="h"><a name="1525"></a>1525</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1526"></a>1526</td><td></td><td></td><td></td><td></td><td class="s">            # explicitly set attributes which are unlikely to be in the</td></tr>
<tr><td class="h"><a name="1527"></a>1527</td><td></td><td></td><td></td><td></td><td class="s">            # attribute cache, i.e., boolean's and some others</td></tr>
<tr><td class="h"><a name="1528"></a>1528</td><td></td><td></td><td></td><td></td><td class="s">            $attr-&gt;{$_} = $old_dbh-&gt;FETCH($_) for (qw(</td></tr>
<tr><td class="h"><a name="1529"></a>1529</td><td></td><td></td><td></td><td></td><td class="s">                AutoCommit ChopBlanks InactiveDestroy AutoInactiveDestroy</td></tr>
<tr><td class="h"><a name="1530"></a>1530</td><td></td><td></td><td></td><td></td><td class="s">                LongTruncOk PrintError PrintWarn Profile RaiseError</td></tr>
<tr><td class="h"><a name="1531"></a>1531</td><td></td><td></td><td></td><td></td><td class="s">                ShowErrorStatement TaintIn TaintOut</td></tr>
<tr><td class="h"><a name="1532"></a>1532</td><td></td><td></td><td></td><td></td><td class="s">            ));</td></tr>
<tr><td class="h"><a name="1533"></a>1533</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1534"></a>1534</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1535"></a>1535</td><td></td><td></td><td></td><td></td><td class="s">        # use Data::Dumper; warn Dumper([$old_dbh, $attr]);</td></tr>
<tr><td class="h"><a name="1536"></a>1536</td><td></td><td></td><td></td><td></td><td class="s">        my $new_dbh = &amp;$closure($old_dbh, $attr);</td></tr>
<tr><td class="h"><a name="1537"></a>1537</td><td></td><td></td><td></td><td></td><td class="s">        unless ($new_dbh) {</td></tr>
<tr><td class="h"><a name="1538"></a>1538</td><td></td><td></td><td></td><td></td><td class="s">            # need to copy err/errstr from driver back into $old_dbh</td></tr>
<tr><td class="h"><a name="1539"></a>1539</td><td></td><td></td><td></td><td></td><td class="s">            my $drh = $old_dbh-&gt;{Driver};</td></tr>
<tr><td class="h"><a name="1540"></a>1540</td><td></td><td></td><td></td><td></td><td class="s">            return $old_dbh-&gt;set_err($drh-&gt;err, $drh-&gt;errstr, $drh-&gt;state);</td></tr>
<tr><td class="h"><a name="1541"></a>1541</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1542"></a>1542</td><td></td><td></td><td></td><td></td><td class="s">        $new_dbh-&gt;{dbi_connect_closure} = $closure;</td></tr>
<tr><td class="h"><a name="1543"></a>1543</td><td></td><td></td><td></td><td></td><td class="s">        return $new_dbh;</td></tr>
<tr><td class="h"><a name="1544"></a>1544</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1545"></a>1545</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1546"></a>1546</td><td></td><td></td><td></td><td></td><td class="s">    sub quote_identifier {</td></tr>
<tr><td class="h"><a name="1547"></a>1547</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, @id) = @_;</td></tr>
<tr><td class="h"><a name="1548"></a>1548</td><td></td><td></td><td></td><td></td><td class="s">        my $attr = (@id &gt; 3 &amp;&amp; ref($id[-1])) ? pop @id : undef;</td></tr>
<tr><td class="h"><a name="1549"></a>1549</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1550"></a>1550</td><td></td><td></td><td></td><td></td><td class="s">        my $info = $dbh-&gt;{dbi_quote_identifier_cache} ||= [</td></tr>
<tr><td class="h"><a name="1551"></a>1551</td><td></td><td></td><td></td><td></td><td class="s">            $dbh-&gt;get_info(29)  || '&quot;',        # SQL_IDENTIFIER_QUOTE_CHAR</td></tr>
<tr><td class="h"><a name="1552"></a>1552</td><td></td><td></td><td></td><td></td><td class="s">            $dbh-&gt;get_info(41)  || '.',        # SQL_CATALOG_NAME_SEPARATOR</td></tr>
<tr><td class="h"><a name="1553"></a>1553</td><td></td><td></td><td></td><td></td><td class="s">            $dbh-&gt;get_info(114) ||   1,        # SQL_CATALOG_LOCATION</td></tr>
<tr><td class="h"><a name="1554"></a>1554</td><td></td><td></td><td></td><td></td><td class="s">        ];</td></tr>
<tr><td class="h"><a name="1555"></a>1555</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1556"></a>1556</td><td></td><td></td><td></td><td></td><td class="s">        my $quote = $info-&gt;[0];</td></tr>
<tr><td class="h"><a name="1557"></a>1557</td><td></td><td></td><td></td><td></td><td class="s">        foreach (@id) {                        # quote the elements</td></tr>
<tr><td class="h"><a name="1558"></a>1558</td><td></td><td></td><td></td><td></td><td class="s">            next unless defined;</td></tr>
<tr><td class="h"><a name="1559"></a>1559</td><td></td><td></td><td></td><td></td><td class="s">            s/$quote/$quote$quote/g;        # escape embedded quotes</td></tr>
<tr><td class="h"><a name="1560"></a>1560</td><td></td><td></td><td></td><td></td><td class="s">            $_ = qq{$quote$_$quote};</td></tr>
<tr><td class="h"><a name="1561"></a>1561</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1562"></a>1562</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1563"></a>1563</td><td></td><td></td><td></td><td></td><td class="s">        # strip out catalog if present for special handling</td></tr>
<tr><td class="h"><a name="1564"></a>1564</td><td></td><td></td><td></td><td></td><td class="s">        my $catalog = (@id &gt;= 3) ? shift @id : undef;</td></tr>
<tr><td class="h"><a name="1565"></a>1565</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1566"></a>1566</td><td></td><td></td><td></td><td></td><td class="s">        # join the dots, ignoring any null/undef elements (ie schema)</td></tr>
<tr><td class="h"><a name="1567"></a>1567</td><td></td><td></td><td></td><td></td><td class="s">        my $quoted_id = join '.', grep { defined } @id;</td></tr>
<tr><td class="h"><a name="1568"></a>1568</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1569"></a>1569</td><td></td><td></td><td></td><td></td><td class="s">        if ($catalog) {                        # add catalog correctly</td></tr>
<tr><td class="h"><a name="1570"></a>1570</td><td></td><td></td><td></td><td></td><td class="s">            $quoted_id = ($info-&gt;[2] == 2)        # SQL_CL_END</td></tr>
<tr><td class="h"><a name="1571"></a>1571</td><td></td><td></td><td></td><td></td><td class="s">                    ? $quoted_id . $info-&gt;[1] . $catalog</td></tr>
<tr><td class="h"><a name="1572"></a>1572</td><td></td><td></td><td></td><td></td><td class="s">                    : $catalog   . $info-&gt;[1] . $quoted_id;</td></tr>
<tr><td class="h"><a name="1573"></a>1573</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1574"></a>1574</td><td></td><td></td><td></td><td></td><td class="s">        return $quoted_id;</td></tr>
<tr><td class="h"><a name="1575"></a>1575</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1576"></a>1576</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1577"></a>1577</td><td></td><td></td><td></td><td></td><td class="s">    sub quote {</td></tr>
<tr><td class="h"><a name="1578"></a>1578</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, $str, $data_type) = @_;</td></tr>
<tr><td class="h"><a name="1579"></a>1579</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1580"></a>1580</td><td></td><td></td><td></td><td></td><td class="s">        return &quot;NULL&quot; unless defined $str;</td></tr>
<tr><td class="h"><a name="1581"></a>1581</td><td></td><td></td><td></td><td></td><td class="s">        unless ($data_type) {</td></tr>
<tr><td class="h"><a name="1582"></a>1582</td><td></td><td></td><td></td><td></td><td class="s">            $str =~ s/'/''/g;                # ISO SQL2</td></tr>
<tr><td class="h"><a name="1583"></a>1583</td><td></td><td></td><td></td><td></td><td class="s">            return &quot;'$str'&quot;;</td></tr>
<tr><td class="h"><a name="1584"></a>1584</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1585"></a>1585</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1586"></a>1586</td><td></td><td></td><td></td><td></td><td class="s">        my $dbi_literal_quote_cache = $dbh-&gt;{'dbi_literal_quote_cache'} ||= [ {} , {} ];</td></tr>
<tr><td class="h"><a name="1587"></a>1587</td><td></td><td></td><td></td><td></td><td class="s">        my ($prefixes, $suffixes) = @$dbi_literal_quote_cache;</td></tr>
<tr><td class="h"><a name="1588"></a>1588</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1589"></a>1589</td><td></td><td></td><td></td><td></td><td class="s">        my $lp = $prefixes-&gt;{$data_type};</td></tr>
<tr><td class="h"><a name="1590"></a>1590</td><td></td><td></td><td></td><td></td><td class="s">        my $ls = $suffixes-&gt;{$data_type};</td></tr>
<tr><td class="h"><a name="1591"></a>1591</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1592"></a>1592</td><td></td><td></td><td></td><td></td><td class="s">        if ( ! defined $lp || ! defined $ls ) {</td></tr>
<tr><td class="h"><a name="1593"></a>1593</td><td></td><td></td><td></td><td></td><td class="s">            my $ti = $dbh-&gt;type_info($data_type);</td></tr>
<tr><td class="h"><a name="1594"></a>1594</td><td></td><td></td><td></td><td></td><td class="s">            $lp = $prefixes-&gt;{$data_type} = $ti ? $ti-&gt;{LITERAL_PREFIX} || &quot;&quot; : &quot;'&quot;;</td></tr>
<tr><td class="h"><a name="1595"></a>1595</td><td></td><td></td><td></td><td></td><td class="s">            $ls = $suffixes-&gt;{$data_type} = $ti ? $ti-&gt;{LITERAL_SUFFIX} || &quot;&quot; : &quot;'&quot;;</td></tr>
<tr><td class="h"><a name="1596"></a>1596</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1597"></a>1597</td><td></td><td></td><td></td><td></td><td class="s">        return $str unless $lp || $ls; # no quoting required</td></tr>
<tr><td class="h"><a name="1598"></a>1598</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1599"></a>1599</td><td></td><td></td><td></td><td></td><td class="s">        # XXX don't know what the standard says about escaping</td></tr>
<tr><td class="h"><a name="1600"></a>1600</td><td></td><td></td><td></td><td></td><td class="s">        # in the 'general case' (where $lp != &quot;'&quot;).</td></tr>
<tr><td class="h"><a name="1601"></a>1601</td><td></td><td></td><td></td><td></td><td class="s">        # So we just do this and hope:</td></tr>
<tr><td class="h"><a name="1602"></a>1602</td><td></td><td></td><td></td><td></td><td class="s">        $str =~ s/$lp/$lp$lp/g</td></tr>
<tr><td class="h"><a name="1603"></a>1603</td><td></td><td></td><td></td><td></td><td class="s">                if $lp &amp;&amp; $lp eq $ls &amp;&amp; ($lp eq &quot;'&quot; || $lp eq '&quot;');</td></tr>
<tr><td class="h"><a name="1604"></a>1604</td><td></td><td></td><td></td><td></td><td class="s">        return &quot;$lp$str$ls&quot;;</td></tr>
<tr><td class="h"><a name="1605"></a>1605</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1606"></a>1606</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1607"></a>1607</td><td></td><td></td><td></td><td></td><td class="s">    sub rows { -1 }        # here so $DBI::rows 'works' after using $dbh</td></tr>
<tr><td class="h"><a name="1608"></a>1608</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1609"></a>1609</td><td></td><td></td><td></td><td></td><td class="s">    sub do {</td></tr>
<tr><td class="h"><a name="1610"></a>1610</td><td></td><td></td><td></td><td></td><td class="s">        my($dbh, $statement, $attr, @params) = @_;</td></tr>
<tr><td class="h"><a name="1611"></a>1611</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = $dbh-&gt;prepare($statement, $attr) or return undef;</td></tr>
<tr><td class="h"><a name="1612"></a>1612</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;execute(@params) or return undef;</td></tr>
<tr><td class="h"><a name="1613"></a>1613</td><td></td><td></td><td></td><td></td><td class="s">        my $rows = $sth-&gt;rows;</td></tr>
<tr><td class="h"><a name="1614"></a>1614</td><td></td><td></td><td></td><td></td><td class="s">        ($rows == 0) ? &quot;0E0&quot; : $rows;</td></tr>
<tr><td class="h"><a name="1615"></a>1615</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1616"></a>1616</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1617"></a>1617</td><td></td><td></td><td></td><td></td><td class="s">    sub _do_selectrow {</td></tr>
<tr><td class="h"><a name="1618"></a>1618</td><td></td><td></td><td></td><td></td><td class="s">        my ($method, $dbh, $stmt, $attr, @bind) = @_;</td></tr>
<tr><td class="h"><a name="1619"></a>1619</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = ((ref $stmt) ? $stmt : $dbh-&gt;prepare($stmt, $attr))</td></tr>
<tr><td class="h"><a name="1620"></a>1620</td><td></td><td></td><td></td><td></td><td class="s">            or return;</td></tr>
<tr><td class="h"><a name="1621"></a>1621</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;execute(@bind)</td></tr>
<tr><td class="h"><a name="1622"></a>1622</td><td></td><td></td><td></td><td></td><td class="s">            or return;</td></tr>
<tr><td class="h"><a name="1623"></a>1623</td><td></td><td></td><td></td><td></td><td class="s">        my $row = $sth-&gt;$method()</td></tr>
<tr><td class="h"><a name="1624"></a>1624</td><td></td><td></td><td></td><td></td><td class="s">            and $sth-&gt;finish;</td></tr>
<tr><td class="h"><a name="1625"></a>1625</td><td></td><td></td><td></td><td></td><td class="s">        return $row;</td></tr>
<tr><td class="h"><a name="1626"></a>1626</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1627"></a>1627</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1628"></a>1628</td><td></td><td></td><td></td><td></td><td class="s">    sub selectrow_hashref {  return _do_selectrow('fetchrow_hashref',  @_); }</td></tr>
<tr><td class="h"><a name="1629"></a>1629</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1630"></a>1630</td><td></td><td></td><td></td><td></td><td class="s">    # XXX selectrow_array/ref also have C implementations in Driver.xst</td></tr>
<tr><td class="h"><a name="1631"></a>1631</td><td></td><td></td><td></td><td></td><td class="s">    sub selectrow_arrayref { return _do_selectrow('fetchrow_arrayref', @_); }</td></tr>
<tr><td class="h"><a name="1632"></a>1632</td><td></td><td></td><td></td><td></td><td class="s">    sub selectrow_array {</td></tr>
<tr><td class="h"><a name="1633"></a>1633</td><td></td><td></td><td></td><td></td><td class="s">        my $row = _do_selectrow('fetchrow_arrayref', @_) or return;</td></tr>
<tr><td class="h"><a name="1634"></a>1634</td><td></td><td></td><td></td><td></td><td class="s">        return $row-&gt;[0] unless wantarray;</td></tr>
<tr><td class="h"><a name="1635"></a>1635</td><td></td><td></td><td></td><td></td><td class="s">        return @$row;</td></tr>
<tr><td class="h"><a name="1636"></a>1636</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1637"></a>1637</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1638"></a>1638</td><td></td><td></td><td></td><td></td><td class="s">    # XXX selectall_arrayref also has C implementation in Driver.xst</td></tr>
<tr><td class="h"><a name="1639"></a>1639</td><td></td><td></td><td></td><td></td><td class="s">    # which fallsback to this if a slice is given</td></tr>
<tr><td class="h"><a name="1640"></a>1640</td><td></td><td></td><td></td><td></td><td class="s">    sub selectall_arrayref {</td></tr>
<tr><td class="h"><a name="1641"></a>1641</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, $stmt, $attr, @bind) = @_;</td></tr>
<tr><td class="h"><a name="1642"></a>1642</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = (ref $stmt) ? $stmt : $dbh-&gt;prepare($stmt, $attr)</td></tr>
<tr><td class="h"><a name="1643"></a>1643</td><td></td><td></td><td></td><td></td><td class="s">            or return;</td></tr>
<tr><td class="h"><a name="1644"></a>1644</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;execute(@bind) || return;</td></tr>
<tr><td class="h"><a name="1645"></a>1645</td><td></td><td></td><td></td><td></td><td class="s">        my $slice = $attr-&gt;{Slice}; # typically undef, else hash or array ref</td></tr>
<tr><td class="h"><a name="1646"></a>1646</td><td></td><td></td><td></td><td></td><td class="s">        if (!$slice and $slice=$attr-&gt;{Columns}) {</td></tr>
<tr><td class="h"><a name="1647"></a>1647</td><td></td><td></td><td></td><td></td><td class="s">            if (ref $slice eq 'ARRAY') { # map col idx to perl array idx</td></tr>
<tr><td class="h"><a name="1648"></a>1648</td><td></td><td></td><td></td><td></td><td class="s">                $slice = [ @{$attr-&gt;{Columns}} ];        # take a copy</td></tr>
<tr><td class="h"><a name="1649"></a>1649</td><td></td><td></td><td></td><td></td><td class="s">                for (@$slice) { $_-- }</td></tr>
<tr><td class="h"><a name="1650"></a>1650</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1651"></a>1651</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1652"></a>1652</td><td></td><td></td><td></td><td></td><td class="s">        my $rows = $sth-&gt;fetchall_arrayref($slice, my $MaxRows = $attr-&gt;{MaxRows});</td></tr>
<tr><td class="h"><a name="1653"></a>1653</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;finish if defined $MaxRows;</td></tr>
<tr><td class="h"><a name="1654"></a>1654</td><td></td><td></td><td></td><td></td><td class="s">        return $rows;</td></tr>
<tr><td class="h"><a name="1655"></a>1655</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1656"></a>1656</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1657"></a>1657</td><td></td><td></td><td></td><td></td><td class="s">    sub selectall_hashref {</td></tr>
<tr><td class="h"><a name="1658"></a>1658</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, $stmt, $key_field, $attr, @bind) = @_;</td></tr>
<tr><td class="h"><a name="1659"></a>1659</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = (ref $stmt) ? $stmt : $dbh-&gt;prepare($stmt, $attr);</td></tr>
<tr><td class="h"><a name="1660"></a>1660</td><td></td><td></td><td></td><td></td><td class="s">        return unless $sth;</td></tr>
<tr><td class="h"><a name="1661"></a>1661</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;execute(@bind) || return;</td></tr>
<tr><td class="h"><a name="1662"></a>1662</td><td></td><td></td><td></td><td></td><td class="s">        return $sth-&gt;fetchall_hashref($key_field);</td></tr>
<tr><td class="h"><a name="1663"></a>1663</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1664"></a>1664</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1665"></a>1665</td><td></td><td></td><td></td><td></td><td class="s">    sub selectcol_arrayref {</td></tr>
<tr><td class="h"><a name="1666"></a>1666</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, $stmt, $attr, @bind) = @_;</td></tr>
<tr><td class="h"><a name="1667"></a>1667</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = (ref $stmt) ? $stmt : $dbh-&gt;prepare($stmt, $attr);</td></tr>
<tr><td class="h"><a name="1668"></a>1668</td><td></td><td></td><td></td><td></td><td class="s">        return unless $sth;</td></tr>
<tr><td class="h"><a name="1669"></a>1669</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;execute(@bind) || return;</td></tr>
<tr><td class="h"><a name="1670"></a>1670</td><td></td><td></td><td></td><td></td><td class="s">        my @columns = ($attr-&gt;{Columns}) ? @{$attr-&gt;{Columns}} : (1);</td></tr>
<tr><td class="h"><a name="1671"></a>1671</td><td></td><td></td><td></td><td></td><td class="s">        my @values  = (undef) x @columns;</td></tr>
<tr><td class="h"><a name="1672"></a>1672</td><td></td><td></td><td></td><td></td><td class="s">        my $idx = 0;</td></tr>
<tr><td class="h"><a name="1673"></a>1673</td><td></td><td></td><td></td><td></td><td class="s">        for (@columns) {</td></tr>
<tr><td class="h"><a name="1674"></a>1674</td><td></td><td></td><td></td><td></td><td class="s">            $sth-&gt;bind_col($_, \$values[$idx++]) || return;</td></tr>
<tr><td class="h"><a name="1675"></a>1675</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1676"></a>1676</td><td></td><td></td><td></td><td></td><td class="s">        my @col;</td></tr>
<tr><td class="h"><a name="1677"></a>1677</td><td></td><td></td><td></td><td></td><td class="s">        if (my $max = $attr-&gt;{MaxRows}) {</td></tr>
<tr><td class="h"><a name="1678"></a>1678</td><td></td><td></td><td></td><td></td><td class="s">            push @col, @values while 0 &lt; $max-- &amp;&amp; $sth-&gt;fetch;</td></tr>
<tr><td class="h"><a name="1679"></a>1679</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1680"></a>1680</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="1681"></a>1681</td><td></td><td></td><td></td><td></td><td class="s">            push @col, @values while $sth-&gt;fetch;</td></tr>
<tr><td class="h"><a name="1682"></a>1682</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1683"></a>1683</td><td></td><td></td><td></td><td></td><td class="s">        return \@col;</td></tr>
<tr><td class="h"><a name="1684"></a>1684</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1685"></a>1685</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1686"></a>1686</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 559&micro;s (100+459) within DBD::_::db::prepare_cached which was called 4 times, avg 140&micro;s/call:
# 2 times (61&micro;s+346&micro;s) by DBI::db::prepare_cached at <a href="KiokuDB-Backend-DBI-pm-2149-line.html#508">line 508 of KiokuDB/Backend/DBI.pm</a>, avg 203&micro;s/call
# 2 times (39&micro;s+113&micro;s) by DBI::db::prepare_cached at <a href="KiokuDB-Backend-DBI-pm-2149-line.html#518">line 518 of KiokuDB/Backend/DBI.pm</a>, avg 76&micro;s/call</div></div>    sub prepare_cached {</td></tr>
<tr><td class="h"><a name="1687"></a>1687</td><td class="c0">4</td><td class="c3"><span title="Avg 1&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        my ($dbh, $statement, $attr, $if_active) = @_;</td></tr>
<tr><td class="h"><a name="1688"></a>1688</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1689"></a>1689</td><td></td><td></td><td></td><td></td><td class="s">        # Needs support at dbh level to clear cache before complaining about</td></tr>
<tr><td class="h"><a name="1690"></a>1690</td><td></td><td></td><td></td><td></td><td class="s">        # active children. The XS template code does this. Drivers not using</td></tr>
<tr><td class="h"><a name="1691"></a>1691</td><td></td><td></td><td></td><td></td><td class="s">        # the template must handle clearing the cache themselves.</td></tr>
<tr><td class="h"><a name="1692"></a>1692</td><td class="c0">4</td><td class="c3"><span title="Avg 1&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        my $cache = $dbh-&gt;{CachedKids} ||= {};</td></tr>
<tr><td class="h"><a name="1693"></a>1693</td><td class="c0">8</td><td class="c0"><span title="Avg 2&micro;s">18&micro;s</span></td><td></td><td></td><td class="s">        my $key = do { local $^W;</td></tr>
<tr><td class="h"><a name="1694"></a>1694</td><td class="c0">4</td><td class="c0"><span title="Avg 8&micro;s">34&micro;s</span></td><td class="c0">4</td><td class="c3">8&micro;s</td><td class="s">            join &quot;!\001&quot;, $statement, DBI::_concat_hash_sorted($attr, &quot;=\001&quot;, &quot;,\001&quot;, 0, 0)<div class="calls"><div class="calls_out">            # spent     8&micro;s making 4 calls to <a href="DBI-pm-1359-line.html#DBI___concat_hash_sorted">DBI::_concat_hash_sorted</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1695"></a>1695</td><td></td><td></td><td></td><td></td><td class="s">        };</td></tr>
<tr><td class="h"><a name="1696"></a>1696</td><td class="c0">4</td><td class="c3"><span title="Avg 1&micro;s">4&micro;s</span></td><td></td><td></td><td class="s">        my $sth = $cache-&gt;{$key};</td></tr>
<tr><td class="h"><a name="1697"></a>1697</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1698"></a>1698</td><td class="c0">4</td><td class="c3"><span title="Avg 350ns">1&micro;s</span></td><td></td><td></td><td class="s">        if ($sth) {</td></tr>
<tr><td class="h"><a name="1699"></a>1699</td><td class="c1">2</td><td class="c0"><span title="Avg 22&micro;s">44&micro;s</span></td><td class="c3">2</td><td class="c3">12&micro;s</td><td class="s">            return $sth unless $sth-&gt;FETCH('Active');<div class="calls"><div class="calls_out">            # spent    12&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__FETCH">DBI::common::FETCH</a>, avg 6&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1700"></a>1700</td><td></td><td></td><td></td><td></td><td class="s">            Carp::carp(&quot;prepare_cached($statement) statement handle $sth still Active&quot;)</td></tr>
<tr><td class="h"><a name="1701"></a>1701</td><td></td><td></td><td></td><td></td><td class="s">                unless ($if_active ||= 0);</td></tr>
<tr><td class="h"><a name="1702"></a>1702</td><td></td><td></td><td></td><td></td><td class="s">            $sth-&gt;finish if $if_active &lt;= 1;</td></tr>
<tr><td class="h"><a name="1703"></a>1703</td><td></td><td></td><td></td><td></td><td class="s">            return $sth  if $if_active &lt;= 2;</td></tr>
<tr><td class="h"><a name="1704"></a>1704</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1705"></a>1705</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1706"></a>1706</td><td class="c1">2</td><td class="c0"><span title="Avg 8&micro;s">16&micro;s</span></td><td class="c0">4</td><td class="c0">868&micro;s</td><td class="s">        $sth = $dbh-&gt;prepare($statement, $attr);<div class="calls"><div class="calls_out">        # spent   440&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__db__prepare">DBI::db::prepare</a>, avg 220&micro;s/call
        # spent   428&micro;s making 2 calls to <a href="DBD-SQLite-pm-2618-line.html#185">DBD::SQLite::db::prepare</a>, avg 214&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1707"></a>1707</td><td class="c1">2</td><td class="c3"><span title="Avg 2&micro;s">3&micro;s</span></td><td></td><td></td><td class="s">        $cache-&gt;{$key} = $sth if $sth;</td></tr>
<tr><td class="h"><a name="1708"></a>1708</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1709"></a>1709</td><td class="c1">2</td><td class="c1"><span title="Avg 4&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">        return $sth;</td></tr>
<tr><td class="h"><a name="1710"></a>1710</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1711"></a>1711</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1712"></a>1712</td><td></td><td></td><td></td><td></td><td class="s">    sub ping {</td></tr>
<tr><td class="h"><a name="1713"></a>1713</td><td></td><td></td><td></td><td></td><td class="s">        my $dbh = shift;</td></tr>
<tr><td class="h"><a name="1714"></a>1714</td><td></td><td></td><td></td><td></td><td class="s">        $dbh-&gt;_not_impl('ping');</td></tr>
<tr><td class="h"><a name="1715"></a>1715</td><td></td><td></td><td></td><td></td><td class="s">        # &quot;0 but true&quot; is a special kind of true 0 that is used here so</td></tr>
<tr><td class="h"><a name="1716"></a>1716</td><td></td><td></td><td></td><td></td><td class="s">        # applications can check if the ping was a real ping or not</td></tr>
<tr><td class="h"><a name="1717"></a>1717</td><td></td><td></td><td></td><td></td><td class="s">        ($dbh-&gt;FETCH('Active')) ?  &quot;0 but true&quot; : 0;</td></tr>
<tr><td class="h"><a name="1718"></a>1718</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1719"></a>1719</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1720"></a>1720</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 50&micro;s (31+19) within DBD::_::db::begin_work which was called 2 times, avg 25&micro;s/call:
# 2 times (31&micro;s+19&micro;s) by DBI::db::begin_work at <a href="DBIx-Class-Storage-DBI-pm-2457-line.html#1339">line 1339 of DBIx/Class/Storage/DBI.pm</a>, avg 25&micro;s/call</div></div>    sub begin_work {</td></tr>
<tr><td class="h"><a name="1721"></a>1721</td><td class="c1">2</td><td class="c3"><span title="Avg 500ns">1&micro;s</span></td><td></td><td></td><td class="s">        my $dbh = shift;</td></tr>
<tr><td class="h"><a name="1722"></a>1722</td><td class="c1">2</td><td class="c0"><span title="Avg 9&micro;s">18&micro;s</span></td><td class="c3">2</td><td class="c3">10&micro;s</td><td class="s">        return $dbh-&gt;set_err($DBI::stderr, &quot;Already in a transaction&quot;)<div class="calls"><div class="calls_out">        # spent    10&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__FETCH">DBI::common::FETCH</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1723"></a>1723</td><td></td><td></td><td></td><td></td><td class="s">                unless $dbh-&gt;FETCH('AutoCommit');</td></tr>
<tr><td class="h"><a name="1724"></a>1724</td><td class="c1">2</td><td class="c1"><span title="Avg 5&micro;s">10&micro;s</span></td><td class="c3">2</td><td class="c3">4&micro;s</td><td class="s">        $dbh-&gt;STORE('AutoCommit', 0); # will croak if driver doesn't support it<div class="calls"><div class="calls_out">        # spent     4&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__STORE">DBI::common::STORE</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1725"></a>1725</td><td class="c1">2</td><td class="c1"><span title="Avg 5&micro;s">9&micro;s</span></td><td class="c3">2</td><td class="c3">5&micro;s</td><td class="s">        $dbh-&gt;STORE('BegunWork',  1); # trigger post commit/rollback action<div class="calls"><div class="calls_out">        # spent     5&micro;s making 2 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__STORE">DBI::common::STORE</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1726"></a>1726</td><td class="c1">2</td><td class="c2"><span title="Avg 3&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">        return 1;</td></tr>
<tr><td class="h"><a name="1727"></a>1727</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1728"></a>1728</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1729"></a>1729</td><td></td><td></td><td></td><td></td><td class="s">    sub primary_key {</td></tr>
<tr><td class="h"><a name="1730"></a>1730</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, @args) = @_;</td></tr>
<tr><td class="h"><a name="1731"></a>1731</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = $dbh-&gt;primary_key_info(@args) or return;</td></tr>
<tr><td class="h"><a name="1732"></a>1732</td><td></td><td></td><td></td><td></td><td class="s">        my ($row, @col);</td></tr>
<tr><td class="h"><a name="1733"></a>1733</td><td></td><td></td><td></td><td></td><td class="s">        push @col, $row-&gt;[3] while ($row = $sth-&gt;fetch);</td></tr>
<tr><td class="h"><a name="1734"></a>1734</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;primary_key method not called in list context&quot;)</td></tr>
<tr><td class="h"><a name="1735"></a>1735</td><td></td><td></td><td></td><td></td><td class="s">                unless wantarray; # leave us some elbow room</td></tr>
<tr><td class="h"><a name="1736"></a>1736</td><td></td><td></td><td></td><td></td><td class="s">        return @col;</td></tr>
<tr><td class="h"><a name="1737"></a>1737</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1738"></a>1738</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1739"></a>1739</td><td></td><td></td><td></td><td></td><td class="s">    sub tables {</td></tr>
<tr><td class="h"><a name="1740"></a>1740</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, @args) = @_;</td></tr>
<tr><td class="h"><a name="1741"></a>1741</td><td></td><td></td><td></td><td></td><td class="s">        my $sth    = $dbh-&gt;table_info(@args[0,1,2,3,4]) or return;</td></tr>
<tr><td class="h"><a name="1742"></a>1742</td><td></td><td></td><td></td><td></td><td class="s">        my $tables = $sth-&gt;fetchall_arrayref or return;</td></tr>
<tr><td class="h"><a name="1743"></a>1743</td><td></td><td></td><td></td><td></td><td class="s">        my @tables;</td></tr>
<tr><td class="h"><a name="1744"></a>1744</td><td></td><td></td><td></td><td></td><td class="s">        if ($dbh-&gt;get_info(29)) { # SQL_IDENTIFIER_QUOTE_CHAR</td></tr>
<tr><td class="h"><a name="1745"></a>1745</td><td></td><td></td><td></td><td></td><td class="s">            @tables = map { $dbh-&gt;quote_identifier( @{$_}[0,1,2] ) } @$tables;</td></tr>
<tr><td class="h"><a name="1746"></a>1746</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1747"></a>1747</td><td></td><td></td><td></td><td></td><td class="s">        else {                # temporary old style hack (yeach)</td></tr>
<tr><td class="h"><a name="1748"></a>1748</td><td></td><td></td><td></td><td></td><td class="s">            @tables = map {</td></tr>
<tr><td class="h"><a name="1749"></a>1749</td><td></td><td></td><td></td><td></td><td class="s">                my $name = $_-&gt;[2];</td></tr>
<tr><td class="h"><a name="1750"></a>1750</td><td></td><td></td><td></td><td></td><td class="s">                if ($_-&gt;[1]) {</td></tr>
<tr><td class="h"><a name="1751"></a>1751</td><td></td><td></td><td></td><td></td><td class="s">                    my $schema = $_-&gt;[1];</td></tr>
<tr><td class="h"><a name="1752"></a>1752</td><td></td><td></td><td></td><td></td><td class="s">                    # a sad hack (mostly for Informix I recall)</td></tr>
<tr><td class="h"><a name="1753"></a>1753</td><td></td><td></td><td></td><td></td><td class="s">                    my $quote = ($schema eq uc($schema)) ? '' : '&quot;';</td></tr>
<tr><td class="h"><a name="1754"></a>1754</td><td></td><td></td><td></td><td></td><td class="s">                    $name = &quot;$quote$schema$quote.$name&quot;</td></tr>
<tr><td class="h"><a name="1755"></a>1755</td><td></td><td></td><td></td><td></td><td class="s">                }</td></tr>
<tr><td class="h"><a name="1756"></a>1756</td><td></td><td></td><td></td><td></td><td class="s">                $name;</td></tr>
<tr><td class="h"><a name="1757"></a>1757</td><td></td><td></td><td></td><td></td><td class="s">            } @$tables;</td></tr>
<tr><td class="h"><a name="1758"></a>1758</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1759"></a>1759</td><td></td><td></td><td></td><td></td><td class="s">        return @tables;</td></tr>
<tr><td class="h"><a name="1760"></a>1760</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1761"></a>1761</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1762"></a>1762</td><td></td><td></td><td></td><td></td><td class="s">    sub type_info {        # this should be sufficient for all drivers</td></tr>
<tr><td class="h"><a name="1763"></a>1763</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, $data_type) = @_;</td></tr>
<tr><td class="h"><a name="1764"></a>1764</td><td></td><td></td><td></td><td></td><td class="s">        my $idx_hash;</td></tr>
<tr><td class="h"><a name="1765"></a>1765</td><td></td><td></td><td></td><td></td><td class="s">        my $tia = $dbh-&gt;{dbi_type_info_row_cache};</td></tr>
<tr><td class="h"><a name="1766"></a>1766</td><td></td><td></td><td></td><td></td><td class="s">        if ($tia) {</td></tr>
<tr><td class="h"><a name="1767"></a>1767</td><td></td><td></td><td></td><td></td><td class="s">            $idx_hash = $dbh-&gt;{dbi_type_info_idx_cache};</td></tr>
<tr><td class="h"><a name="1768"></a>1768</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1769"></a>1769</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="1770"></a>1770</td><td></td><td></td><td></td><td></td><td class="s">            my $temp = $dbh-&gt;type_info_all;</td></tr>
<tr><td class="h"><a name="1771"></a>1771</td><td></td><td></td><td></td><td></td><td class="s">            return unless $temp &amp;&amp; @$temp;</td></tr>
<tr><td class="h"><a name="1772"></a>1772</td><td></td><td></td><td></td><td></td><td class="s">            # we cache here because type_info_all may be expensive to call</td></tr>
<tr><td class="h"><a name="1773"></a>1773</td><td></td><td></td><td></td><td></td><td class="s">            # (and we take a copy so the following shift can't corrupt</td></tr>
<tr><td class="h"><a name="1774"></a>1774</td><td></td><td></td><td></td><td></td><td class="s">            # the data that may be returned by future calls to type_info_all)</td></tr>
<tr><td class="h"><a name="1775"></a>1775</td><td></td><td></td><td></td><td></td><td class="s">            $tia      = $dbh-&gt;{dbi_type_info_row_cache} = [ @$temp ];</td></tr>
<tr><td class="h"><a name="1776"></a>1776</td><td></td><td></td><td></td><td></td><td class="s">            $idx_hash = $dbh-&gt;{dbi_type_info_idx_cache} = shift @$tia;</td></tr>
<tr><td class="h"><a name="1777"></a>1777</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1778"></a>1778</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1779"></a>1779</td><td></td><td></td><td></td><td></td><td class="s">        my $dt_idx   = $idx_hash-&gt;{DATA_TYPE} || $idx_hash-&gt;{data_type};</td></tr>
<tr><td class="h"><a name="1780"></a>1780</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak(&quot;type_info_all returned non-standard DATA_TYPE index value ($dt_idx != 1)&quot;)</td></tr>
<tr><td class="h"><a name="1781"></a>1781</td><td></td><td></td><td></td><td></td><td class="s">            if $dt_idx &amp;&amp; $dt_idx != 1;</td></tr>
<tr><td class="h"><a name="1782"></a>1782</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1783"></a>1783</td><td></td><td></td><td></td><td></td><td class="s">        # --- simple DATA_TYPE match filter</td></tr>
<tr><td class="h"><a name="1784"></a>1784</td><td></td><td></td><td></td><td></td><td class="s">        my @ti;</td></tr>
<tr><td class="h"><a name="1785"></a>1785</td><td></td><td></td><td></td><td></td><td class="s">        my @data_type_list = (ref $data_type) ? @$data_type : ($data_type);</td></tr>
<tr><td class="h"><a name="1786"></a>1786</td><td></td><td></td><td></td><td></td><td class="s">        foreach $data_type (@data_type_list) {</td></tr>
<tr><td class="h"><a name="1787"></a>1787</td><td></td><td></td><td></td><td></td><td class="s">            if (defined($data_type) &amp;&amp; $data_type != DBI::SQL_ALL_TYPES()) {</td></tr>
<tr><td class="h"><a name="1788"></a>1788</td><td></td><td></td><td></td><td></td><td class="s">                push @ti, grep { $_-&gt;[$dt_idx] == $data_type } @$tia;</td></tr>
<tr><td class="h"><a name="1789"></a>1789</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1790"></a>1790</td><td></td><td></td><td></td><td></td><td class="s">            else {        # SQL_ALL_TYPES</td></tr>
<tr><td class="h"><a name="1791"></a>1791</td><td></td><td></td><td></td><td></td><td class="s">                push @ti, @$tia;</td></tr>
<tr><td class="h"><a name="1792"></a>1792</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1793"></a>1793</td><td></td><td></td><td></td><td></td><td class="s">            last if @ti;        # found at least one match</td></tr>
<tr><td class="h"><a name="1794"></a>1794</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1795"></a>1795</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1796"></a>1796</td><td></td><td></td><td></td><td></td><td class="s">        # --- format results into list of hash refs</td></tr>
<tr><td class="h"><a name="1797"></a>1797</td><td></td><td></td><td></td><td></td><td class="s">        my $idx_fields = keys %$idx_hash;</td></tr>
<tr><td class="h"><a name="1798"></a>1798</td><td></td><td></td><td></td><td></td><td class="s">        my @idx_names  = map { uc($_) } keys %$idx_hash;</td></tr>
<tr><td class="h"><a name="1799"></a>1799</td><td></td><td></td><td></td><td></td><td class="s">        my @idx_values = values %$idx_hash;</td></tr>
<tr><td class="h"><a name="1800"></a>1800</td><td></td><td></td><td></td><td></td><td class="s">        Carp::croak &quot;type_info_all result has $idx_fields keys but &quot;.(@{$ti[0]}).&quot; fields&quot;</td></tr>
<tr><td class="h"><a name="1801"></a>1801</td><td></td><td></td><td></td><td></td><td class="s">                if @ti &amp;&amp; @{$ti[0]} != $idx_fields;</td></tr>
<tr><td class="h"><a name="1802"></a>1802</td><td></td><td></td><td></td><td></td><td class="s">        my @out = map {</td></tr>
<tr><td class="h"><a name="1803"></a>1803</td><td></td><td></td><td></td><td></td><td class="s">            my %h; @h{@idx_names} = @{$_}[ @idx_values ]; \%h;</td></tr>
<tr><td class="h"><a name="1804"></a>1804</td><td></td><td></td><td></td><td></td><td class="s">        } @ti;</td></tr>
<tr><td class="h"><a name="1805"></a>1805</td><td></td><td></td><td></td><td></td><td class="s">        return $out[0] unless wantarray;</td></tr>
<tr><td class="h"><a name="1806"></a>1806</td><td></td><td></td><td></td><td></td><td class="s">        return @out;</td></tr>
<tr><td class="h"><a name="1807"></a>1807</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1808"></a>1808</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1809"></a>1809</td><td></td><td></td><td></td><td></td><td class="s">    sub data_sources {</td></tr>
<tr><td class="h"><a name="1810"></a>1810</td><td></td><td></td><td></td><td></td><td class="s">        my ($dbh, @other) = @_;</td></tr>
<tr><td class="h"><a name="1811"></a>1811</td><td></td><td></td><td></td><td></td><td class="s">        my $drh = $dbh-&gt;{Driver}; # XXX proxy issues?</td></tr>
<tr><td class="h"><a name="1812"></a>1812</td><td></td><td></td><td></td><td></td><td class="s">        return $drh-&gt;data_sources(@other);</td></tr>
<tr><td class="h"><a name="1813"></a>1813</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1814"></a>1814</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1815"></a>1815</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1816"></a>1816</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1817"></a>1817</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1818"></a>1818</td><td class="c3">1</td><td class="c3"><span title="Avg 200ns">200ns</span></td><td></td><td></td><td class="s">{   package                # hide from PAUSE</td></tr>
<tr><td class="h"><a name="1819"></a>1819</td><td></td><td></td><td></td><td></td><td class="s">        DBD::_::st;        # ====== STATEMENT ======</td></tr>
<tr><td class="h"><a name="1820"></a>1820</td><td class="c3">1</td><td class="c2"><span title="Avg 7&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">    @DBD::_::st::ISA = qw(DBD::_::common);</td></tr>
<tr><td class="h"><a name="1821"></a>1821</td><td class="c1">2</td><td class="c0"><span title="Avg 799&micro;s">1.60ms</span></td><td class="c3">2</td><td class="c3">17&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 14&micro;s (11+3) within DBD::_::st::BEGIN@1821 which was called:
#    once (11&micro;s+3&micro;s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#1821">line 1821</a></div></div>    use strict;<div class="calls"><div class="calls_out">    # spent    14&micro;s making 1 call to <a href="DBI-pm-1359-line.html#1821">DBD::_::st::BEGIN@1821</a>
    # spent     3&micro;s making 1 call to <a href="strict-pm-3-line.html#34">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="1822"></a>1822</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1823"></a>1823</td><td></td><td></td><td></td><td></td><td class="s">    sub bind_param { Carp::croak(&quot;Can't bind_param, not implement by driver&quot;) }</td></tr>
<tr><td class="h"><a name="1824"></a>1824</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1825"></a>1825</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1826"></a>1826</td><td></td><td></td><td></td><td></td><td class="s"># ********************************************************</td></tr>
<tr><td class="h"><a name="1827"></a>1827</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1828"></a>1828</td><td></td><td></td><td></td><td></td><td class="s">#        BEGIN ARRAY BINDING</td></tr>
<tr><td class="h"><a name="1829"></a>1829</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1830"></a>1830</td><td></td><td></td><td></td><td></td><td class="s">#        Array binding support for drivers which don't support</td></tr>
<tr><td class="h"><a name="1831"></a>1831</td><td></td><td></td><td></td><td></td><td class="s">#        array binding, but have sufficient interfaces to fake it.</td></tr>
<tr><td class="h"><a name="1832"></a>1832</td><td></td><td></td><td></td><td></td><td class="s">#        NOTE: mixing scalars and arrayrefs requires using bind_param_array</td></tr>
<tr><td class="h"><a name="1833"></a>1833</td><td></td><td></td><td></td><td></td><td class="s">#        for *all* params...unless we modify bind_param for the default</td></tr>
<tr><td class="h"><a name="1834"></a>1834</td><td></td><td></td><td></td><td></td><td class="s">#        case...</td></tr>
<tr><td class="h"><a name="1835"></a>1835</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1836"></a>1836</td><td></td><td></td><td></td><td></td><td class="s">#        2002-Apr-10        D. Arnold</td></tr>
<tr><td class="h"><a name="1837"></a>1837</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1838"></a>1838</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 1.84ms (1.81+29&micro;s) within DBD::_::st::bind_param_array which was called 24 times, avg 77&micro;s/call:
# 24 times (1.81ms+29&micro;s) by DBI::st::bind_param_array at <a href="KiokuDB-Backend-DBI-pm-2149-line.html#481">line 481 of KiokuDB/Backend/DBI.pm</a>, avg 77&micro;s/call</div></div>    sub bind_param_array {</td></tr>
<tr><td class="h"><a name="1839"></a>1839</td><td class="c0">24</td><td class="c1"><span title="Avg 312ns">7&micro;s</span></td><td></td><td></td><td class="s">        my $sth = shift;</td></tr>
<tr><td class="h"><a name="1840"></a>1840</td><td class="c0">24</td><td class="c0"><span title="Avg 708ns">17&micro;s</span></td><td></td><td></td><td class="s">        my ($p_id, $value_array, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1841"></a>1841</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1842"></a>1842</td><td class="c0">24</td><td class="c0"><span title="Avg 792ns">19&micro;s</span></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;Value for parameter $p_id must be a scalar or an arrayref, not a &quot;.ref($value_array))</td></tr>
<tr><td class="h"><a name="1843"></a>1843</td><td></td><td></td><td></td><td></td><td class="s">            if defined $value_array and ref $value_array and ref $value_array ne 'ARRAY';</td></tr>
<tr><td class="h"><a name="1844"></a>1844</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1845"></a>1845</td><td class="c0">24</td><td class="c0"><span title="Avg 3&micro;s">81&micro;s</span></td><td class="c0">24</td><td class="c3">29&micro;s</td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;Can't use named placeholder '$p_id' for non-driver supported bind_param_array&quot;)<div class="calls"><div class="calls_out">        # spent    29&micro;s making 24 calls to <a href="DBI-pm-1359-line.html#DBI__looks_like_number">DBI::looks_like_number</a>, avg 1&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1846"></a>1846</td><td></td><td></td><td></td><td></td><td class="s">            unless DBI::looks_like_number($p_id); # because we rely on execute(@ary) here</td></tr>
<tr><td class="h"><a name="1847"></a>1847</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1848"></a>1848</td><td class="c0">24</td><td class="c3"><span title="Avg 200ns">5&micro;s</span></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;Placeholder '$p_id' is out of range&quot;)</td></tr>
<tr><td class="h"><a name="1849"></a>1849</td><td></td><td></td><td></td><td></td><td class="s">            if $p_id &lt;= 0; # can't easily/reliably test for too big</td></tr>
<tr><td class="h"><a name="1850"></a>1850</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1851"></a>1851</td><td></td><td></td><td></td><td></td><td class="s">        # get/create arrayref to hold params</td></tr>
<tr><td class="h"><a name="1852"></a>1852</td><td class="c0">24</td><td class="c0"><span title="Avg 558ns">13&micro;s</span></td><td></td><td></td><td class="s">        my $hash_of_arrays = $sth-&gt;{ParamArrays} ||= { };</td></tr>
<tr><td class="h"><a name="1853"></a>1853</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1854"></a>1854</td><td></td><td></td><td></td><td></td><td class="s">        # If the bind has attribs then we rely on the driver conforming to</td></tr>
<tr><td class="h"><a name="1855"></a>1855</td><td></td><td></td><td></td><td></td><td class="s">        # the DBI spec in that a single bind_param() call with those attribs</td></tr>
<tr><td class="h"><a name="1856"></a>1856</td><td></td><td></td><td></td><td></td><td class="s">        # makes them 'sticky' and apply to all later execute(@values) calls.</td></tr>
<tr><td class="h"><a name="1857"></a>1857</td><td></td><td></td><td></td><td></td><td class="s">        # Since we only call bind_param() if we're given attribs then</td></tr>
<tr><td class="h"><a name="1858"></a>1858</td><td></td><td></td><td></td><td></td><td class="s">        # applications using drivers that don't support bind_param can still</td></tr>
<tr><td class="h"><a name="1859"></a>1859</td><td></td><td></td><td></td><td></td><td class="s">        # use bind_param_array() so long as they don't pass any attribs.</td></tr>
<tr><td class="h"><a name="1860"></a>1860</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1861"></a>1861</td><td class="c0">24</td><td class="c0"><span title="Avg 68&micro;s">1.64ms</span></td><td></td><td></td><td class="s">        $$hash_of_arrays{$p_id} = $value_array;</td></tr>
<tr><td class="h"><a name="1862"></a>1862</td><td class="c0">24</td><td class="c3"><span title="Avg 179ns">4&micro;s</span></td><td></td><td></td><td class="s">        return $sth-&gt;bind_param($p_id, undef, $attr)</td></tr>
<tr><td class="h"><a name="1863"></a>1863</td><td></td><td></td><td></td><td></td><td class="s">                if $attr;</td></tr>
<tr><td class="h"><a name="1864"></a>1864</td><td class="c0">24</td><td class="c0"><span title="Avg 3&micro;s">68&micro;s</span></td><td></td><td></td><td class="s">        1;</td></tr>
<tr><td class="h"><a name="1865"></a>1865</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1866"></a>1866</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1867"></a>1867</td><td></td><td></td><td></td><td></td><td class="s">    sub bind_param_inout_array {</td></tr>
<tr><td class="h"><a name="1868"></a>1868</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = shift;</td></tr>
<tr><td class="h"><a name="1869"></a>1869</td><td></td><td></td><td></td><td></td><td class="s">        # XXX not supported so we just call bind_param_array instead</td></tr>
<tr><td class="h"><a name="1870"></a>1870</td><td></td><td></td><td></td><td></td><td class="s">        # and then return an error</td></tr>
<tr><td class="h"><a name="1871"></a>1871</td><td></td><td></td><td></td><td></td><td class="s">        my ($p_num, $value_array, $attr) = @_;</td></tr>
<tr><td class="h"><a name="1872"></a>1872</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;bind_param_array($p_num, $value_array, $attr);</td></tr>
<tr><td class="h"><a name="1873"></a>1873</td><td></td><td></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;bind_param_inout_array not supported&quot;);</td></tr>
<tr><td class="h"><a name="1874"></a>1874</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1875"></a>1875</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1876"></a>1876</td><td></td><td></td><td></td><td></td><td class="s">    sub bind_columns {</td></tr>
<tr><td class="h"><a name="1877"></a>1877</td><td></td><td></td><td></td><td></td><td class="s">        my $sth = shift;</td></tr>
<tr><td class="h"><a name="1878"></a>1878</td><td></td><td></td><td></td><td></td><td class="s">        my $fields = $sth-&gt;FETCH('NUM_OF_FIELDS') || 0;</td></tr>
<tr><td class="h"><a name="1879"></a>1879</td><td></td><td></td><td></td><td></td><td class="s">        if ($fields &lt;= 0 &amp;&amp; !$sth-&gt;{Active}) {</td></tr>
<tr><td class="h"><a name="1880"></a>1880</td><td></td><td></td><td></td><td></td><td class="s">            return $sth-&gt;set_err($DBI::stderr, &quot;Statement has no result columns to bind&quot;</td></tr>
<tr><td class="h"><a name="1881"></a>1881</td><td></td><td></td><td></td><td></td><td class="s">                    .&quot; (perhaps you need to successfully call execute first)&quot;);</td></tr>
<tr><td class="h"><a name="1882"></a>1882</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1883"></a>1883</td><td></td><td></td><td></td><td></td><td class="s">        # Backwards compatibility for old-style call with attribute hash</td></tr>
<tr><td class="h"><a name="1884"></a>1884</td><td></td><td></td><td></td><td></td><td class="s">        # ref as first arg. Skip arg if undef or a hash ref.</td></tr>
<tr><td class="h"><a name="1885"></a>1885</td><td></td><td></td><td></td><td></td><td class="s">        my $attr;</td></tr>
<tr><td class="h"><a name="1886"></a>1886</td><td></td><td></td><td></td><td></td><td class="s">        $attr = shift if !defined $_[0] or ref($_[0]) eq 'HASH';</td></tr>
<tr><td class="h"><a name="1887"></a>1887</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1888"></a>1888</td><td></td><td></td><td></td><td></td><td class="s">        my $idx = 0;</td></tr>
<tr><td class="h"><a name="1889"></a>1889</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;bind_col(++$idx, shift, $attr) or return</td></tr>
<tr><td class="h"><a name="1890"></a>1890</td><td></td><td></td><td></td><td></td><td class="s">            while (@_ and $idx &lt; $fields);</td></tr>
<tr><td class="h"><a name="1891"></a>1891</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1892"></a>1892</td><td></td><td></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;bind_columns called with &quot;.($idx+@_).&quot; values but $fields are needed&quot;)</td></tr>
<tr><td class="h"><a name="1893"></a>1893</td><td></td><td></td><td></td><td></td><td class="s">            if @_ or $idx != $fields;</td></tr>
<tr><td class="h"><a name="1894"></a>1894</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1895"></a>1895</td><td></td><td></td><td></td><td></td><td class="s">        return 1;</td></tr>
<tr><td class="h"><a name="1896"></a>1896</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1897"></a>1897</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1898"></a>1898</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 573ms (219&micro;s+573) within DBD::_::st::execute_array which was called 4 times, avg 143ms/call:
# 4 times (219&micro;s+573ms) by DBI::st::execute_array at <a href="KiokuDB-Backend-DBI-pm-2149-line.html#486">line 486 of KiokuDB/Backend/DBI.pm</a>, avg 143ms/call</div></div>    sub execute_array {</td></tr>
<tr><td class="h"><a name="1899"></a>1899</td><td class="c0">4</td><td class="c3"><span title="Avg 325ns">1&micro;s</span></td><td></td><td></td><td class="s">        my $sth = shift;</td></tr>
<tr><td class="h"><a name="1900"></a>1900</td><td class="c0">4</td><td class="c3"><span title="Avg 875ns">4&micro;s</span></td><td></td><td></td><td class="s">        my ($attr, @array_of_arrays) = @_;</td></tr>
<tr><td class="h"><a name="1901"></a>1901</td><td class="c0">4</td><td class="c0"><span title="Avg 9&micro;s">36&micro;s</span></td><td class="c0">4</td><td class="c3">20&micro;s</td><td class="s">        my $NUM_OF_PARAMS = $sth-&gt;FETCH('NUM_OF_PARAMS'); # may be undef at this point<div class="calls"><div class="calls_out">        # spent    20&micro;s making 4 calls to <a href="script-nytprof-pl-1-line.html#DBI__common__FETCH">DBI::common::FETCH</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1902"></a>1902</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1903"></a>1903</td><td></td><td></td><td></td><td></td><td class="s">        # get tuple status array or hash attribute</td></tr>
<tr><td class="h"><a name="1904"></a>1904</td><td class="c0">4</td><td class="c3"><span title="Avg 425ns">2&micro;s</span></td><td></td><td></td><td class="s">        my $tuple_sts = $attr-&gt;{ArrayTupleStatus};</td></tr>
<tr><td class="h"><a name="1905"></a>1905</td><td class="c0">4</td><td class="c3"><span title="Avg 775ns">3&micro;s</span></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;ArrayTupleStatus attribute must be an arrayref&quot;)</td></tr>
<tr><td class="h"><a name="1906"></a>1906</td><td></td><td></td><td></td><td></td><td class="s">                if $tuple_sts and ref $tuple_sts ne 'ARRAY';</td></tr>
<tr><td class="h"><a name="1907"></a>1907</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1908"></a>1908</td><td></td><td></td><td></td><td></td><td class="s">        # bind all supplied arrays</td></tr>
<tr><td class="h"><a name="1909"></a>1909</td><td class="c0">4</td><td class="c3"><span title="Avg 375ns">1&micro;s</span></td><td></td><td></td><td class="s">        if (@array_of_arrays) {</td></tr>
<tr><td class="h"><a name="1910"></a>1910</td><td></td><td></td><td></td><td></td><td class="s">            $sth-&gt;{ParamArrays} = { };        # clear out old params</td></tr>
<tr><td class="h"><a name="1911"></a>1911</td><td></td><td></td><td></td><td></td><td class="s">            return $sth-&gt;set_err($DBI::stderr,</td></tr>
<tr><td class="h"><a name="1912"></a>1912</td><td></td><td></td><td></td><td></td><td class="s">                    @array_of_arrays.&quot; bind values supplied but $NUM_OF_PARAMS expected&quot;)</td></tr>
<tr><td class="h"><a name="1913"></a>1913</td><td></td><td></td><td></td><td></td><td class="s">                if defined ($NUM_OF_PARAMS) &amp;&amp; @array_of_arrays != $NUM_OF_PARAMS;</td></tr>
<tr><td class="h"><a name="1914"></a>1914</td><td></td><td></td><td></td><td></td><td class="s">            $sth-&gt;bind_param_array($_, $array_of_arrays[$_-1]) or return</td></tr>
<tr><td class="h"><a name="1915"></a>1915</td><td></td><td></td><td></td><td></td><td class="s">                foreach (1..@array_of_arrays);</td></tr>
<tr><td class="h"><a name="1916"></a>1916</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1917"></a>1917</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1918"></a>1918</td><td class="c0">4</td><td class="c3"><span title="Avg 225ns">900ns</span></td><td></td><td></td><td class="s">        my $fetch_tuple_sub;</td></tr>
<tr><td class="h"><a name="1919"></a>1919</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1920"></a>1920</td><td class="c0">4</td><td class="c3"><span title="Avg 850ns">3&micro;s</span></td><td></td><td></td><td class="s">        if ($fetch_tuple_sub = $attr-&gt;{ArrayTupleFetch}) {        # fetch on demand</td></tr>
<tr><td class="h"><a name="1921"></a>1921</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1922"></a>1922</td><td></td><td></td><td></td><td></td><td class="s">            return $sth-&gt;set_err($DBI::stderr,</td></tr>
<tr><td class="h"><a name="1923"></a>1923</td><td></td><td></td><td></td><td></td><td class="s">                    &quot;Can't use both ArrayTupleFetch and explicit bind values&quot;)</td></tr>
<tr><td class="h"><a name="1924"></a>1924</td><td></td><td></td><td></td><td></td><td class="s">                if @array_of_arrays; # previous bind_param_array calls will simply be ignored</td></tr>
<tr><td class="h"><a name="1925"></a>1925</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1926"></a>1926</td><td></td><td></td><td></td><td></td><td class="s">            if (UNIVERSAL::isa($fetch_tuple_sub,'DBI::st')) {</td></tr>
<tr><td class="h"><a name="1927"></a>1927</td><td></td><td></td><td></td><td></td><td class="s">                my $fetch_sth = $fetch_tuple_sub;</td></tr>
<tr><td class="h"><a name="1928"></a>1928</td><td></td><td></td><td></td><td></td><td class="s">                return $sth-&gt;set_err($DBI::stderr,</td></tr>
<tr><td class="h"><a name="1929"></a>1929</td><td></td><td></td><td></td><td></td><td class="s">                        &quot;ArrayTupleFetch sth is not Active, need to execute() it first&quot;)</td></tr>
<tr><td class="h"><a name="1930"></a>1930</td><td></td><td></td><td></td><td></td><td class="s">                    unless $fetch_sth-&gt;{Active};</td></tr>
<tr><td class="h"><a name="1931"></a>1931</td><td></td><td></td><td></td><td></td><td class="s">                # check column count match to give more friendly message</td></tr>
<tr><td class="h"><a name="1932"></a>1932</td><td></td><td></td><td></td><td></td><td class="s">                my $NUM_OF_FIELDS = $fetch_sth-&gt;{NUM_OF_FIELDS};</td></tr>
<tr><td class="h"><a name="1933"></a>1933</td><td></td><td></td><td></td><td></td><td class="s">                return $sth-&gt;set_err($DBI::stderr,</td></tr>
<tr><td class="h"><a name="1934"></a>1934</td><td></td><td></td><td></td><td></td><td class="s">                        &quot;$NUM_OF_FIELDS columns from ArrayTupleFetch sth but $NUM_OF_PARAMS expected&quot;)</td></tr>
<tr><td class="h"><a name="1935"></a>1935</td><td></td><td></td><td></td><td></td><td class="s">                    if defined($NUM_OF_FIELDS) &amp;&amp; defined($NUM_OF_PARAMS)</td></tr>
<tr><td class="h"><a name="1936"></a>1936</td><td></td><td></td><td></td><td></td><td class="s">                    &amp;&amp; $NUM_OF_FIELDS != $NUM_OF_PARAMS;</td></tr>
<tr><td class="h"><a name="1937"></a>1937</td><td></td><td></td><td></td><td></td><td class="s">                $fetch_tuple_sub = sub { $fetch_sth-&gt;fetchrow_arrayref };</td></tr>
<tr><td class="h"><a name="1938"></a>1938</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1939"></a>1939</td><td></td><td></td><td></td><td></td><td class="s">            elsif (!UNIVERSAL::isa($fetch_tuple_sub,'CODE')) {</td></tr>
<tr><td class="h"><a name="1940"></a>1940</td><td></td><td></td><td></td><td></td><td class="s">                return $sth-&gt;set_err($DBI::stderr, &quot;ArrayTupleFetch '$fetch_tuple_sub' is not a code ref or statement handle&quot;);</td></tr>
<tr><td class="h"><a name="1941"></a>1941</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1942"></a>1942</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1943"></a>1943</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1944"></a>1944</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="1945"></a>1945</td><td class="c0">4</td><td class="c0"><span title="Avg 3&micro;s">12&micro;s</span></td><td></td><td></td><td class="s">            my $NUM_OF_PARAMS_given = keys %{ $sth-&gt;{ParamArrays} || {} };</td></tr>
<tr><td class="h"><a name="1946"></a>1946</td><td class="c0">4</td><td class="c3"><span title="Avg 600ns">2&micro;s</span></td><td></td><td></td><td class="s">            return $sth-&gt;set_err($DBI::stderr,</td></tr>
<tr><td class="h"><a name="1947"></a>1947</td><td></td><td></td><td></td><td></td><td class="s">                    &quot;$NUM_OF_PARAMS_given bind values supplied but $NUM_OF_PARAMS expected&quot;)</td></tr>
<tr><td class="h"><a name="1948"></a>1948</td><td></td><td></td><td></td><td></td><td class="s">                if defined($NUM_OF_PARAMS) &amp;&amp; $NUM_OF_PARAMS != $NUM_OF_PARAMS_given;</td></tr>
<tr><td class="h"><a name="1949"></a>1949</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1950"></a>1950</td><td></td><td></td><td></td><td></td><td class="s">            # get the length of a bound array</td></tr>
<tr><td class="h"><a name="1951"></a>1951</td><td class="c0">4</td><td class="c3"><span title="Avg 125ns">500ns</span></td><td></td><td></td><td class="s">            my $maxlen;</td></tr>
<tr><td class="h"><a name="1952"></a>1952</td><td class="c0">4</td><td class="c0"><span title="Avg 5&micro;s">19&micro;s</span></td><td></td><td></td><td class="s">            my %hash_of_arrays = %{$sth-&gt;{ParamArrays}};</td></tr>
<tr><td class="h"><a name="1953"></a>1953</td><td class="c0">4</td><td class="c0"><span title="Avg 3&micro;s">13&micro;s</span></td><td></td><td></td><td class="s">            foreach (keys(%hash_of_arrays)) {</td></tr>
<tr><td class="h"><a name="1954"></a>1954</td><td class="c0">24</td><td class="c3"><span title="Avg 208ns">5&micro;s</span></td><td></td><td></td><td class="s">                my $ary = $hash_of_arrays{$_};</td></tr>
<tr><td class="h"><a name="1955"></a>1955</td><td class="c0">24</td><td class="c3"><span title="Avg 187ns">4&micro;s</span></td><td></td><td></td><td class="s">                next unless ref $ary eq 'ARRAY';</td></tr>
<tr><td class="h"><a name="1956"></a>1956</td><td class="c0">24</td><td class="c0"><span title="Avg 508ns">12&micro;s</span></td><td></td><td></td><td class="s">                $maxlen = @$ary if !$maxlen || @$ary &gt; $maxlen;</td></tr>
<tr><td class="h"><a name="1957"></a>1957</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1958"></a>1958</td><td></td><td></td><td></td><td></td><td class="s">            # if there are no arrays then execute scalars once</td></tr>
<tr><td class="h"><a name="1959"></a>1959</td><td class="c0">4</td><td class="c3"><span title="Avg 200ns">800ns</span></td><td></td><td></td><td class="s">            $maxlen = 1 unless defined $maxlen;</td></tr>
<tr><td class="h"><a name="1960"></a>1960</td><td class="c0">4</td><td class="c0"><span title="Avg 3&micro;s">11&micro;s</span></td><td></td><td></td><td class="s">            my @bind_ids = 1..keys(%hash_of_arrays);</td></tr>
<tr><td class="h"><a name="1961"></a>1961</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1962"></a>1962</td><td class="c0">4</td><td class="c3"><span title="Avg 300ns">1&micro;s</span></td><td></td><td></td><td class="s">            my $tuple_idx = 0;</td></tr>
<tr><td class="h"><a name="1963"></a>1963</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 31.7ms within DBD::_::st::__ANON__[/Users/edenc/perl5/lib/perl5/darwin-multi-2level/DBI.pm:1971] which was called 2330 times, avg 14&micro;s/call:
# 2330 times (31.7ms+0s) by DBD::_::st::execute_for_fetch at <a href="DBI-pm-1359-line.html#1984">line 1984</a>, avg 14&micro;s/call</div></div>            $fetch_tuple_sub = sub {</td></tr>
<tr><td class="h"><a name="1964"></a>1964</td><td class="c0">2330</td><td class="c0"><span title="Avg 125ns">291&micro;s</span></td><td></td><td></td><td class="s">                return if $tuple_idx &gt;= $maxlen;</td></tr>
<tr><td class="h"><a name="1965"></a>1965</td><td class="c0">13956</td><td class="c0"><span title="Avg 275ns">3.84ms</span></td><td></td><td></td><td class="s">                my @tuple = map {</td></tr>
<tr><td class="h"><a name="1966"></a>1966</td><td class="c0">2326</td><td class="c0"><span title="Avg 3&micro;s">6.65ms</span></td><td></td><td></td><td class="s">                    my $a = $hash_of_arrays{$_};</td></tr>
<tr><td class="h"><a name="1967"></a>1967</td><td class="c0">13956</td><td class="c0"><span title="Avg 799ns">11.1ms</span></td><td></td><td></td><td class="s">                    ref($a) ? $a-&gt;[$tuple_idx] : $a</td></tr>
<tr><td class="h"><a name="1968"></a>1968</td><td></td><td></td><td></td><td></td><td class="s">                } @bind_ids;</td></tr>
<tr><td class="h"><a name="1969"></a>1969</td><td class="c0">2326</td><td class="c0"><span title="Avg 86ns">201&micro;s</span></td><td></td><td></td><td class="s">                ++$tuple_idx;</td></tr>
<tr><td class="h"><a name="1970"></a>1970</td><td class="c0">2326</td><td class="c0"><span title="Avg 3&micro;s">6.28ms</span></td><td></td><td></td><td class="s">                return \@tuple;</td></tr>
<tr><td class="h"><a name="1971"></a>1971</td><td class="c0">4</td><td class="c0"><span title="Avg 8&micro;s">33&micro;s</span></td><td></td><td></td><td class="s">            };</td></tr>
<tr><td class="h"><a name="1972"></a>1972</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1973"></a>1973</td><td></td><td></td><td></td><td></td><td class="s">        # pass thru the callers scalar or list context</td></tr>
<tr><td class="h"><a name="1974"></a>1974</td><td class="c0">4</td><td class="c0"><span title="Avg 22&micro;s">89&micro;s</span></td><td class="c0">8</td><td class="c0">1.15s</td><td class="s">        return $sth-&gt;execute_for_fetch($fetch_tuple_sub, $tuple_sts);<div class="calls"><div class="calls_out">        # spent   573ms making 4 calls to <a href="script-nytprof-pl-1-line.html#DBI__st__execute_for_fetch">DBI::st::execute_for_fetch</a>, avg 143ms/call
        # spent   573ms making 4 calls to <a href="DBI-pm-1359-line.html#1977">DBD::_::st::execute_for_fetch</a>, avg 143ms/call</div></div></td></tr>
<tr><td class="h"><a name="1975"></a>1975</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1976"></a>1976</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1977"></a>1977</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 573ms (21.0+552) within DBD::_::st::execute_for_fetch which was called 4 times, avg 143ms/call:
# 4 times (21.0ms+552ms) by DBI::st::execute_for_fetch at <a href="DBI-pm-1359-line.html#1974">line 1974</a>, avg 143ms/call</div></div>    sub execute_for_fetch {</td></tr>
<tr><td class="h"><a name="1978"></a>1978</td><td class="c0">4</td><td class="c3"><span title="Avg 925ns">4&micro;s</span></td><td></td><td></td><td class="s">        my ($sth, $fetch_tuple_sub, $tuple_status) = @_;</td></tr>
<tr><td class="h"><a name="1979"></a>1979</td><td></td><td></td><td></td><td></td><td class="s">        # start with empty status array</td></tr>
<tr><td class="h"><a name="1980"></a>1980</td><td class="c0">4</td><td class="c2"><span title="Avg 1&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">        ($tuple_status) ? @$tuple_status = () : $tuple_status = [];</td></tr>
<tr><td class="h"><a name="1981"></a>1981</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1982"></a>1982</td><td class="c0">4</td><td class="c3"><span title="Avg 200ns">800ns</span></td><td></td><td></td><td class="s">        my $rc_total = 0;</td></tr>
<tr><td class="h"><a name="1983"></a>1983</td><td class="c0">4</td><td class="c3"><span title="Avg 150ns">600ns</span></td><td></td><td></td><td class="s">        my $err_count;</td></tr>
<tr><td class="h"><a name="1984"></a>1984</td><td class="c0">4</td><td class="c0"><span title="Avg 1.56ms">6.23ms</span></td><td class="c0">2330</td><td class="c0">31.7ms</td><td class="s">        while ( my $tuple = &amp;$fetch_tuple_sub() ) {<div class="calls"><div class="calls_out">        # spent  31.7ms making 2330 calls to <a href="DBI-pm-1359-line.html#1963">DBD::_::st::__ANON__[DBI.pm:1971]</a>, avg 14&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1985"></a>1985</td><td class="c0">2326</td><td class="c0"><span title="Avg 227&micro;s">529ms</span></td><td class="c0">2326</td><td class="c0">520ms</td><td class="s">            if ( my $rc = $sth-&gt;execute(@$tuple) ) {<div class="calls"><div class="calls_out">            # spent   520ms making 2326 calls to <a href="script-nytprof-pl-1-line.html#DBI__st__execute">DBI::st::execute</a>, avg 224&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="1986"></a>1986</td><td class="c0">2326</td><td class="c0"><span title="Avg 381ns">886&micro;s</span></td><td></td><td></td><td class="s">                push @$tuple_status, $rc;</td></tr>
<tr><td class="h"><a name="1987"></a>1987</td><td class="c0">2326</td><td class="c0"><span title="Avg 600ns">1.40ms</span></td><td></td><td></td><td class="s">                $rc_total = ($rc &gt;= 0 &amp;&amp; $rc_total &gt;= 0) ? $rc_total + $rc : -1;</td></tr>
<tr><td class="h"><a name="1988"></a>1988</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1989"></a>1989</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="1990"></a>1990</td><td></td><td></td><td></td><td></td><td class="s">                $err_count++;</td></tr>
<tr><td class="h"><a name="1991"></a>1991</td><td></td><td></td><td></td><td></td><td class="s">                push @$tuple_status, [ $sth-&gt;err, $sth-&gt;errstr, $sth-&gt;state ];</td></tr>
<tr><td class="h"><a name="1992"></a>1992</td><td></td><td></td><td></td><td></td><td class="s">                # XXX drivers implementing execute_for_fetch could opt to &quot;last;&quot; here</td></tr>
<tr><td class="h"><a name="1993"></a>1993</td><td></td><td></td><td></td><td></td><td class="s">                # if they know the error code means no further executes will work.</td></tr>
<tr><td class="h"><a name="1994"></a>1994</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="1995"></a>1995</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1996"></a>1996</td><td class="c0">4</td><td class="c3"><span title="Avg 1&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        my $tuples = @$tuple_status;</td></tr>
<tr><td class="h"><a name="1997"></a>1997</td><td class="c0">4</td><td class="c3"><span title="Avg 175ns">700ns</span></td><td></td><td></td><td class="s">        return $sth-&gt;set_err($DBI::stderr, &quot;executing $tuples generated $err_count errors&quot;)</td></tr>
<tr><td class="h"><a name="1998"></a>1998</td><td></td><td></td><td></td><td></td><td class="s">            if $err_count;</td></tr>
<tr><td class="h"><a name="1999"></a>1999</td><td class="c0">4</td><td class="c3"><span title="Avg 350ns">1&micro;s</span></td><td></td><td></td><td class="s">        $tuples ||= &quot;0E0&quot;;</td></tr>
<tr><td class="h"><a name="2000"></a>2000</td><td class="c0">4</td><td class="c0"><span title="Avg 4&micro;s">18&micro;s</span></td><td></td><td></td><td class="s">        return $tuples unless wantarray;</td></tr>
<tr><td class="h"><a name="2001"></a>2001</td><td></td><td></td><td></td><td></td><td class="s">        return ($tuples, $rc_total);</td></tr>
<tr><td class="h"><a name="2002"></a>2002</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="2003"></a>2003</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2004"></a>2004</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2005"></a>2005</td><td></td><td></td><td></td><td></td><td class="s">    sub fetchall_arrayref {        # ALSO IN Driver.xst</td></tr>
<tr><td class="h"><a name="2006"></a>2006</td><td></td><td></td><td></td><td></td><td class="s">        my ($sth, $slice, $max_rows) = @_;</td></tr>
<tr><td class="h"><a name="2007"></a>2007</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2008"></a>2008</td><td></td><td></td><td></td><td></td><td class="s">        # when batch fetching with $max_rows were very likely to try to</td></tr>
<tr><td class="h"><a name="2009"></a>2009</td><td></td><td></td><td></td><td></td><td class="s">        # fetch the 'next batch' after the previous batch returned</td></tr>
<tr><td class="h"><a name="2010"></a>2010</td><td></td><td></td><td></td><td></td><td class="s">        # &lt;=$max_rows. So don't treat that as an error.</td></tr>
<tr><td class="h"><a name="2011"></a>2011</td><td></td><td></td><td></td><td></td><td class="s">        return undef if $max_rows and not $sth-&gt;FETCH('Active');</td></tr>
<tr><td class="h"><a name="2012"></a>2012</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2013"></a>2013</td><td></td><td></td><td></td><td></td><td class="s">        my $mode = ref($slice) || 'ARRAY';</td></tr>
<tr><td class="h"><a name="2014"></a>2014</td><td></td><td></td><td></td><td></td><td class="s">        my @rows;</td></tr>
<tr><td class="h"><a name="2015"></a>2015</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2016"></a>2016</td><td></td><td></td><td></td><td></td><td class="s">        if ($mode eq 'ARRAY') {</td></tr>
<tr><td class="h"><a name="2017"></a>2017</td><td></td><td></td><td></td><td></td><td class="s">            my $row;</td></tr>
<tr><td class="h"><a name="2018"></a>2018</td><td></td><td></td><td></td><td></td><td class="s">            # we copy the array here because fetch (currently) always</td></tr>
<tr><td class="h"><a name="2019"></a>2019</td><td></td><td></td><td></td><td></td><td class="s">            # returns the same array ref. XXX</td></tr>
<tr><td class="h"><a name="2020"></a>2020</td><td></td><td></td><td></td><td></td><td class="s">            if ($slice &amp;&amp; @$slice) {</td></tr>
<tr><td class="h"><a name="2021"></a>2021</td><td></td><td></td><td></td><td></td><td class="s">                $max_rows = -1 unless defined $max_rows;</td></tr>
<tr><td class="h"><a name="2022"></a>2022</td><td></td><td></td><td></td><td></td><td class="s">                push @rows, [ @{$row}[ @$slice] ]</td></tr>
<tr><td class="h"><a name="2023"></a>2023</td><td></td><td></td><td></td><td></td><td class="s">                    while($max_rows-- and $row = $sth-&gt;fetch);</td></tr>
<tr><td class="h"><a name="2024"></a>2024</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2025"></a>2025</td><td></td><td></td><td></td><td></td><td class="s">            elsif (defined $max_rows) {</td></tr>
<tr><td class="h"><a name="2026"></a>2026</td><td></td><td></td><td></td><td></td><td class="s">                push @rows, [ @$row ]</td></tr>
<tr><td class="h"><a name="2027"></a>2027</td><td></td><td></td><td></td><td></td><td class="s">                    while($max_rows-- and $row = $sth-&gt;fetch);</td></tr>
<tr><td class="h"><a name="2028"></a>2028</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2029"></a>2029</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="2030"></a>2030</td><td></td><td></td><td></td><td></td><td class="s">                push @rows, [ @$row ] while($row = $sth-&gt;fetch);</td></tr>
<tr><td class="h"><a name="2031"></a>2031</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2032"></a>2032</td><td></td><td></td><td></td><td></td><td class="s">            return \@rows</td></tr>
<tr><td class="h"><a name="2033"></a>2033</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2034"></a>2034</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2035"></a>2035</td><td></td><td></td><td></td><td></td><td class="s">        my %row;</td></tr>
<tr><td class="h"><a name="2036"></a>2036</td><td></td><td></td><td></td><td></td><td class="s">        if ($mode eq 'REF' &amp;&amp; ref($$slice) eq 'HASH') { # \{ $idx =&gt; $name }</td></tr>
<tr><td class="h"><a name="2037"></a>2037</td><td></td><td></td><td></td><td></td><td class="s">            keys %$$slice; # reset the iterator</td></tr>
<tr><td class="h"><a name="2038"></a>2038</td><td></td><td></td><td></td><td></td><td class="s">            while ( my ($idx, $name) = each %$$slice ) {</td></tr>
<tr><td class="h"><a name="2039"></a>2039</td><td></td><td></td><td></td><td></td><td class="s">                $sth-&gt;bind_col($idx+1, \$row{$name});</td></tr>
<tr><td class="h"><a name="2040"></a>2040</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2041"></a>2041</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2042"></a>2042</td><td></td><td></td><td></td><td></td><td class="s">        elsif ($mode eq 'HASH') {</td></tr>
<tr><td class="h"><a name="2043"></a>2043</td><td></td><td></td><td></td><td></td><td class="s">            if (keys %$slice) {</td></tr>
<tr><td class="h"><a name="2044"></a>2044</td><td></td><td></td><td></td><td></td><td class="s">                keys %$slice; # reset the iterator</td></tr>
<tr><td class="h"><a name="2045"></a>2045</td><td></td><td></td><td></td><td></td><td class="s">                my $name2idx = $sth-&gt;FETCH('NAME_lc_hash');</td></tr>
<tr><td class="h"><a name="2046"></a>2046</td><td></td><td></td><td></td><td></td><td class="s">                while ( my ($name, $unused) = each %$slice ) {</td></tr>
<tr><td class="h"><a name="2047"></a>2047</td><td></td><td></td><td></td><td></td><td class="s">                    my $idx = $name2idx-&gt;{lc $name};</td></tr>
<tr><td class="h"><a name="2048"></a>2048</td><td></td><td></td><td></td><td></td><td class="s">                    return $sth-&gt;set_err($DBI::stderr, &quot;Invalid column name '$name' for slice&quot;)</td></tr>
<tr><td class="h"><a name="2049"></a>2049</td><td></td><td></td><td></td><td></td><td class="s">                        if not defined $idx;</td></tr>
<tr><td class="h"><a name="2050"></a>2050</td><td></td><td></td><td></td><td></td><td class="s">                    $sth-&gt;bind_col($idx+1, \$row{$name});</td></tr>
<tr><td class="h"><a name="2051"></a>2051</td><td></td><td></td><td></td><td></td><td class="s">                }</td></tr>
<tr><td class="h"><a name="2052"></a>2052</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2053"></a>2053</td><td></td><td></td><td></td><td></td><td class="s">            else {</td></tr>
<tr><td class="h"><a name="2054"></a>2054</td><td></td><td></td><td></td><td></td><td class="s">                $sth-&gt;bind_columns( \( @row{ @{$sth-&gt;FETCH($sth-&gt;FETCH('FetchHashKeyName')) } } ) );</td></tr>
<tr><td class="h"><a name="2055"></a>2055</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="2056"></a>2056</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2057"></a>2057</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="2058"></a>2058</td><td></td><td></td><td></td><td></td><td class="s">            return $sth-&gt;set_err($DBI::stderr, &quot;fetchall_arrayref($mode) invalid&quot;);</td></tr>
<tr><td class="h"><a name="2059"></a>2059</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2060"></a>2060</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2061"></a>2061</td><td></td><td></td><td></td><td></td><td class="s">        if (not defined $max_rows) {</td></tr>
<tr><td class="h"><a name="2062"></a>2062</td><td></td><td></td><td></td><td></td><td class="s">            push @rows, { %row } while ($sth-&gt;fetch); # full speed ahead!</td></tr>
<tr><td class="h"><a name="2063"></a>2063</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2064"></a>2064</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="2065"></a>2065</td><td></td><td></td><td></td><td></td><td class="s">            push @rows, { %row } while ($max_rows-- and $sth-&gt;fetch);</td></tr>
<tr><td class="h"><a name="2066"></a>2066</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2067"></a>2067</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2068"></a>2068</td><td></td><td></td><td></td><td></td><td class="s">        return \@rows;</td></tr>
<tr><td class="h"><a name="2069"></a>2069</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="2070"></a>2070</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2071"></a>2071</td><td></td><td></td><td></td><td></td><td class="s">    sub fetchall_hashref {</td></tr>
<tr><td class="h"><a name="2072"></a>2072</td><td></td><td></td><td></td><td></td><td class="s">        my ($sth, $key_field) = @_;</td></tr>
<tr><td class="h"><a name="2073"></a>2073</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2074"></a>2074</td><td></td><td></td><td></td><td></td><td class="s">        my $hash_key_name = $sth-&gt;{FetchHashKeyName} || 'NAME';</td></tr>
<tr><td class="h"><a name="2075"></a>2075</td><td></td><td></td><td></td><td></td><td class="s">        my $names_hash = $sth-&gt;FETCH(&quot;${hash_key_name}_hash&quot;);</td></tr>
<tr><td class="h"><a name="2076"></a>2076</td><td></td><td></td><td></td><td></td><td class="s">        my @key_fields = (ref $key_field) ? @$key_field : ($key_field);</td></tr>
<tr><td class="h"><a name="2077"></a>2077</td><td></td><td></td><td></td><td></td><td class="s">        my @key_indexes;</td></tr>
<tr><td class="h"><a name="2078"></a>2078</td><td></td><td></td><td></td><td></td><td class="s">        my $num_of_fields = $sth-&gt;FETCH('NUM_OF_FIELDS');</td></tr>
<tr><td class="h"><a name="2079"></a>2079</td><td></td><td></td><td></td><td></td><td class="s">        foreach (@key_fields) {</td></tr>
<tr><td class="h"><a name="2080"></a>2080</td><td></td><td></td><td></td><td></td><td class="s">           my $index = $names_hash-&gt;{$_};  # perl index not column</td></tr>
<tr><td class="h"><a name="2081"></a>2081</td><td></td><td></td><td></td><td></td><td class="s">           $index = $_ - 1 if !defined $index &amp;&amp; DBI::looks_like_number($_) &amp;&amp; $_&gt;=1 &amp;&amp; $_ &lt;= $num_of_fields;</td></tr>
<tr><td class="h"><a name="2082"></a>2082</td><td></td><td></td><td></td><td></td><td class="s">           return $sth-&gt;set_err($DBI::stderr, &quot;Field '$_' does not exist (not one of @{[keys %$names_hash]})&quot;)</td></tr>
<tr><td class="h"><a name="2083"></a>2083</td><td></td><td></td><td></td><td></td><td class="s">                unless defined $index;</td></tr>
<tr><td class="h"><a name="2084"></a>2084</td><td></td><td></td><td></td><td></td><td class="s">           push @key_indexes, $index;</td></tr>
<tr><td class="h"><a name="2085"></a>2085</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2086"></a>2086</td><td></td><td></td><td></td><td></td><td class="s">        my $rows = {};</td></tr>
<tr><td class="h"><a name="2087"></a>2087</td><td></td><td></td><td></td><td></td><td class="s">        my $NAME = $sth-&gt;FETCH($hash_key_name);</td></tr>
<tr><td class="h"><a name="2088"></a>2088</td><td></td><td></td><td></td><td></td><td class="s">        my @row = (undef) x $num_of_fields;</td></tr>
<tr><td class="h"><a name="2089"></a>2089</td><td></td><td></td><td></td><td></td><td class="s">        $sth-&gt;bind_columns(\(@row));</td></tr>
<tr><td class="h"><a name="2090"></a>2090</td><td></td><td></td><td></td><td></td><td class="s">        while ($sth-&gt;fetch) {</td></tr>
<tr><td class="h"><a name="2091"></a>2091</td><td></td><td></td><td></td><td></td><td class="s">            my $ref = $rows;</td></tr>
<tr><td class="h"><a name="2092"></a>2092</td><td></td><td></td><td></td><td></td><td class="s">            $ref = $ref-&gt;{$row[$_]} ||= {} for @key_indexes;</td></tr>
<tr><td class="h"><a name="2093"></a>2093</td><td></td><td></td><td></td><td></td><td class="s">            @{$ref}{@$NAME} = @row;</td></tr>
<tr><td class="h"><a name="2094"></a>2094</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2095"></a>2095</td><td></td><td></td><td></td><td></td><td class="s">        return $rows;</td></tr>
<tr><td class="h"><a name="2096"></a>2096</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="2097"></a>2097</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2098"></a>2098</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">    *dump_results = \&amp;DBI::dump_results;</td></tr>
<tr><td class="h"><a name="2099"></a>2099</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2100"></a>2100</td><td></td><td></td><td></td><td></td><td class="s">    sub blob_copy_to_file {        # returns length or undef on error</td></tr>
<tr><td class="h"><a name="2101"></a>2101</td><td></td><td></td><td></td><td></td><td class="s">        my($self, $field, $filename_or_handleref, $blocksize) = @_;</td></tr>
<tr><td class="h"><a name="2102"></a>2102</td><td></td><td></td><td></td><td></td><td class="s">        my $fh = $filename_or_handleref;</td></tr>
<tr><td class="h"><a name="2103"></a>2103</td><td></td><td></td><td></td><td></td><td class="s">        my($len, $buf) = (0, &quot;&quot;);</td></tr>
<tr><td class="h"><a name="2104"></a>2104</td><td></td><td></td><td></td><td></td><td class="s">        $blocksize ||= 512;        # not too ambitious</td></tr>
<tr><td class="h"><a name="2105"></a>2105</td><td></td><td></td><td></td><td></td><td class="s">        local(*FH);</td></tr>
<tr><td class="h"><a name="2106"></a>2106</td><td></td><td></td><td></td><td></td><td class="s">        unless(ref $fh) {</td></tr>
<tr><td class="h"><a name="2107"></a>2107</td><td></td><td></td><td></td><td></td><td class="s">            open(FH, &quot;&gt;$fh&quot;) || return undef;</td></tr>
<tr><td class="h"><a name="2108"></a>2108</td><td></td><td></td><td></td><td></td><td class="s">            $fh = \*FH;</td></tr>
<tr><td class="h"><a name="2109"></a>2109</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2110"></a>2110</td><td></td><td></td><td></td><td></td><td class="s">        while(defined($self-&gt;blob_read($field, $len, $blocksize, \$buf))) {</td></tr>
<tr><td class="h"><a name="2111"></a>2111</td><td></td><td></td><td></td><td></td><td class="s">            print $fh $buf;</td></tr>
<tr><td class="h"><a name="2112"></a>2112</td><td></td><td></td><td></td><td></td><td class="s">            $len += length $buf;</td></tr>
<tr><td class="h"><a name="2113"></a>2113</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="2114"></a>2114</td><td></td><td></td><td></td><td></td><td class="s">        close(FH);</td></tr>
<tr><td class="h"><a name="2115"></a>2115</td><td></td><td></td><td></td><td></td><td class="s">        $len;</td></tr>
<tr><td class="h"><a name="2116"></a>2116</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="2117"></a>2117</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2118"></a>2118</td><td></td><td></td><td></td><td></td><td class="s">    sub more_results {</td></tr>
<tr><td class="h"><a name="2119"></a>2119</td><td></td><td></td><td></td><td></td><td class="s">        shift-&gt;{syb_more_results};        # handy grandfathering</td></tr>
<tr><td class="h"><a name="2120"></a>2120</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="2121"></a>2121</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2122"></a>2122</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="2123"></a>2123</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2124"></a>2124</td><td class="c3">1</td><td class="c3"><span title="Avg 1&micro;s">1&micro;s</span></td><td></td><td></td><td class="s">unless ($DBI::PurePerl) {   # See install_driver</td></tr>
<tr><td class="h"><a name="2125"></a>2125</td><td class="c1">2</td><td class="c1"><span title="Avg 4&micro;s">8&micro;s</span></td><td></td><td></td><td class="s">    { @DBD::_mem::dr::ISA = qw(DBD::_mem::common);        }</td></tr>
<tr><td class="h"><a name="2126"></a>2126</td><td class="c1">2</td><td class="c1"><span title="Avg 4&micro;s">7&micro;s</span></td><td></td><td></td><td class="s">    { @DBD::_mem::db::ISA = qw(DBD::_mem::common);        }</td></tr>
<tr><td class="h"><a name="2127"></a>2127</td><td class="c1">2</td><td class="c2"><span title="Avg 3&micro;s">6&micro;s</span></td><td></td><td></td><td class="s">    { @DBD::_mem::st::ISA = qw(DBD::_mem::common);        }</td></tr>
<tr><td class="h"><a name="2128"></a>2128</td><td></td><td></td><td></td><td></td><td class="s">    # DBD::_mem::common::DESTROY is implemented in DBI.xs</td></tr>
<tr><td class="h"><a name="2129"></a>2129</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="2130"></a>2130</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="2131"></a>2131</td><td class="c3">1</td><td class="c0"><span title="Avg 234&micro;s">234&micro;s</span></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h"><a name="2132"></a>2132</td><td></td><td></td><td></td><td></td><td class="s">__END__</td></tr>
<tr><td class="s"><a name=""></a>&nbsp;</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="DBD_____common__CORE_match"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 48&micro;s within DBD::_::common::CORE:match which was called 30 times, avg 2&micro;s/call:
# 15 times (27&micro;s+0s) by DBD::_::common::install_method at <a href="DBI-pm-1359-line.html#1373">line 1373</a>, avg 2&micro;s/call
# 15 times (21&micro;s+0s) by DBD::_::common::install_method at <a href="DBI-pm-1359-line.html#1376">line 1376</a>, avg 1&micro;s/call</div></div>sub DBD::_::common::CORE:match; # opcode<br />        </td></tr>
<tr><td class="h"><a name="DBD_____common__trace_msg"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 2&micro;s within DBD::_::common::trace_msg which was called:
#    once (2&micro;s+0s) by DBI::END at <a href="DBI-pm-1359-line.html#516">line 516</a></div></div>sub DBD::_::common::trace_msg; # xsub<br />        </td></tr>
<tr><td class="h"><a name="DBI__CORE_match"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 33&micro;s within DBI::CORE:match which was called 126 times, avg 258ns/call:
# 126 times (33&micro;s+0s) by DBI::BEGIN@161 at <a href="DBI-pm-1359-line.html#262">line 262</a>, avg 258ns/call</div></div>sub DBI::CORE:match; # opcode<br />        </td></tr>
<tr><td class="h"><a name="DBI__CORE_subst"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 6&micro;s within DBI::CORE:subst which was called 2 times, avg 3&micro;s/call:
#    once (6&micro;s+0s) by DBI::connect at <a href="DBI-pm-1359-line.html#596">line 596</a>
#    once (900ns+0s) by DBI::install_driver at <a href="DBI-pm-1359-line.html#756">line 756</a></div></div>sub DBI::CORE:subst; # opcode<br />        </td></tr>
<tr><td class="h"><a name="DBI___concat_hash_sorted"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 8&micro;s within DBI::_concat_hash_sorted which was called 4 times, avg 2&micro;s/call:
# 4 times (8&micro;s+0s) by DBD::_::db::prepare_cached at <a href="DBI-pm-1359-line.html#1694">line 1694</a>, avg 2&micro;s/call</div></div>sub DBI::_concat_hash_sorted; # xsub<br />        </td></tr>
<tr><td class="h"><a name="DBI___install_method"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 379&micro;s within DBI::_install_method which was called 104 times, avg 4&micro;s/call:
# 89 times (300&micro;s+0s) by Text::Tradition::Directory::BEGIN@6 at <a href="DBI-pm-1359-line.html#499">line 499</a>, avg 3&micro;s/call
# 15 times (79&micro;s+0s) by DBD::_::common::install_method at <a href="DBI-pm-1359-line.html#1388">line 1388</a>, avg 5&micro;s/call</div></div>sub DBI::_install_method; # xsub<br />        </td></tr>
<tr><td class="h"><a name="DBI___new_handle"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 114&micro;s within DBI::_new_handle which was called 4 times, avg 29&micro;s/call:
# 2 times (52&micro;s+0s) by DBI::_new_sth at <a href="DBI-pm-1359-line.html#1280">line 1280</a>, avg 26&micro;s/call
#    once (40&micro;s+0s) by DBI::_new_drh at <a href="DBI-pm-1359-line.html#1240">line 1240</a>
#    once (23&micro;s+0s) by DBI::_new_dbh at <a href="DBI-pm-1359-line.html#1270">line 1270</a></div></div>sub DBI::_new_handle; # xsub<br />        </td></tr>
<tr><td class="h"><a name="DBI__bootstrap"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 379&micro;s within DBI::bootstrap which was called:
#    once (379&micro;s+0s) by DynaLoader::bootstrap at <a href="DynaLoader-pm-71-line.html#217">line 217 of DynaLoader.pm</a></div></div>sub DBI::bootstrap; # xsub<br />        </td></tr>
<tr><td class="h"><a name="DBI__looks_like_number"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 29&micro;s within DBI::looks_like_number which was called 24 times, avg 1&micro;s/call:
# 24 times (29&micro;s+0s) by DBD::_::st::bind_param_array at <a href="DBI-pm-1359-line.html#1845">line 1845</a>, avg 1&micro;s/call</div></div>sub DBI::looks_like_number; # xsub<br />        </td></tr>
</tbody></table></div>
        
            <script type="text/javascript"> $(document).ready(function() { 

        $("#subs_table").tablesorter({
            sortList: [[3,1]],
            headers: {
                3: { sorter: 'fmt_time' },
                4: { sorter: 'fmt_time' }
            }
        });
    
 } ); </script>
        
        <div class="footer">Report produced by the
        <a href="http://search.cpan.org/dist/Devel-NYTProf/">NYTProf 4.06</a>
        Perl profiler, developed by
        <a href="http://www.linkedin.com/in/timbunce">Tim Bunce</a> and
        <a href="http://code.nytimes.com">Adam Kaplan</a>.
        </div>
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    </body></html>